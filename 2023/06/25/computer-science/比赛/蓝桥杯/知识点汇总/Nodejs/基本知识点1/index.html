<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="yuan" href="https://jyuanhust.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="yuan" href="https://jyuanhust.github.io/atom.xml"><link rel="alternate" type="application/json" title="yuan" href="https://jyuanhust.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://jyuanhust.github.io/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/Nodejs/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/"><title>| Mi Manchi = yuan = Whatever is worth doing at all is worth doing well</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline"></h1><div class="meta"><span class="item" title="创建时间：2023-06-25 00:17:44"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-06-25T00:17:44+08:00">2023-06-25</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>17k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>15 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Mi Manchi</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(16).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(71).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(38).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(51).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(31).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(53).webp"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jyuanhust.github.io/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/Nodejs/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="yuan"><meta itemprop="description" content="Whatever is worth doing at all is worth doing well, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="yuan"></span><div class="body md" itemprop="articleBody"><h2 id="认识-nodejs"><a class="anchor" href="#认识-nodejs">#</a> 认识 Node.js</h2><p><span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL3poLWNuLw==">Node.js</span> 是一门服务器编程语言，它也遵循了 ECMAScript 语法规范，在此规范的基础上加入了 Node.js API，包含处理 http 请求、处理文件、socket 编程等。Node.js API 和 ECMAScript 两者结合组成了 Node.js，完成 Server 端的任何操作，为客户端浏览器进行服务。</p><p>我们快一起去探索 Node.js 的世界吧～</p><h4 id="知识点"><a class="anchor" href="#知识点">#</a> 知识点</h4><ul><li>Node.js 的介绍</li><li>下载和安装 Node.js</li></ul><h3 id="nodejs-的介绍"><a class="anchor" href="#nodejs-的介绍">#</a> Node.js 的介绍</h3><p>在实验介绍中说了，Node.js 是一门服务器编程语言。它发布于 2009 年 5 月，由 Ryan Dahl 开发，也是一个基于 Chrome V8 引擎的 JavaScript 运行环境，使用了一个事件驱动、非阻塞式 I/O 模型，让 JavaScript 运行在服务端的开发平台，它让 JavaScript 成为与 PHP、Python、Perl、Ruby 等服务端语言平起平坐的脚本语言。</p><p>Node.js 有如下特点和优势：</p><ul><li>它是一个 JavaScript 运行环境</li><li>依赖于 Chrome V8 引擎进行代码解析</li><li>事件驱动（event-driven）</li><li>非阻塞 I/O (non-blocking I/O)</li><li>轻量、可伸缩，适于实时数据交互应用</li><li>单进程，单线程</li></ul><p>学到这里有的同学可能有些疑惑，这么多特点都是什么意思呢？Node.js 相对于其他服务器语言，例如 Ruby、Java 又有什么区别和优势呢？别着急，老师马上为大家解答。</p><p>传统的服务器开发语言（例如 java）是多线程的，例如我们在淘宝商城购物，如果只有一个顾客发送请求，那显然是没问题的。但是当有成百上千万的用户同时访问的时候，我们肯定不希望别人买完以后才能轮到自己购买，这显然要等待很长时间。但是如果 CPU 只有一个核心的时候或者 CPU 只有一个线程的时候，确实要等待别人购买完毕以后才能购买。这就像在饭馆吃饭，如果只有一个厨师的话，同一时间只能给一个顾客做菜，这样必须要等待这一个厨师为别人做完菜以后才能为自己做菜。</p><p>为了解决这个问题，我们可以多增加几个厨师来同时为这些顾客做菜，这就是 java 语言的处理方式：使用多线程并发执行，但是这种方式势必会增加聘请厨师的成本和消耗更大的厨房空间，这无疑是一个资源的浪费，而且这种多线程模型，CPU（厨师） 在为客户服务的时候不能做其他的事，例如使用 I/O 读取文件的时候，只能等待文件系统读取文件完毕以后，才能继续做其他事。</p><p>为了解决上述问题 Node.js 应运而生。Node.js 是单线程模型、非阻塞 I/O、采用事件循环机制的原理进行处理。如下图：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547067868.png" alt="1678547067868"></p><p>非阻塞 I/O 的意思就是，文件系统在进行 I/O 操作的时候，Node.js 这个线程还可以做其他的事，当文件系统读取文件完毕时，通过事件的回调函数告诉 Node.js 线程，然后 Node.js 把读取的内容响应给用户。</p><p>Node.js 中的 I/O 操作可以理解成生活中的一个幕后工作者，就像在餐馆点餐这个场景中，饭馆可以直接去把点餐的任务派发给外部擅长做菜、煮饭、酿酒的厂家，这些厂家都是非常擅长这些工作的，Node 中也有各种擅长做某件事的模块。这样当这些幕后的厂家完成这些做菜、饭、酒的事件以后，把做完的饭菜酒等食品交给厨师，然后由厨师统一的让服务员把饭菜交给顾客。这样就大大提高了整个餐馆的运营速度。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547079805.png" alt="1678547079805"></p><p>如果大家还不明白的话，我们再看下一个例子，Node.js 就像国王，国王每天都在写任务清单，然后派发给大臣。大臣把任务清单交给下面的官员去做，而这个时候国王还是可以继续写任务清单的。当官员完成任务这个事件后，统一的任务结果交给国王（以事件回调函数的形式通知 Node.js）。此事件反复进行，这便是事件循环。所以说除了国王（Node.js）线程以外，每件事都是并行发生的，这便是 Node.js 单线程和事件循环能同时处理多个请求的原理。</p><h3 id="在-window-和-mac-中下载和安装-nodejs"><a class="anchor" href="#在-window-和-mac-中下载和安装-nodejs">#</a> 在 Window 和 Mac 中下载和安装 Node.js</h3><h4 id="下载-nodejs"><a class="anchor" href="#下载-nodejs">#</a> 下载 Node.js</h4><p>点击 <span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==">Node 官网</span> 进入 <code>Node</code> 官方网站，效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547104070.png" alt="1678547104070"></p><p>网站自动识别系统为 <code>Windows</code> ，默认给出了 <code>Windows</code> 的 <code>Node</code> 下载地址，如果使用 <code>Mac</code> 电脑访问则自动识别系统为 <code>Mac</code> 系统，自动给出 Mac 版下载地址。这里给出了两个版本的下载地址：</p><p>一.14.17.3 LTS 版（左侧）</p><p>即 Long Time Support 版（长时间支持版），即稳定版。</p><p>二.16.4.2 Current （右侧）</p><p>即最新版，包含最新的特性，但不稳定。</p><p>这里推荐下载 LTS 长时间支持版，点击 14.17.3 LTS 进行下载，下载后的文件如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547119373.png" alt="1678547119373"></p><p>另： <code>Mac</code> 下载相应 <code>Mac</code> 版本即可。</p><h4 id="安装"><a class="anchor" href="#安装">#</a> 安装</h4><p><code>windows</code> 和 <code>Mac</code> 下都是直接双击安装文件，一路下一步即可。</p><h4 id="查看是否安装成功"><a class="anchor" href="#查看是否安装成功">#</a> 查看是否安装成功</h4><p>安装完成后，使用 <code>cmd</code> 进入到控制台，输入如下命令测试 <code>Node</code> 是否安装成功。</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>node <span class="token operator">-</span> v<span class="token punctuation">;</span> <span class="token comment">// 查看 node 版本</span></pre></td></tr><tr><td data-num="2"></td><td><pre>npm <span class="token operator">-</span> v<span class="token punctuation">;</span> <span class="token comment">// 查看 npm 版本</span></pre></td></tr></table></figure><p>如果看到如下版本信息，则表示 <code>Node</code> 安装成功。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547133917.png" alt="1678547133917"></p><blockquote><p>需要说明的是：本课程是基于 node v14+ 的版本，低于该版本，请自行更新至对应版本中。</p></blockquote><p>安装 <code>Node</code> 的时候会同时帮我们安装 <code>npm (Node Package Manager)</code> 即 <code>Node</code> 包管理工具，用于下载依赖的 <code>node</code> 包。</p><h3 id="linux-版-node-下载和安装"><a class="anchor" href="#linux-版-node-下载和安装">#</a> linux 版 Node 下载和安装</h3><p>打开我们的实验环境，在右侧控制台中输入如下命令：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">node</span> <span class="token parameter variable">-v</span></pre></td></tr></table></figure><p>效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547168258.png" alt="1678547168258"></p><p>发现我们并没有安装 <code>Node</code> 就已经出现了 <code>Node</code> 版本，原因是我们的实验环境中已经默认安装了 <code>Node 14.15.1</code> 版。</p><p>下面给大家讲解一下 <code>linux</code> 下 <code>Node.js</code> 的下载和安装。</p><h4 id="下载"><a class="anchor" href="#下载">#</a> 下载</h4><p>进入 <span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==">Node 官网</span> 点击下图中的 <code>Downloads</code> 。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547180174.png" alt="1678547180174"></p><p>在弹出的界面中显示的 Node 的全部下载版本，这里我们下载 <code>Linux Binaries（x64</code> 版。见下图：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547191674.png" alt="1678547191674"></p><p>同学们也可以使用下列命令直接下载我们云服务器上的 <code>Linux Node</code> 安装文件。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">wget</span> https://labfile.oss.aliyuncs.com/courses/4380/node-v14.17.3-linux-x64.tar.xz</pre></td></tr></table></figure><p>使用上述命令下载后效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547203897.png" alt="1678547203897"></p><p>然后使用如下命令进行解压缩：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> node-v14.17.3-linux-x64.tar.xz</pre></td></tr></table></figure><p>解压后效果如下</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547212841.png" alt="1678547212841"></p><p>解压完毕后就可以把 <code>node-v14.17.3-linux-x64.tar.xz</code> 文件删除了。</p><p>然后使用如下命令对解压后的 node 文件夹进行改名：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">mv</span> node-v14.17.3-linux-x64 <span class="token function">node</span></pre></td></tr></table></figure><p>改名后效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547228991.png" alt="1678547228991"></p><p>这时再次输入 <code>node -v</code> 查看版本，发现版本仍然是 14.15.1。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547239212.png" alt="1678547239212"></p><p>说明我们的 <code>Node</code> 安装并没有完成，如果想使用最新安装的 14.17.3 版，需要使用以下命令。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> node/bin</pre></td></tr><tr><td data-num="2"></td><td><pre>./node <span class="token parameter variable">-v</span></pre></td></tr></table></figure><p>注意这里是使用./node 来使用当前路径下的 <code>node</code> 命令，效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547250037.png" alt="1678547250037"></p><p>发现版本为 14.17.3 ，说明我们已经使用了自己下载的最新版本的 Node，但是每次都需要进入到 <code>Node</code> 安装路径的 <code>bin</code> 路径下才能使用 <code>Node</code> 命令，比较麻烦。如何能让我们在系统的任何地方都能使用最新安装的 <code>Node</code> 呢？这里需要修改我们的环境变量 <code>PATH</code> ， 把 <code>node/bin</code> 这个路径添加到 <code>PATH</code> 下。</p><h4 id="修改环境变量-path"><a class="anchor" href="#修改环境变量-path">#</a> 修改环境变量 PATH</h4><p>为了在全局使用最新安装的 <code>Node</code> ，我们还需要修改一个配置文件 <code>~/.zshrc</code> 。</p><p><code>PATH</code> 作用：当我们在控制台输入命令的时候（例如 node -v），系统是去 <code>PATH</code> 环境变量下配置的路径中寻找这个命令是否存在，查找的路径顺序为从左到右依次查找（linux 路径分隔符为 ：）。如果发现对应的 <code>PATH</code> 路径下有 <code>node</code> 命令就会使用，否则就会报错。</p><p>首先使用下列命令查看我们的环境变量：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">env</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">node</span></pre></td></tr></table></figure><p>效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547269422.png" alt="1678547269422"></p><p>发现 <code>PATH</code> 中有 <code>/usr/sbin/nodejs/bin</code> ，这个路径就是我们实验环境默认安装的 <code>14.15.1</code> 的 Node 安装路径，如果想让我们新安装的 Node 优先执行的话，只需要把新版本 Node 的安装路径下的 bin 路径放到 <code>/usr/sbin/nodejs/bin</code> 路径前即可。</p><p>使用下列命令修改 <code>~/.zshrc</code> 。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">vim</span> ~/.zshrc</pre></td></tr></table></figure><p>使用 <code>i</code> 进入插入模式，在文件最后加入如下内容：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/home/project/node/bin:<span class="token environment constant">$PATH</span></pre></td></tr></table></figure><p>然后输入 ESC 回到普通模式，输入 <code>:</code> 进入命令模式，然后 输入 <code>wq</code> 进行保存。修改完成的文件并不会马上生效，需要使用如下命令让刚才配置的环境变量生效。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">source</span> ~/.zshrc</pre></td></tr></table></figure><p>最后输入 <code>node -v</code> 重新查看 <code>node</code> 版本，效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678547283869.png" alt="1678547283869"></p><p>发现现在全局使用的已经是我们最新安装的 <code>node</code> 了。</p><h2 id="web-请求"><a class="anchor" href="#web-请求">#</a> Web 请求</h2><p>HTTP 协议（Hyper Text Transfer Protocol）是超文本传输协议，它是基于请求 - 响应的一个协议，即客户端浏览器给服务器发送一个 HTTP 请求，然后服务器对客户端的请求作出响应。我们开发的基于浏览器的 B/S 架构的程序都是基于 HTTP 协议（也有 HTTPS）的，例如登录、注册、查询商品等。</p><p>当用户在 URL 中输入一个网址到看到页面，大体经过如下几步：</p><ul><li>DNS 解析，建立 TCP 连接，发送 HTTP 请求。</li><li>Server 端接收 HTTP 请求，处理，返回结果。</li><li>客户端接收到返回数据，进行页面渲染显示内容。</li></ul><p>本节实验要给同学介绍的就是发送请求最常用的两种方式，GET 和 POST。</p><p>我们快一起去学习吧！</p><h4 id="知识点-2"><a class="anchor" href="#知识点-2">#</a> 知识点</h4><ul><li>GET 请求</li><li>POST 请求</li></ul><h3 id="处理-get-请求"><a class="anchor" href="#处理-get-请求">#</a> 处理 GET 请求</h3><p>通过浏览器向服务器发送请求的常用方式分为两种，一种是 <code>GET</code> 方式，另一种是 <code>POST</code> 方式，前者请求的安全性不高，常用于查询的操作，如查询用户信息、查询博客信息等。</p><p>GET 请求传递参数是在 URL 后面加入一个 &quot;?&quot; ，然后在 &quot;?&quot; 后面加入想要传递的参数，多个参数之间用 &quot;&amp;&quot; 隔开。格式如下：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>http://localhost:8000/index?id<span class="token operator">=</span><span class="token number">1001</span><span class="token operator">&amp;</span><span class="token assign-left variable">name</span><span class="token operator">=</span>abc</pre></td></tr></table></figure><p>首先在右侧控制台中输入以下命令来初始化 npm 环境，初始化完成后会生成一个 package.json 文件。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> init <span class="token parameter variable">-y</span></pre></td></tr></table></figure><p>在 <code>project</code> 文件夹下，新建 <code>index.js</code> 文件，并加入下列代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token string-property property">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"text/html;charset=utf-8"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token comment">// 通过请求对象获取完整的请求地址并保存在变量 url 中</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">let</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">"x-scheme"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"://"</span> <span class="token operator">+</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>host <span class="token operator">+</span> req<span class="token punctuation">.</span>url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token comment">// 将变量传入实例化方法中，并实例化一个 URL 对象</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">const</span> myURL <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">let</span> params <span class="token operator">=</span> myURL<span class="token punctuation">.</span>searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 服务侦听 8080 端口</span></pre></td></tr><tr><td data-num="13"></td><td><pre>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"服务器运行在 8080 端口..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在本示例中代码解析如下：</p><ul><li><p>定义一个变量 <code>url</code> 用于保存 <code>req</code> 对象请求的完整地址，其中 <code>req.headers['x-scheme']</code> 返回请求协议名称，如 <code>http</code> 或 <code>https</code> ，而 <code>req.headers.host</code> 返回请求的域名和端口， <code>req.url</code> 返回请求的详细路径，包含查询字符串。</p></li><li><p>获取并保存完整的请求地址后，实例化一个 <code>URL</code> 对象，在实例化对象的方法中，可以传递两个参数，第一个参数是必选项，表示要解析的绝对或相对的网址，第二个参数是可选项，表示要解析的基础网址，如果第一个参数是绝对地址，则第二个可以省略，如本示例中的代码；如果第一个对数是相对地址，则第二个参数必须添加请求地址的协议名称、域名和端口。</p></li><li><p>如果将示例中绝对的请求地址修改成相对地址，那么在实例化 <code>URL</code> 对象时，代码修改如下所示：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 通过请求对象获取相对请求路径并保存在变量 url 中</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span>url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 在实例化过程中，通过第二个参数添加请求协议的名称、域名和端口</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> myURL <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  url<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">"x-scheme"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"://"</span> <span class="token operator">+</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>host</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>这两种代码实现的方式在使用时，结果都是一样的，但在实际运用时，传入完整的请求地址，使用会更多些。</p></li></ul><p>在控制台中输入以下命令运行该程序。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">node</span> index.js</pre></td></tr></table></figure><p>然后点击右侧的 “Web 服务”，并在 <code>simplelab.cn</code> 地址后加入 <code>?id=1001&amp;name=abc</code> ，刷新页面，效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414567270.png" alt="1678414567270"></p><p>页面中显示的内容就是以字符串形式输出的 GET 请求参数，如果需要使用，也可以通过指定参数名称获取对应的值。</p><p>它这里不是实时刷新的，当修改了服务器端的代码，就需要重新运行代码。</p><p><code>res.write()</code> 传入的是字符串，没有自动换行。</p><h3 id="处理-post-请求"><a class="anchor" href="#处理-post-请求">#</a> 处理 POST 请求</h3><p>相对于 <code>GET</code> 方式请求， <code>POST</code> 请求在传输数据时，要安全很多，因此，常用用于数据的添加、删除、修改操作，例如新建博客、删除博客、修改博客等就会使用到 <code>POST</code> 请求。</p><p>在 <code>URL</code> 中输入地址直接访问属于 <code>GET</code> 请求，而 <code>POST</code> 请求则常用于表单数据的提交，先在 <code>form</code> 中设置 <code>method=post</code> ，当用户点击提交表单按钮时就会发送一个 <code>POST</code> 请求，并把表单中用户填入的数据传递给服务器。但是手工编写表单的代码显然比较麻烦，有没有一种更加简单的方式发送 <code>POST</code> 请求呢？</p><p>答案是有的。可以使用 <code>Postman</code> 这个工具来帮助我们发送 <code>POST</code> 请求。</p><h3 id="postman-下载安装"><a class="anchor" href="#postman-下载安装">#</a> Postman 下载安装</h3><p>首先在右侧桌面环境打开 Firefox 浏览器，然后在 URL 地址栏中输入 <code>http://postman.com/downloads</code> 进入到下载页面。系统自动识别下载 linux 版本的 <code>postman</code> 。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414650452.png" alt="1678414650452"></p><p>然后单击 <code>Download the App</code> 按钮进行下载，在弹出的界面中选择 Linux 64-bit 下载（如下图）。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414660754.png" alt="1678414660754"></p><p>单击” 保存文件” 按钮进行保存，如下图。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414733986.png" alt="1678414733986"></p><p>下载完毕后右上角会提示 “已完成”。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414792019.png" alt="1678414792019"></p><p>然后点击 “显示全部下载” 会弹出以下界面。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414801050.png" alt="1678414801050"></p><p>点击 “打开所在文件夹”，然后右键点击 <code>Postman-linux-x86_64-8.11.1.tar.gz</code> 文件重命名为 <code>postman.tar.gz</code> ，然后使用鼠标把该文件拖拽到左侧 <code>shiyanlou</code> 目录下。然后在实验楼路径中点击右键，选择 “在此打开终端”（如下图）。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414811457.png" alt="1678414811457"></p><p>然后在终端中输入如下命令进行解压。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> postman.tar.gz</pre></td></tr></table></figure><p>使用如下命令启动 postman</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>./Postman/Postman</pre></td></tr></table></figure><p>启动后点击左上角的 &quot;File&quot;---&quot;new&quot; 新建一个窗口，效果如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414822977.png" alt="1678414822977"></p><p>然后申请一个 <code>Postman</code> 账号并点击 <code>Sign in</code> 登录（此过程不再截图，同学们自行完成）。登录成功后如下图，然后点击 <code>Create new</code> 。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414833127.png" alt="1678414833127"></p><p>在弹出的界面中点击 <code>HTTP Request</code> ，如下图：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414848301.png" alt="1678414848301"></p><p>如果想发送 <code>HTTP</code> 请求还需要装一个 <code>Postman</code> 客户端才能正常发送请求。使用下列命令下载 <code>Postman</code> 客户端。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /home/shiyanlou</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">wget</span> https://labfile.oss.aliyuncs.com/courses/4380/postmanAgent.tar.gz</pre></td></tr></table></figure><p>注意：如果想复制如上命令到云课桌面环境进行粘贴的话，可以借助右侧 “剪切板” 功能。先复制好想要粘贴的命令，然后点击右侧 “剪切板”，把复制的内容粘贴到剪切板中，然后点击保存即可（如下图），然后就可以在云课桌面环境中进行粘贴了。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414863584.png" alt="1678414863584"></p><p>下载完毕后截图如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414872283.png" alt="1678414872283"></p><p>然后使用如下命令进行解压安装。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /home/shiyanlou</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> postmanAgent.tar.gz</pre></td></tr></table></figure><h3 id="编写代码处理-post-请求"><a class="anchor" href="#编写代码处理-post-请求">#</a> 编写代码处理 POST 请求</h3><p>然后在 <code>/home/shiyanlou/</code> 路径下新建 <code>index.js</code> 文件，然后编写代码如下：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">"POST"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"content-type:"</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">"content-type"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取请求类型 application/json</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">// 读 post 数据</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">let</span> postData <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment">//postData 用来存储传递给服务器的全部数据</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 分段循环传输数据，每次传递数据都会执行后面的回调函数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      postData <span class="token operator">+=</span> chunk<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//chunk 是二进制数据 所以要把它转换成字符串</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment">// 当数据传输完毕会执行 end 事件后的回调函数</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"end"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"postData:"</span><span class="token punctuation">,</span> postData<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在这里返回因为是异步</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里先被打印 因为上面的代码是异步的</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"服务器运行在 8080 端口..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在终端中输入以下命令运行该程序。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /home/shiyanlou</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">node</span> index.js</pre></td></tr></table></figure><p>最终效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414898104.png" alt="1678414898104"></p><p><code>res.end()</code> 可以传入字符串作为参数，也可以不传入，所谓结束返回的标志。</p><h4 id="使用-postman-发送-post-请求"><a class="anchor" href="#使用-postman-发送-post-请求">#</a> 使用 Postman 发送 POST 请求</h4><p>然后打开刚才的 <code>Postman</code> 界面，根据下图依次选择 <code>POST</code> 请求，输入请求地址 <code>http://localhost:8080</code> 。然后点击 <code>Body</code> ，选择 <code>raw&lt;span&gt; &lt;/span&gt;</code> 和 <code>JSON</code> ，输入发送的内容后点击 <code>Send</code> 按钮。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414908524.png" alt="1678414908524"></p><p>当看到上图中的返回内容 <code>Hello</code> 时，说明程序已经调试成功了，控制台输出如下：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414918300.png" alt="1678414918300"></p><h3 id="实验总结"><a class="anchor" href="#实验总结">#</a> 实验总结</h3><p>本节实验给大家介绍了两种最常用的 Web 请求，分别是 GET 和 POST。这里我们来总结一下：前者的链接中包含请求参数，安全系数低于 POST 请求。但 GET 请求也有自己的用处，比如查询操作时，显然 GET 请求是不错的选择。</p><h2 id="初始化路由"><a class="anchor" href="#初始化路由">#</a> 初始化路由</h2><h4 id="知识点-3"><a class="anchor" href="#知识点-3">#</a> 知识点</h4><ul><li>认识路由</li><li>配置路由</li><li>访问路由</li><li>路由开发</li></ul><h3 id="认识路由"><a class="anchor" href="#认识路由">#</a> 认识路由</h3><p>路由，顾名思义，它是指路径的指向或由来，即访问一个地址后它的指向，确定地址指向后，将会根据不同的路由地址，编写相应的代码，如下图所示。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414985242.png" alt="1678414985242"></p><p>一次地址的指向，实质上是一次数据请求的过程，在这种请求的过程中，还可以携带请求的方式，如 POST 或 GET，同时，也可以携带请求的参数，根据这些请求携带的方式和参数，即使是同一个地址，也可以执行不同的代码，如下图所示。</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678414998063.png" alt="1678414998063"></p><p>借助路由的这些特性，被广泛地应用于项目中各页面的切换，数据接口的请求，因此，路由是项目开发中必须要掌握的内容。在理解了它的重要性之后，如何去配置一个路由呢？带着这个问题，下面来说路由的配置方法。</p><h3 id="配置路由"><a class="anchor" href="#配置路由">#</a> 配置路由</h3><p>在 <code>node</code> 中配置路由十分简单，首先，使用以下命令下载搭建好的开发环境项目包，地址如下所示。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">wget</span> https://labfile.oss.aliyuncs.com/courses/4380/router.zip <span class="token operator">&amp;&amp;</span> <span class="token function">unzip</span> router.zip</pre></td></tr></table></figure><p>然后，解压该项目包至 <code>project</code> 文件夹中，并打开项目包 <code>router</code> 文件夹，找到 <code>bin</code> 文件夹，在该文件夹下，创建一个名称为 <code>reqRouters</code> 的 js 文件，加入如下所示的代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">reqRouters</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">"/aa"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> <span class="token string">"首页"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">"/bb"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">return</span> <span class="token string">"列表页"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">"/cc"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">return</span> <span class="token string">"详细页"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> reqRouters<span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，定义了一个名称为 <code>reqRouters</code> 函数，函数中，参数 <code>req</code> 表示请求时携带的对象，用于创建服务请求时的回调函数使用，在这个 <code>req</code> 对象中，通过 <code>path</code> 可以获取到请求时的路由地址，根据获取的不同地址，返回不同的内容，最后，输出这个名称为 <code>reqRouters</code> 的函数。</p><p>接下来，再次找到 <code>bin</code> 文件夹，打开名称为 <code>app</code> 的 js 文件，删除原有的内容，加入如下所示的代码。</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> reqRouters <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./reqRouters"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">serverHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  req<span class="token punctuation">.</span>path <span class="token operator">=</span> req<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">reqRouters</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token string-property property">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"text/plain"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"404 Not Found\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> serverHandle<span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，首先，使用 <code>require</code> 输入 <code>reqRouters</code> 模块，用于获取请求输出的内容，其次，定义一个名称为 <code>serverHandle</code> 的函数，用于服务创建时的回调，在该函数中，向 <code>reqRouters</code> 函数传入请求的路由地址，获取输出的内容并保存至变量 <code>result</code> 中，最后，判断变量 <code>result</code> 中是否有内容，如果有，则直接输出在页面中，否则，在页面中输出 &quot;404 Not Found&quot; 的信息。</p><p>最后，找到 <code>bin</code> 文件夹，打开名称为 <code>index</code> 的 js 文件，删除原有的内容，加入如下所示的代码。</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> serverHandle <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">8080</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>serverHandle<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"服务器运行在 8080 端口..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，首先，分别导入 <code>http</code> 和 <code>serverHandle</code> 模块，前者用于创建一个新的服务，是 <code>node</code> 自带模块， 后者用于创建服务后的回调函数，当服务创建成功后，使用 <code>listen</code> 方法，在指定的 8080 端口下侦听，当服务启动后，就可以在浏览器的地址栏中，根据启动的地址和端口访问这个服务了，由于配置的路由在服务中，这时，就可以按配置的路由访问页面了 🤪</p><h3 id="访问路由"><a class="anchor" href="#访问路由">#</a> 访问路由</h3><p>要访问路由，需要先启动服务，因此，首先，在项目文件夹 <code>router</code> 下，打开终端界面，并输入如下指令。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> run dev</pre></td></tr></table></figure><p>服务启动后的界面效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415045353.png" alt="1678415045353"></p><p>当服务成功启动后，就可以在浏览器中，根据指定的地址和端口，访问相应的页面内容，效果如下所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415054481.png" alt="1678415054481"></p><p>当在浏览器地址栏中输入 <code>localhost:8080/aa</code> 时，它的 <code>url.path</code> 值为 '/a' ，传给 <code>reqRouters</code> 函数后，则返回 &quot;首页&quot; 字符，因此，页面中输出 &quot;首页&quot; 内容，其他输入地址依此类推，根据不同的 <code>url.path</code> 值，向页面输出不同的内容，最终实现路由的功能。</p><h3 id="路由开发"><a class="anchor" href="#路由开发">#</a> 路由开发</h3><h4 id="获取请求方式"><a class="anchor" href="#获取请求方式">#</a> 获取请求方式</h4><p>在发送一次请求时，不同的请求方式，将会返回不同的数据，目前常用的请求方式分为 <code>GET</code> 和 <code>POST</code> 两种，前者常用于查询请求，后者用于增加、修改和删除的请求，那么，在 <code>node</code> 中，如何获取路由中的请求方式呢？下面通过一个示例来进行说明。</p><p>首先，使用以下命令获取搭建好的路由初始化项目包，地址如下所示。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">wget</span> https://labfile.oss.aliyuncs.com/courses/4380/router-param.zip <span class="token operator">&amp;&amp;</span> <span class="token function">unzip</span> router-param.zip</pre></td></tr></table></figure><p>打开项目包 <code>router-param</code> 中的 <code>bin</code> 文件夹，在该文件夹下，找到并打开名称为 <code>reqRouters</code> 的 js 文件，删除原有的代码，加入如下所示的代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">reqRouters</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">"GET"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"这是一次 GET 方式请求"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">"POST"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"这是一次 POST 方式请求"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> reqRouters<span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，首先，通过 <code>req</code> 对象中的 <code>method</code> 属性获取到服务请求的方式，然后根据不同的请求方式，返回不同的文字内容，最后，输出这个名称为 <code>reqRouters</code> 的函数。</p><p>修改完成后，在项目文件夹 <code>router-param</code> 下，打开终端界面，并输入如下指令。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> run dev</pre></td></tr></table></figure><p>服务启动后的界面效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415080554.png" alt="1678415080554"></p><p>当服务成功启动后，就可以在浏览器中，根据指定的地址和端口，访问相应的页面内容，由于是以 <code>GET</code> 和 <code>POST</code> 发送请求，因此，需要借助之前安装好的 <code>Postman</code> 工具，更多与 <code>Postman</code> 相关的内容，请点击 👉<span class="exturl" data-url="aHR0cHM6Ly93d3cucG9zdG1hbi5jb20v">参阅资料</span>， 其实现的效果分别如下：</p><ul><li>如果是 <code>GET</code> 方式请求，则返回 &quot;这是一次 GET 方式请求&quot; 内容，如下图所示。</li></ul><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415091409.png" alt="1678415091409"></p><ul><li>如果是 <code>POST</code> 方式请求，则返回 &quot;这是一次 POST 方式请求&quot; 内容，如下图所示。</li></ul><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415106929.png" alt="1678415106929"></p><p>在上述效果示意图中，我们看到，通过 <code>req</code> 对象中的 <code>method</code> 属性可获取每次请求的方式，除获取每次请求的方式之外，还可以获取路由中传递的参数值，根据请求方式的不同，获取的方式也不一样，接下来，我们先来介绍获取 <code>GET</code> 方式传入的参数值。</p><h3 id="获取-get-方式传参"><a class="anchor" href="#获取-get-方式传参">#</a> 获取 GET 方式传参</h3><p>在进行 <code>GET</code> 方式请求时，如果需要传递参数值，通常添加在 <code>url</code> 的后面，使用 <code>?</code> 进行标记，通过 <code>key=value</code> 的形式进行设置，多个参数值之间使用 <code>&amp;</code> 进行连接，如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415126101.png" alt="1678415126101"></p><p>获取 <code>GET</code> 方式传参的过程实质是根据参数名称，获取对应值的过程，在这个过程中，先将传入的地址作为参数，实例化一个 <code>URL</code> 对象，然后通过该对象获取表示网址查询参数的 <code>searchParams</code> 对象，最后，在 <code>searchParams</code> 对象中，根据传入参数名称，获取对应的值，接下面我们通过一个示例来演示参数值获取的过程。</p><p>打开项目包 <code>router-param</code> 中的 <code>bin</code> 文件夹，在该文件夹下，找到并打开名称为 <code>reqRouters</code> 的 js 文件，删除原有的代码，加入如下所示的代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 引入 url 模块</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">reqRouters</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">"GET"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">const</span> myURL <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">let</span> params <span class="token operator">=</span> myURL<span class="token punctuation">.</span>searchParams<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token keyword">return</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>      <span class="token keyword">return</span> <span class="token string">"没有传入相应参数！"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> reqRouters<span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，首先判断请求否是为 <code>GET</code> 方式 ，如果是，则实例化一个 <code>URL</code> 对象，在实例化过程中，需要传入两个参数，第一个参数是请求的 <code>url</code> 地址，通过 <code>req.url</code> 获取，第二个参数是 <code>base</code> 表示要解析的基本网址，包括地址的域名和端口，如果 <code>url</code> 地址是相对的，则需要添加第二个参数，如果是绝对的，则可以省略第二个参数。</p><p>在上述代码中，通过这个实例化后的 <code>URL</code> 对象，将保存网址查询参数的 <code>searchParams</code> 对象赋值给变量 <code>params</code> ，然后再判断 <code>params</code> 中是否存在对应参数名称的值，如果存在，则返回该对应值，否则，返回 &quot;没有传入相应参数！&quot; 的错误信息。</p><p>修改完成后，在项目文件夹 <code>router-param</code> 下，打开终端界面，并输入如下指令。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> run dev</pre></td></tr></table></figure><p>当服务成功启动后，借助之前安装好的 <code>Postman</code> 工具，使用 <code>GET</code> 方式，在当前域名下，首先请求一个指定参数名称和值的地址，然后请求一个不传参数的地址，在点击 &quot;发送&quot; 按钮后，其实现的效果分别如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415140910.png" alt="1678415140910"></p><p>在上述效果示意图中，我们看到，路由中传入的两项参数都获取成功，相比获取 <code>GET</code> 方式传入的参数值而言，获取 <code>POST</code> 方式传入的参数值就要复杂很多，接下来我们再来说下获取 <code>POST</code> 方式传入参数值。</p><h3 id="获取-post-方式传参"><a class="anchor" href="#获取-post-方式传参">#</a> 获取 POST 方式传参</h3><p>相对于使用 <code>GET</code> 方式请求而言，使用 <code>POST</code> 方式更加安全，因此，常用于增加、修改和删除数据的操作，使用 <code>POST</code> 方式传参时，携带的请求数据并不在路由中，而是在请求对象中，因此，需要绑定请求过程的两个事件，一个是 <code>data</code> 事件，在该事件中获取并累加每次请求传入的参数值， 另一个是 <code>end</code> 事件，该事件在请求结束时触发，在事件中处理累加后的请求参数，并输出至页面中，接下面我们通过一个示例来演示参数值获取的过程。</p><p>打开项目包 <code>router-param</code> 中的 <code>bin</code> 文件夹，在该文件夹下，找到并打开名称为 <code>index</code> 的 js 文件，删除原有的代码，加入如下所示的代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">serverHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">"POST"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">var</span> strPOST <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 绑定数据请求事件，每当接受到请求体的数据，就累加到 strPOST 变量中</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      strPOST <span class="token operator">+=</span> chunk<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 绑定数据请求结束事件，向页面输出指定的参数值</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"end"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>      <span class="token keyword">let</span> objPOST <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>strPOST<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span>objPOST<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> objPOST<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">const</span> result <span class="token operator">=</span> objPOST<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> objPOST<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"没有传入相应参数！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>      <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">8080</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>serverHandle<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"服务器运行在 8080 端口..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，首先判断请求否是为 <code>POST</code> 方式 ，如果是，则分别绑定请求时的两个事件，一个是 <code>data</code> 事件，在该事件中，将每次发送参数值累加并保存在变量 <code>strPOST</code> 中， 另一个是 <code>end</code> 事件，在该事件中 ，当请求结束后，将传入并累加后的参数解析为查询字符串，并使用它来实例化新的 <code>URLSearchParams</code> 对象，最后，在 <code>URLSearchParams</code> 对象中，先判断传入的参数名称是否存在获取对应的值，如果存在，则并输出到页面中，否则，向页面输出 &quot;没有传入相应参数！&quot; 的错误信息。</p><p>修改完成后，在项目文件夹 <code>router-param</code> 下，打开终端界面，并输入如下指令。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> run dev</pre></td></tr></table></figure><p>当服务成功启动后，借助之前安装好的 <code>Postman</code> 工具，使用 <code>POST</code> 方式，请求一个当前域名下指定参数名称和值的地址，点击 &quot;发送&quot; 按钮后，其实现的效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415165507.png" alt="1678415165507"></p><h2 id="nodejs-文件操作"><a class="anchor" href="#nodejs-文件操作">#</a> Node.js 文件操作</h2><p>我们知道，在前端在开发时，JavaScript 是一种依赖浏览器解析的语言，在访问文件时，需要依赖浏览器的兼容性，操作文件的能力很弱 ，而 <code>Node</code> 则这方面有很强的能力，那么，它是如何操作一个文件的呢？带着这个问题，我们快速地进入到今天的学习中来吧！</p><h4 id="知识点-4"><a class="anchor" href="#知识点-4">#</a> 知识点</h4><ul><li>文件读取操作</li><li>文件写入操作</li><li>删除文件操作</li></ul><h3 id="文件读取操作"><a class="anchor" href="#文件读取操作">#</a> 文件读取操作</h3><p>在 <code>node</code> 中，如果要读取一个文件，就必须引入一个名称为 <code>fs</code> 的模块，而 <code>fs</code> 是 <code>file-system</code> 的简写，表示文件系统，在该模块中提供了全部操作文件的方法，因此，如果想去读取一个文件，必须先导入该模块，代码如下所示。</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>完成模块导入之后，就可以使用该模块中读取文件的方法 <code>fs.readFile()</code> ，该方法是一个异步读取文件的方法，它的调用格式如下所示：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span></pre></td></tr></table></figure><p>在上述格式中，第一个参数 <code>path</code> 表示读取文件的路径，通常是一个相对路径，如 &quot;./public/msg.txt&quot;，第二个参数 <code>options</code> 是一个可选项，在该项中可以设置读取文件时的编码格式 <code>encoding</code> ，文件打开的行为 <code>flag</code> ，允许中止正在进行的读取文件 <code>signal</code> ，其中 <code>flag</code> 包含多种方式，具体如下表所示：</p><p>（诶？这都已经是 readFile 了，那么为什么要写这些 flag 呢？不就是 r 了吗）</p><table><thead><tr><th>flag 名称</th><th>描述</th></tr></thead><tbody><tr><td>a</td><td>打开文件进行追加。 如果文件不存在，则创建该文件。</td></tr><tr><td>ax</td><td>类似于 <code>a</code> 但如果路径存在则失败。</td></tr><tr><td>a+</td><td>打开文件进行读取和追加。 如果文件不存在，则创建该文件。</td></tr><tr><td>ax+</td><td>类似于 <code>a+</code> 但如果路径存在则失败。</td></tr><tr><td>as</td><td>以同步模式打开文件进行追加。 如果文件不存在，则创建该文件。</td></tr><tr><td>as+</td><td>以同步模式打开文件进行读取和追加。 如果文件不存在，则创建该文件。</td></tr><tr><td>r</td><td>打开文件进行读取。 如果文件不存在，则会发生异常。</td></tr><tr><td>r+</td><td>打开文件进行读写。 如果文件不存在，则会发生异常。</td></tr><tr><td>rs+</td><td>以同步模式打开文件进行读写。 指示操作系统绕过本地文件系统缓存。</td></tr><tr><td>w</td><td>打开文件进行写入。 如果它不存在则创建，如果它存在则截断该文件。</td></tr><tr><td>wx</td><td>类似于 <code>w</code> 但如果路径存在则失败。</td></tr><tr><td>w+</td><td>打开文件进行读写。 如果它不存在则创建，如果它存在则截断该文件。</td></tr><tr><td>wx+</td><td>类似于 <code>w+</code> 但如果路径存在则失败。</td></tr></tbody></table><p>第三个参数 <code>callback</code> 是一个回调函数， 在回调函数中，传入了两个参数，一个参数的名称为 <code>error</code> ，表示文件未读取成功时的错误信息，另一个参数的名称为 <code>data</code> ，表示文件读取成功时的内容信息，接下来通过一个示例来演示文件读取的过程。</p><p>找到并打开 <code>project</code> 文件夹，在该文件夹下，创建一个名称为 <code>public</code> 的文件夹，在 <code>public</code> 文件夹中，新建一个名称为 <code>msg</code> 的记事本文件，打开该文件，添加下列文字内容并保存。</p><figure class="highlight txt"><figcaption data-lang="txt"></figcaption><table><tr><td data-num="1"></td><td><pre>蓝桥，一个学习知识的好地方！</pre></td></tr><tr><td data-num="2"></td><td><pre>          --程序员寄语--</pre></td></tr></table></figure><p>再次找到并打开 <code>project</code> 文件夹，在该文件夹下，新建一个名称为 <code>readfile</code> 的 js 文件，打开该文件，并添加下列代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 导入 fs 模块</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 调用模块中异步读取文件的方法</span></pre></td></tr><tr><td data-num="5"></td><td><pre>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">"./public/msg.txt"</span><span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，先导入 <code>fs</code> 模块，再调用模块中的异步读取文件的方法 <code>readFile</code> ，以 &quot;utf-8&quot; 的编码格式，读取记事本 <code>msg</code> 文件中的内容，在方法的回调函数中，如果出现错误，则返回相关的错误信息，如果没有出现错误，在控制台输出读取到的文件内容。最后，在 <code>project</code> 文件夹下，打开终端，并使用 <code>node</code> 执行名称为 <code>readfile</code> 的 js 文件，最终的效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415216894.png" alt="1678415216894"></p><p>从最终读取出的内容效果看，使用 <code>fs</code> 模块中的 <code>readFile</code> 方法，可以很方便地读取到文件中的内容，</p><h3 id="文件写入操作"><a class="anchor" href="#文件写入操作">#</a> 文件写入操作</h3><p>在 <code>fs</code> 模块中，与文件读取方法 <code>readFile</code> 相对应， <code>writeFile</code> 方法则是用于文件的写入，该方法也是一个异步写入文件的方法，它的调用格式如下所示：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span></pre></td></tr></table></figure><p>在上述格式中，方法中第一个参数 <code>file</code> 表示要写入的文件名，第二个参数 <code>data</code> 表示需要写入的内容，第三个参数 <code>options</code> 是一个可选项，它与文件读取方法中的功能一样，在此不再赘述，第四个参数 <code>callback</code> 是一个回调函数， 在回调函数中，传入了一个名称为 <code>error</code> 的参数，表示文件没有写入成功时的错误信息，接下来通过一个示例来演示文件写入的过程。</p><p>找到并打开 <code>project</code> 文件夹，在该文件夹下，新建一个名称为 <code>writefile</code> 的 js 文件，打开该文件，并添加下列代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 导入 fs 模块</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 调用模块中异步写入文件的方法</span></pre></td></tr><tr><td data-num="5"></td><td><pre>fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">"./public/msg.txt"</span><span class="token punctuation">,</span> <span class="token string">"今天是一个好日子"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"写入成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，先导入 <code>fs</code> 模块，再调用模块中的异步写入文件的方法 <code>writeFile</code> ，将字符串 &quot;今天是一个好日子&quot; 写入 <code>msg</code> 文件中，由于该文件已存在，因此，写入的内容将会覆盖文件中原有的内容，同时，在方法的回调函数中，如果出现错误，则返回相关的错误信息，如果写入没有出错，则在控制台输出 &quot;写入成功！&quot; 的字样。最后，在 <code>project</code> 文件夹下，打开终端，并使用 <code>node</code> 执行名称为 <code>writefile</code> 的 js 文件，效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415249698.png" alt="1678415249698"></p><p>当调用 <code>fs</code> 模块中的 <code>writeFile</code> 方法在指定的文件中写入内容后，文件中的原有内容默认将会被覆盖，只保留最新写入的内容，也可以借助 <code>options</code> 对象中的 <code>flag</code> 属性值，改变写入文件时的方式，由覆盖变为追加内容，接下来通过一个示例来演示它实现的方式。（或者先读取保存，然后字符串拼接再写）</p><p>找到并打开 <code>project</code> 文件夹，在该文件夹下，新建一个名称为 <code>writefile2</code> 的 js 文件，打开该文件，并添加下列代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 导入 fs 模块</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 调用模块中异步写入文件的方法</span></pre></td></tr><tr><td data-num="5"></td><td><pre>fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token string">"./public/msg.txt"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token string">"，明天又是一个大晴天。"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span> <span class="token string">"utf-8"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"写入成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>打开终端，并使用 <code>node</code> 执行名称为 <code>writefile2</code> 的 js 文件，效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415271704.png" alt="1678415271704"></p><p>在上述实现的代码中， <code>flag</code> 值为 &quot;a&quot; 时，表示以追加的方式向文件中写入内容，其他方式大家可以根据这种方式进行变更。</p><h3 id="删除文件操作"><a class="anchor" href="#删除文件操作">#</a> 删除文件操作</h3><p>在 <code>fs</code> 模块中，可以使用 <code>writeFile</code> 方法增加一个指定名称的文件，如果不希望使用某个文件，也可以调用 <code>unlink</code> 方法，删除这个文件， <code>unlink</code> 方法也是一个异步的方法，它的调用格式如下所示：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述格式中，第一个参数 <code>path</code> 表示删除文件的路径，第二个参数 <code>callback</code> 是一个回调函数， 在回调函数中，传入了一个名称为 <code>error</code> 的参数，表示文件没有删除成功时的错误信息，接下来通过一个示例来演示文件删除的过程。</p><p>首先找到并打开 <code>project</code> 文件夹，在该文件夹下，再打开 <code>public</code> 文件夹，新建一个文件为 <code>temp</code> 的记事本文件，结构如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415293633.png" alt="1678415293633"></p><p>最后，在 <code>project</code> 文件夹下，新建一个名称为 <code>delefile</code> 的 js 文件，打开该文件，并添加下列代码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 导入 fs 模块</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 调用模块中异步删除文件的方法</span></pre></td></tr><tr><td data-num="5"></td><td><pre>fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string">"./public/temp.txt"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"删除成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>在上述代码中，先导入 <code>fs</code> 模块，再调用模块中的异步删除文件的方法 <code>unlink</code> ，在方法的回调函数中，如果出现错误，则返回相关的错误信息，如果删除没有出错，则在控制台输出 &quot;删除成功！&quot; 的字样。最后，在 <code>project</code> 文件夹下，打开终端，并使用 <code>node</code> 执行名称为 <code>delefile</code> 的 js 文件，效果如下图所示：</p><p><img data-src="/./images/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/1678415306073.png" alt="1678415306073"></p><p>注意：在 <code>fs</code> 模块中的 <code>unlink</code> 方法，只能删除文件，不适用于删除目录，即使是一个空目录，如果要删除目录，需要使用另外一个名称为 <code>rmdir</code> 的方法，关于 <code>rmdir</code> 更的资料，请查看 👉 <span class="exturl" data-url="aHR0cDovL25vZGVqcy5jbi9hcGkvZnMuaHRtbCNmc19mc19ybWRpcl9wYXRoX29wdGlvbnNfY2FsbGJhY2s=">rmdir 使用方法</span></p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-03-12 16:03:33" itemprop="dateModified" datetime="2023-03-12T16:03:33+08:00">2023-03-12</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="yuan 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="yuan 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="yuan 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>yuan <i class="ic i-at"><em>@</em></i>yuan</li><li class="link"><strong>本文链接：</strong> <a href="https://jyuanhust.github.io/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/Nodejs/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/">https://jyuanhust.github.io/2023/06/25/computer-science/比赛/蓝桥杯/知识点汇总/Nodejs/基本知识点1/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/jQuery/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B92/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;zkz0&#x2F;image&#x2F;raw&#x2F;master&#x2F;img&#x2F;img(5).webp" title="未命名"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>未命名</h3></a></div><div class="item right"><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/Vue/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B92/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;zkz0&#x2F;image&#x2F;raw&#x2F;master&#x2F;img&#x2F;img(42).webp" title="未命名"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>未命名</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-nodejs"><span class="toc-number">1.</span> <span class="toc-text">认识 Node.js</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">1.0.1.</span> <span class="toc-text">知识点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nodejs-%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">Node.js 的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-window-%E5%92%8C-mac-%E4%B8%AD%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85-nodejs"><span class="toc-number">1.2.</span> <span class="toc-text">在 Window 和 Mac 中下载和安装 Node.js</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD-nodejs"><span class="toc-number">1.2.1.</span> <span class="toc-text">下载 Node.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.2.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F"><span class="toc-number">1.2.3.</span> <span class="toc-text">查看是否安装成功</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux-%E7%89%88-node-%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.</span> <span class="toc-text">linux 版 Node 下载和安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.3.1.</span> <span class="toc-text">下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-path"><span class="toc-number">1.3.2.</span> <span class="toc-text">修改环境变量 PATH</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#web-%E8%AF%B7%E6%B1%82"><span class="toc-number">2.</span> <span class="toc-text">Web 请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-2"><span class="toc-number">2.0.1.</span> <span class="toc-text">知识点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86-get-%E8%AF%B7%E6%B1%82"><span class="toc-number">2.1.</span> <span class="toc-text">处理 GET 请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86-post-%E8%AF%B7%E6%B1%82"><span class="toc-number">2.2.</span> <span class="toc-text">处理 POST 请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#postman-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85"><span class="toc-number">2.3.</span> <span class="toc-text">Postman 下载安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81%E5%A4%84%E7%90%86-post-%E8%AF%B7%E6%B1%82"><span class="toc-number">2.4.</span> <span class="toc-text">编写代码处理 POST 请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-postman-%E5%8F%91%E9%80%81-post-%E8%AF%B7%E6%B1%82"><span class="toc-number">2.4.1.</span> <span class="toc-text">使用 Postman 发送 POST 请求</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%80%BB%E7%BB%93"><span class="toc-number">2.5.</span> <span class="toc-text">实验总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B7%AF%E7%94%B1"><span class="toc-number">3.</span> <span class="toc-text">初始化路由</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-3"><span class="toc-number">3.0.1.</span> <span class="toc-text">知识点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E8%B7%AF%E7%94%B1"><span class="toc-number">3.1.</span> <span class="toc-text">认识路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1"><span class="toc-number">3.2.</span> <span class="toc-text">配置路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E8%B7%AF%E7%94%B1"><span class="toc-number">3.3.</span> <span class="toc-text">访问路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%BC%80%E5%8F%91"><span class="toc-number">3.4.</span> <span class="toc-text">路由开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-number">3.4.1.</span> <span class="toc-text">获取请求方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-get-%E6%96%B9%E5%BC%8F%E4%BC%A0%E5%8F%82"><span class="toc-number">3.5.</span> <span class="toc-text">获取 GET 方式传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-post-%E6%96%B9%E5%BC%8F%E4%BC%A0%E5%8F%82"><span class="toc-number">3.6.</span> <span class="toc-text">获取 POST 方式传参</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nodejs-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">4.</span> <span class="toc-text">Node.js 文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-4"><span class="toc-number">4.0.1.</span> <span class="toc-text">知识点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%93%8D%E4%BD%9C"><span class="toc-number">4.1.</span> <span class="toc-text">文件读取操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">4.2.</span> <span class="toc-text">文件写入操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">4.3.</span> <span class="toc-text">删除文件操作</span></a></li></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="yuan" data-src="/images/avatar.jpg"><p class="name" itemprop="name">yuan</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">429</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">72</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">61</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item email" data-url="bWFpbHRvOjIwODM2MzU1MjVAcXEuY29t" title="mailto:2083635525@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>链接</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/jQuery/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B92/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/Vue/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B92/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/backend/django/" title="分类于 django">django</a></div><span><a href="/2022/08/25/backend/django/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0-django/" title="文件上传-django">文件上传-django</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch/" title="分类于 pytorch">pytorch</a></div><span><a href="/2022/08/24/ai/pytorch/torch-matmul-%E7%94%A8%E6%B3%95%E4%BB%8B%E7%BB%8D/" title="torch.matmul()用法介绍">torch.matmul()用法介绍</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/note/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E5%A4%A7%E5%94%90%E6%9D%AF/%E4%BB%BB%E5%8A%A17-5G%E5%B8%B8%E8%A7%81%E5%8F%82%E6%95%B0%E4%BB%8B%E7%BB%8D/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" title="分类于 pytorch深度学习">pytorch深度学习</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter-computational-performance/" title="分类于 chapter_computational-performance">chapter_computational-performance</a></div><span><a href="/2023/02/15/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter_computational-performance/index/" title="index">index</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 computer-science">computer-science</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/" title="分类于 数据库系统原理实践MySQL">数据库系统原理实践MySQL</a></div><span><a href="/2022/08/24/computer-science/base/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/%E5%AE%9E%E8%AE%AD6-%E8%A7%86%E5%9B%BE/" title="实训6-视图">实训6-视图</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" title="分类于 pytorch深度学习">pytorch深度学习</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter-convolutional-modern/" title="分类于 chapter_convolutional-modern">chapter_convolutional-modern</a></div><span><a href="/2023/02/15/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter_convolutional-modern/alexnet/" title="alexnet">alexnet</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E9%AB%98%E7%BA%A7%E8%BD%AF%E8%80%83/%E6%A1%88%E4%BE%8B/2016/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/24/language/C++/thread/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/ECharts/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B91/" title="未命名">未命名</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">yuan @ Mi Manchi</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">2.9m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">44:38</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/06/25/computer-science/比赛/蓝桥杯/知识点汇总/Nodejs/基本知识点1/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>