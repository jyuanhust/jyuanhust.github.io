<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="yuan" href="https://jyuanhust.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="yuan" href="https://jyuanhust.github.io/atom.xml"><link rel="alternate" type="application/json" title="yuan" href="https://jyuanhust.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://jyuanhust.github.io/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%BD%91%E6%80%BB%E5%A4%8D%E4%B9%A0-%E6%9C%B1%E4%BD%AC/"><title>| Mi Manchi = yuan = Whatever is worth doing at all is worth doing well</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline"></h1><div class="meta"><span class="item" title="创建时间：2023-06-25 00:09:35"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-06-25T00:09:35+08:00">2023-06-25</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>17k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>15 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Mi Manchi</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(86).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(82).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(66).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(69).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(17).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(19).webp"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jyuanhust.github.io/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%BD%91%E6%80%BB%E5%A4%8D%E4%B9%A0-%E6%9C%B1%E4%BD%AC/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="yuan"><meta itemprop="description" content="Whatever is worth doing at all is worth doing well, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="yuan"></span><div class="body md" itemprop="articleBody"><h3 id="计网总复习"><a class="anchor" href="#计网总复习">#</a> 计网总复习</h3><h3 id="重点内容"><a class="anchor" href="#重点内容">#</a> 重点内容</h3><p>1、时延</p><ul><li><p>传输时延</p><ul><li>数据不断从设备推送到网络上，需要花费一定的时间，推送的速度受到网络带宽的影响。(数据从设备传输到通信链路上的时间)</li></ul></li><li><p>传播时延</p><ul><li>数据不断从链路的一端传送到链路的另一端，需要花费一定的时间，传送速度受到电子传送速度影响。(在通信链路上的时间)</li></ul></li><li><p>节点处理时延</p><ul><li>设备接受数据以及决定往什么端口转发数据，处理这个的时延</li></ul></li><li><p>排队时延</p><ul><li>分组在通信端口的排列队列上排队等待离开设备</li></ul></li></ul><p>2、HTTP 持续和非持续传播</p><ul><li><p>HTTP1.0</p><ul><li><p>客户端启动 TCP 连接，请求与服务器上的 80 号端口建立 TCP 连接</p></li><li><p>服务器的 80 端口一直监听是否有客户端请求，监听到了立刻与客户端建立 TCP 连接，并把成功信息传给客户端</p></li><li><p>客户端获得了来自于服务端的 TCP 回应，知道 TCP 连接已经建立，开始发送请求报文</p></li><li><p>服务器收到客户端请求报文，准备发送响应报文</p></li><li><p>相应报文发送完毕，服务器关闭 TCP 请求</p></li><li><p>时间：2RTTs + 传输时间</p><ul><li>TCP 连接建立</li><li>HTTP 请求报文和响应报文发送</li></ul></li></ul></li><li><p>HTTP1.1</p><ul><li>持久连接，连接完毕了之后一直保持连接，知道过了一段时间后还没有响应才关闭连接</li><li>非流水线方式 (一个一个来)</li><li>流水线方式 (一股脑扔过去)</li></ul></li><li><p>时延</p><ul><li>时延包括 TCP 握手和传输时间，TCP 握手只考虑两次握手</li><li>2RTT + 文件传输时间</li><li>文件传输时间只包括传播时延</li></ul><p>![image-20211201231210948](/Users/xupengzhu/Library/Application Support/typora-user-images/image-20211201231210948.png)</p></li><li><p>TCP 握手</p><ul><li>客户机发送 SYN</li><li>服务器接受 SYN, 返回 SYN&amp;ACK</li><li>客户机接受服务器 SYN 和 ACK, 回应 ACK (客户机发送 ACK 是不用管的，包括在数据传输这一部分)</li><li>服务器接受 ACK,TCP 建立完成</li></ul></li></ul><p>3、可靠信息传输协议</p><ul k-1><li><p>假如说用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span></span></span></span> 位来给报文段编号</p><ul><li>那么报文段编号的取值范围为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><msup><mn>2</mn><mi>k</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,2^k-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>, 也就是说报文段编号的可能取值是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><msup><mn>2</mn><mi>k</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,2^k-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></li><li>序列号就代表报文段编号的取值数，是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">2^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.849108em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span></span></span>, 也就是说报文段的编号这个号码的数量为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">2^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.849108em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span></span></span></li></ul></li><li><p>窗口</p><ul><li>GBN 发送:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.932438em;vertical-align:-.08333em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span></li><li>接受 1</li><li k-1>SR 发送2^</li><li>接受2^</li></ul></li></ul><h5 id="rdt系列"><a class="anchor" href="#rdt系列">#</a> rdt 系列</h5><ul><li><p>rdt1.0</p></li><li><p>rdt2.0</p></li><li><p>rdt2.1</p></li><li><p>rdt2.2</p></li><li><p>rdt3.0</p><ul><li><p>发送方</p><ul><li>在等待状态应用层数据状态，收到应用层数据，就向网络层转发，并启动定时器</li><li>收到不对的 ACK (期望为 0 却是 1), 重传</li><li>超时，重传，并启动定时器.</li></ul></li><li><p>接收方</p><ul><li>收到了错的分组，就发送上一次正确收到分组的序号的 ACK (期待 0 号元素，收到了 1 号元素就发送 ACK1)</li><li>收到了对的分组就发送正确的 ACK</li></ul></li></ul></li></ul><h5 id="gbn"><a class="anchor" href="#gbn">#</a> GBN</h5><ul><li><p>发送方</p><ul><li><p>数据结构</p><ul><li>滑动窗口</li><li>base: 滑动窗口的第一个元素</li><li>Nextseq: 滑动窗口中第一个 “未发送” 的序号，下一次发送就发送这个序号的分组</li></ul></li><li><p>收到应用层</p><ul><li>如果有位置，就放入滑动窗口，Nextseq+1</li><li>没位置就拒绝</li></ul></li><li><p>收到 ACK</p><ul><li><p>如果和 base 一样，base+1, 定时器置 0</p><ul><li>滑动窗口里面还有已经发送没确认的元素，继续计时</li><li>滑动窗口里面已经没有已经发送没确认的元素，就不计时了</li></ul></li><li><p>如果不和 base 一样，不管</p></li></ul></li><li><p>超时</p><ul><li>重新传输滑动窗口内已经发送的但是没有确认的元素</li></ul></li></ul></li><li><p>接受方</p><ul><li><p>数据结构</p><ul><li>期待收到的元素 Exc</li><li>上一次收到的规律分组序号 n</li></ul></li><li><p>收到期望的分组</p><ul><li>发送 ACK (Exc),Exc++</li></ul></li><li><p>收到乱序分组</p><ul><li>发送 ACK (n)</li></ul></li></ul></li></ul><h5 id="sr"><a class="anchor" href="#sr">#</a> SR</h5><ul><li><p>发送方</p><ul><li><p>数据结构</p><ul><li>滑动窗口</li><li>base: 滑动窗口的第一个元素</li><li>Nextseq: 滑动窗口中第一个 “未发送” 的序号，下一次发送就发送这个序号的分组</li><li>每个分组都有一个定时器</li></ul></li><li><p>收到应用层</p><ul><li>如果有位置，就放入滑动窗口，Nextseq+1</li><li>没位置就拒绝</li></ul></li><li><p>收到 ACK</p><ul><li>标记分组 n 为已接收</li><li>如果 n 是发送窗口基序号 base，则将窗口基序号前推到下一个未确认序号</li></ul></li><li><p>超时</p><ul><li>哪个分组的定时器超时了就重传谁</li></ul></li></ul></li><li><p>接受方</p><ul><li><p>数据结构</p><ul><li><p>接受滑动窗口</p><ul><li>标记收到还是没收到</li></ul></li></ul></li><li><p>收到分组</p><ul><li>发送 n 的确认 ACK (n)</li><li>如果分组序号不连续 (失序)：将其缓存</li><li>按序分组：将该分组以及以前缓存的序号连续的分组一起交付给上层，将窗口前推到下一个未收到的分组</li></ul></li></ul></li></ul><h5 id="tcp"><a class="anchor" href="#tcp">#</a> TCP</h5><ul><li><p>发送方</p><ul><li><p>收到应用层数据</p><ul><li>将数据封装入报文段中，每个报文段都包含一个序号</li><li>序号是该报文段第一个数据字节的字节流编号</li><li>启动定时器</li><li>超时间隔: TimeOutInterval</li><li>一个报文段一个定时器</li></ul></li><li><p>超时</p><ul><li>重传认为超时的报文段。就是重传滑动窗口里面第一个已发送未确认的元素</li><li>重启定时器</li></ul></li><li><p>收到 ACK</p><ul><li><p>如果是对以前的未确认报文段的确认</p><ul><li>更新 SendBase</li><li>如果当前有未被确认的报文段，TCP 还要重启定时器</li></ul></li></ul></li></ul></li><li><p>接受方</p><ul><li><p>收到一个一个正常的分组 (按序分组)</p><ul><li>等待 500ms, 等待收取第二个按序分组</li><li>如果 500ms 没收到，那就只发这个</li><li>如果 500ms 内收到了，就按照第二个来的分组发送 ACK.</li></ul></li><li><p>收到一个乱序分组</p><ul><li>立即发送冗余 ACK，指明下一个期待字节的序号</li></ul></li></ul></li><li><p>快速重传</p><ul><li><p>收到三个冗余 ACK</p><ul><li>重传滑动窗口里面第一个已发送未确认的元素</li></ul></li></ul></li></ul><p>4、拥塞控制</p><ul><li><p>拥塞窗口</p><ul><li>标记为 CongWin, 滑动窗口小于等于拥塞窗口<br>取接受滑动窗口和拥塞窗口最小值</li></ul></li><li><p>慢启动</p><ul><li>拥塞窗口是之前的两倍或者门限值中比较小的那个</li><li>每收到一个 ACK, 拥塞窗口大小 + 一个 MSS</li></ul></li><li><p>拥塞避免</p><ul><li>拥塞窗口大小是之前的加一</li><li>拥塞窗口的大小大于 ssthresh (门限值) 进入拥塞避免</li><li>每收到一个 ACK, 拥塞窗口大小 + 一个 MSS*(MSS / 窗口大小)</li></ul></li><li><p>三个冗余 ACK</p><ul><li>门限值 = 原拥塞窗口一半</li><li>拥塞窗口 = 原拥塞窗口一半 + 3</li></ul></li><li><p>超时</p><ul><li>门限值 = 原拥塞窗口一半</li><li>拥塞窗口 = 1</li></ul></li><li><p>传输轮回：指发送方一次性发送拥塞窗口大小的数据，然后收到对应的全部 ACK 或出现异常就是一个传输轮回</p></li></ul><p>5、CIDR</p><ul><li><p>编码格式</p><ul><li &lt;网络前缀, &lt;主机号>IP 地址 ::=</li><li>这样可以更加方便地划分子网，其中斜线后面的位数就是表示网络号的位数</li><li>斜线记法：192.168.0.1/24</li></ul></li><li><p>最长前缀匹配</p><ul><li><p>应当从匹配结果中选择具有最长网络前缀 (n 最大的) 的路由：最长前缀匹配 (longest-prefix mating)。</p></li><li><p>匹配的意思就是对于一个表项 xx:xx:xx:xx/n,IP 包的目的地址的前 n 位与表项 xx:xx:xx:xx 的前 n 位相同就可以 目的地址的前 n 位和网络编号的前 n 位 (前缀匹配)</p><ul><li>例子：206.0.71.142 和 206.0.71.128/25, 这个地址和 206.0.71.128 的前 25 位相同，就称之为匹配</li></ul></li><li><p>可以代表这个网络的子网掩码是前 n 位是 1, 这个地址和子网掩码的并等于网络地址的话就匹配</p></li><li><p>也就是说转发，只能转发匹配的表项，不匹配的是不能被转发的.</p></li></ul></li><li><p>层次编址</p><ul><li>小的网络统一归大的网络管</li></ul></li><li><p>NAT</p><ul><li><p><strong>本地网络只要使用一个 IP 地址就可以和外部网络相连</strong>，本地网络中的所有主机 (IP:10.0.0.x), 在外部网络都有相同的 IP 地址。也就是说<strong>本地网络的所有主机和外面的网络交流都是用同一个 IP 地址来进行通信</strong>。所有离开本地网络的报文都拥有同一个源 IP 地址，有不同的源端口号</p></li><li><p>下面的例子<strong>本地网络的所有主机 10.0.0.1,10.0.0.2 和 10.0.0.3 和外面的网络交流都是用同一个 IP 地址 138.76.29.7 来进行通信</strong></p></li><li><p>维护一个 NAT 路由，路由在本地网络有一个地址，在全球网络也有一个地址。还有一张 NAT 表，分别记录本地网络中的地址，进程和全球网络的地址，进程的对应关系</p></li><li><p>做法</p><ul><li>发送数据报：将每个外出报文的源 IP 地址，端口号替换为 NAT IP 地址以及新的端口号</li><li>接收数据报：根据 NAT 转换表将每个进入报文的 NAT IP 地址，端口号替换为相应的目的 IP 地址以及端口号，目的地址变成 NAT 转换表里面的元素</li></ul><p>![image-20211202135314414](/Users/xupengzhu/Library/Application Support/typora-user-images/image-20211202135314414.png)</p></li><li></li></ul></li></ul><p>6、AS 内部选路协议</p><ul><li><p>OSPF 算法 (Link State)</p><ul><li><p>所有路由器都知道整个网络拓扑图以及链路的费用信</p></li><li><p>迪克斯特拉算法</p><ul><li>先计算每个点到源点的距离</li><li>选择一个到源点距离最短的一个点 w 选一个进入 K 集合</li><li>对于这个点 w, 看看所有和 w 邻接点 v, 看看是原来的 D (v) 短，还是经过 w 的新路径短：D (w)+c (v,w)<br>D(v) = min( D(v), D(w) + c(w,v) )</li></ul></li><li><p>向本自治系统中所有路由器发送信息，使用的方法是洪泛法</p></li><li><p>发送的信息就是与本路由器相邻的所有路由器的链路状态</p></li><li><p>只有当链路状态发生变化时，路由器才用洪泛法向所有路由器发送此信息，过了 30 分钟，就算没有发生变化，也要广播状态</p></li><li><p>所有路由器会构建一个链路状态数据库，这个数据库就是全网络的拓扑结构图</p></li></ul></li><li><p>RIP 算法 (Distance Vector)</p><ul><li><p>每个路由器仅有与其相连链路的费用信息</p></li><li c(x,v)+dv(y)><p>dx(y)=minv</p></li><li><p>路由器之间的链路消费永远是 1</p></li><li><p>更新算法</p><ul><li>路由器 X 得到相邻路由器 Y 的路由表，从而得知：Y 到网络 Z 的最短距离为 N</li><li>如果路由器 X 没有到网络 Z 的路由条目，则添加一条经由路由器 Y 到网络 Z 距离 N+1 的路由条目</li><li>如果路由器 X 已有到网络 Z 的路由条目，其距离为 M，如果 M&gt;N+1，则更新该条目为经由路由器 Y 到网络 Z 距离 N+1，否则不更新</li></ul></li><li><p>毒性逆转</p><ul><li>如果 z 通过 y 选路到达目的地 x :z 将通告 y，它到 x 的距离是无穷大 (所以 y 不会通过 z 到达 x)</li></ul></li><li><p>选路更新消息每 30s 在邻居之间以 RIP 响应报文（RIP 通告）的形式进行交换</p></li><li><p>路由器经过 180s 没有收到来自某个邻居的 RIP 通告，则认为该邻居已离线，修改选路表，向其它邻居广播</p></li></ul></li></ul><p>7、CSMA/CD</p><ul><li><p>当一个结点传输数据的时候收到了别的结点发来的数据就叫做碰撞.</p></li><li><p>结点发送数据，通过广播链路传输到别的节点所需要的时间是 t (端到端时延)</p></li><li><p>强化碰撞：当发送数据的站一旦发现发生了碰撞时，除了立即停止发送数据外，还要再继续发送若干比特的人为干扰信号</p></li><li><p>最先发送数据帧的站，在发送数据帧后至多经过时间 2t （两倍的端到端时延）就可知道发送的数据帧是否遭受了碰撞。以太网的端到端往返时延 2t 称为争用期，或碰撞窗口。</p></li><li><p>特点</p><ul><li>没有时隙</li><li>当适配器侦听到其它适配器在传输，则它不传输帧，即载波侦听</li><li>正在传输的适配器若检测到其它适配器也在传输，则它中止自己的传输，即碰撞检测</li><li>在重新传输之前，适配器要等待一段随机时间，即随机回退</li></ul></li><li><p>几个定义</p><ul><li>拥塞信号：用来确保所有传输者都能检测到碰撞而传输的信号；48 比特长</li><li>比特时间：传输 1 比特所需时间。在 10Mbps 的以太网中，当 K=1023 时，等待时间大约为 50ms</li></ul></li><li><p>指数回退</p><ul><li>中止传输后，适配器进入指数回退阶段，在经历第 m 次碰撞后，适配器随机从 {0,1,2,…,2m-1} 中选择 K 值。适配器在等待 K·512 比特时间后在重传</li></ul></li><li><p>争用期</p><ul><li>以太网取 51.2us 为争用期的长度。</li><li>对于 10 Mb/s 以太网，在争用期内可发送 512 bit，即 64 字节。</li></ul></li><li><p>最短有效帧长</p><ul><li>以太网规定了最短有效帧长为 64 字节，凡长度小于 64 字节的帧都是由于冲突而异常中止的无效帧。</li></ul></li><li><p>信号编码</p><ul><li>曼彻斯特编码</li><li>差分曼彻斯特编码</li></ul></li></ul><p>8、链路层交换机</p><ul><li><p>工作原理</p><ul><li>不断监听各接口是否有信号</li><li>收到无差错的帧则缓存，反之将差错帧丢弃</li><li>若所收帧的目的 MAC 地址属另一网段，则通过站表决定向何接口转发</li><li>交换机不转发同一网段内通信的帧</li><li>交换机不修改所转发的帧的源地址</li></ul></li><li><p>交换机是透明的</p><ul><li>这里所谓 “透明” 是指局域网上的每个站并不知道所发送的帧将经过哪几个交换机，即交换机对各站来说是看不见的</li></ul></li><li><p>选路原理</p><ul><li>① 从接口 x 收到帧，有差错则丢弃，否则在站表中查找目的站 MAC 地址；</li><li>② 找到有，则取出相应的接口 d，转③，否则转⑤；</li><li>③ 如果所给 MAC 地址的接口 d=x，则丢弃此帧（不需要转发），否则从接口 d 转发此帧；</li><li>④ 转到⑥；</li><li>⑤ 向除 x 以外的所有接口转发此帧（可保证找到目的站）</li><li>⑥ 如源站不在站表中，则将源站 MAC 地址写入站表，登记该帧进入交换机的接口号和时间，设置计时器，然后转⑧。否则转⑦；</li><li>⑦ 更新计时器（由于网络拓扑经常变化，因此，超时记录要删除，以反映最新状态）；</li><li>⑧ 等待新的数据帧。转①</li><li>支撑树 --- 交换机互相知道各自的拓扑结构，构建一个最小生成树.</li></ul></li></ul><h3 id="1计算机网络与互联网"><a class="anchor" href="#1计算机网络与互联网">#</a> 1 计算机网络与互联网</h3><h4 id="11-什么是互联网"><a class="anchor" href="#11-什么是互联网">#</a> 1.1 什么是互联网</h4><h5 id="构成"><a class="anchor" href="#构成">#</a> 构成</h5><ul><li><p>硬件</p><ul><li>网络层路由器</li><li>链路层交换机</li><li>主机 (端系统)</li><li>链路</li></ul></li><li><p>软件 (协议)</p></li></ul><h5 id="isp"><a class="anchor" href="#isp">#</a> ISP</h5><ul><li>主机接入接入 ISP</li><li>接入 ISP 会继续接入更高级的 ISP</li></ul><h5 id="应用程序角度"><a class="anchor" href="#应用程序角度">#</a> 应用程序角度</h5><ul><li>提供服务的基础设施</li><li>子主题 2</li></ul><h4 id="12-网络边缘"><a class="anchor" href="#12-网络边缘">#</a> 1.2 网络边缘</h4><h5 id="定义"><a class="anchor" href="#定义">#</a> 定义</h5><ul><li>可以运行网络应用程序的实体 -- 主机</li></ul><h5 id="通信方式"><a class="anchor" href="#通信方式">#</a> 通信方式</h5><ul><li>C/S 模式</li><li>P2P 模式</li></ul><h5 id="网络接入"><a class="anchor" href="#网络接入">#</a> 网络接入</h5><ul><li><p>本质</p><ul><li>通过各种方式使主机连接到路由器</li></ul></li><li><p>边缘路由器</p><ul><li>端系统到任何其它远程端系统的路径上的第一台路由器。</li></ul></li><li><p>点对点方式</p></li><li><p>以太网</p><ul><li>有线以太网</li><li>WIFI</li></ul></li><li><p>广域无线接入</p></li></ul><h4 id="13-网络核心"><a class="anchor" href="#13-网络核心">#</a> 1.3 网络核心</h4><h5 id="交换方式"><a class="anchor" href="#交换方式">#</a> 交换方式</h5><ul><li><p>电路交换</p><ul><li><p>特点</p><ul><li>数据交换前需建立起一条从发端到收端的物理通路</li><li>在数据交换的全部时间内用户始终占用端到端的固定传输信道 (在这个时间内，信道只能给它用)</li><li>交换双方可实时进行数据交换而不会存在任何延迟</li></ul></li><li><p>分类</p><ul><li>频分复用</li><li>时分复用</li></ul></li><li><p>做法</p><ul><li>先进行连接建立</li><li>开始传送</li><li>传送完成后释放链接</li></ul></li></ul></li><li><p>分组交换</p><ul><li><p>特点</p><ul><li>将要发送的报文分解层若干个小部分，称为分组</li><li>存储转发</li><li>路线不固定</li><li>冗余路由</li><li>动态分配带宽</li></ul></li><li><p>分类</p><ul><li><p>数据报</p></li><li><p>虚电路</p><ul><li>建立虚电路链路</li><li>在建立连接时决定链路的路由，在整个连接过程中保持不变</li><li>在链路通过的每个节点，预留一定的资源</li></ul></li></ul></li><li><p>做法</p><ul><li>要传输的数据分成小段</li><li>加上首部，生成分组</li><li>发送数据</li><li>接收方接受数据并还原</li></ul></li></ul></li></ul><h5 id="概念"><a class="anchor" href="#概念">#</a> 概念</h5><ul><li>各种 ISP 互相连在一起</li><li>低级 ISP 可以连入高级 ISP 进行互通</li><li>同级 ISP 之间通过 IXP 和对等链路链接</li></ul><h4 id="14-分组网络的衡量"><a class="anchor" href="#14-分组网络的衡量">#</a> 1.4 分组网络的衡量</h4><h5 id="时延"><a class="anchor" href="#时延">#</a> 时延</h5><ul><li><p>传输时延</p><ul><li>数据不断从设备推送到网络上，需要花费一定的时间，推送的速度受到网络带宽的影响。(数据从设备传输到通信链路上的时间)</li></ul></li><li><p>传播时延</p><ul><li>数据不断从链路的一端传送到链路的另一端，需要花费一定的时间，传送速度受到电子传送速度影响。(在通信链路上的时间)</li></ul></li><li><p>节点处理时延</p><ul><li>设备接受数据以及决定往什么端口转发数据，处理这个的时延</li></ul></li><li><p>排队时延</p><ul><li>分组在通信端口的排列队列上排队等待离开设备</li></ul></li></ul><h5 id="丢包"><a class="anchor" href="#丢包">#</a> 丢包</h5><ul><li>分组在网络中环路传输</li><li>排列队列满</li></ul><h5 id="吞吐量"><a class="anchor" href="#吞吐量">#</a> 吞吐量</h5><ul><li><p>定义</p><ul><li>在发送方与接收方之间传输比特的速率（bps）</li></ul></li><li><p>影响</p><ul><li>传播速率最慢的那段链路的传播速率</li></ul></li></ul><h4 id="15-层次化的网络体系结构"><a class="anchor" href="#15-层次化的网络体系结构">#</a> 1.5 层次化的网络体系结构</h4><h5 id="分类"><a class="anchor" href="#分类">#</a> 分类</h5><ul><li><p>应用层</p><ul><li>报文</li></ul></li><li><p>传输层</p><ul><li>报文段</li></ul></li><li><p>网络层</p><ul><li>数据报</li></ul></li><li><p>链路层</p><ul><li>帧</li></ul></li><li><p>物理层</p></li></ul><h5 id="关系"><a class="anchor" href="#关系">#</a> 关系</h5><ul><li>发送数据：数据从高层往下层传递，每经过一层封装一层，直到物理层</li><li>接受数据：数据从下层往高层传递，每经过一层解封装一层。直到获得原始数据</li><li>路由器和链路层交换机都是收到数据传递到最高层，然后处理完毕之后再发送数据，到最低层</li></ul><h5 id="相关名词"><a class="anchor" href="#相关名词">#</a> 相关名词</h5><ul><li><p>PDU</p><ul><li>协议数据单元是对等层次上传送数据的单位</li></ul></li><li><p>对等体</p><ul><li>不同机器上包含对应层的实体称为对等体。</li></ul></li><li><p>实体</p><ul><li>实体是任何可以发送和接收信息的硬件和软件进程。通常是一个特定的软件模块。</li></ul></li></ul><h3 id="2-应用层"><a class="anchor" href="#2-应用层">#</a> 2 应用层</h3><h4 id="21-应用层协议原理"><a class="anchor" href="#21-应用层协议原理">#</a> 2.1 应用层协议原理</h4><h5 id="网络应用程序"><a class="anchor" href="#网络应用程序">#</a> 网络应用程序</h5><ul><li><p>功能</p><ul><li>可以向网络发送数据</li><li>可以向网络接受数据</li><li>对数据进行处理</li></ul></li><li><p>体系结构</p><ul><li><p>C/S 模式</p><ul><li><p>服务器：一个可以想客户机提供服务的主机</p></li><li><p>客户机：主动连接服务器，试图从服务器那里获取所需服务</p></li><li><p>特点</p><ul><li>客户机不能通信</li><li>通常采用服务器群的模式</li></ul></li></ul></li><li><p>P2P 模式</p><ul><li>任何一方享受服务也提供服务</li><li>结点之间可以互相通信</li><li>结点之间的地址以及其连接会发生变化</li></ul></li></ul></li></ul><h5 id="应用层协议"><a class="anchor" href="#应用层协议">#</a> 应用层协议</h5><ul><li>交换的报文类型</li><li>报文的语法</li><li>字段的定义</li><li>进程何时、如何发送报文</li><li>报文的相应</li></ul><h5 id="需求的服务"><a class="anchor" href="#需求的服务">#</a> 需求的服务</h5><ul><li><p>TCP</p></li><li><p>UDP</p></li><li><p>SSL</p><ul><li>介于应用层和传输层之间的协议</li><li>数据完整性检查</li><li>身份鉴权</li><li>加密的 TCP</li></ul></li></ul><h5 id="socket"><a class="anchor" href="#socket">#</a> Socket</h5><ul><li><p>标记每一个网络应用进程 (给每个进程编号)</p></li><li><p>分成两部分</p><ul><li>32 位主机地址：标记运行在哪个主机</li><li>16 位端口地址：在主机上标记运行在什么进程上</li></ul></li><li><p>运行机理</p><ul><li>发送进程将报文发送到套接字</li><li>套接字将这些报文传输到接受进程的套接字</li><li>也就是说套接字像一个管道的两端，发送进程发送信息到管道里面 (也就是传递给套接字), 接受进程从管道里面接受信息 (从套接字里面获取信息), 具体管道怎么实现的进程不需要了解，双方在管道的两端，管道和双方之间就是套接字</li></ul></li></ul><h4 id="22-web和http"><a class="anchor" href="#22-web和http">#</a> 2.2 Web 和 HTTP</h4><h5 id="构成-2"><a class="anchor" href="#构成-2">#</a> 构成</h5><ul><li>客户端</li><li>服务端</li><li>协议</li></ul><h5 id="内容表达"><a class="anchor" href="#内容表达">#</a> 内容表达</h5><ul><li><p>Web 页面由一些对象组成</p><ul><li>对象可以是图片，文本，多媒体</li><li>对象可以是 HTML 文件，HTML 文件像是一个容器，装载着图片文本多媒体对象，是对象的容器</li><li>任何一个对象都可以用 URL 来定位</li></ul></li></ul><h5 id="传输模式"><a class="anchor" href="#传输模式">#</a> 传输模式</h5><ul><li><p>HTTP1.0</p><ul><li><p>客户端启动 TCP 连接，请求与服务器上的 80 号端口建立 TCP 连接</p></li><li><p>服务器的 80 端口一直监听是否有客户端请求，监听到了立刻与客户端建立 TCP 连接，并把成功信息传给客户端</p></li><li><p>客户端获得了来自于服务端的 TCP 回应，知道 TCP 连接已经建立，开始发送请求报文</p></li><li><p>服务器收到客户端请求报文，准备发送响应报文</p></li><li><p>相应报文发送完毕，服务器关闭 TCP 请求</p></li><li><p>时间：2RTTs + 传输时间</p><ul><li>TCP 连接建立</li><li>HTTP 请求报文和响应报文发送</li></ul></li></ul></li><li><p>HTTP1.1</p><ul><li>持久连接，连接完毕了之后一直保持连接，知道过了一段时间后还没有响应才关闭连接</li><li>非流水线方式 (一个一个来)</li><li>流水线方式 (一股脑扔过去)</li></ul></li></ul><h5 id="http请求报文"><a class="anchor" href="#http请求报文">#</a> HTTP 请求报文</h5><ul><li><p>方法</p><ul><li>GET (获取)</li><li>POST (发送)</li><li>etc...</li></ul></li><li><p>URL</p></li><li><p>版本</p></li><li><p>首部行</p></li><li><p>一个空行</p></li><li><p>报文内容</p></li></ul><h5 id="http响应报文"><a class="anchor" href="#http响应报文">#</a> HTTP 响应报文</h5><ul><li>URL</li><li>状态编码和短语</li><li>一个空行</li><li>报文内容</li></ul><h5 id="cookies"><a class="anchor" href="#cookies">#</a> Cookies</h5><ul><li><p>组成部分</p><ul><li>响应报文一个首部行</li><li>请求报文一个首部行</li><li>浏览器内部保存的 Cookies</li><li>服务器端的数据库</li></ul></li><li><p>更改</p><ul><li>请求报文的 Cookies 行用来更改服务器数据库</li><li>响应报文的 Cookies 行用来更改浏览器 Cookies</li></ul></li></ul><h3 id="运输层"><a class="anchor" href="#运输层">#</a> 运输层</h3><h4 id="31-运输层概述"><a class="anchor" href="#31-运输层概述">#</a> 3.1 运输层概述</h4><h5 id="功能"><a class="anchor" href="#功能">#</a> 功能</h5><ul><li>为不同主机上运行的应用进程之间提供逻辑通信</li></ul><h5 id="工作内容"><a class="anchor" href="#工作内容">#</a> 工作内容</h5><ul><li>发送方：把应用数据划分成报文段 (segments), 交给网络层 (从应用层获取，交付到网络层)</li><li>接收方：把报文段重组成应用数据，交付给应用层 (从网络层获取，交付到应用层)</li></ul><h5 id="协议簇"><a class="anchor" href="#协议簇">#</a> 协议簇</h5><ul><li>TCP</li><li>UDP</li></ul><h5 id="功能-2"><a class="anchor" href="#功能-2">#</a> 功能</h5><ul><li>进程间交付 3.2</li><li>差错检测 3.3</li><li>可靠数据传输 3.4 3.5</li><li>拥塞控制 3.6</li></ul><h4 id="32-复用和分解"><a class="anchor" href="#32-复用和分解">#</a> 3.2 复用和分解</h4><h5 id="端口"><a class="anchor" href="#端口">#</a> 端口</h5><ul><li><p>一个应用层和运输层的桥梁</p><ul><li>应用层可以通过端口获得传输层递交的数据</li><li>传输层可以通过端口向应用层递交数据</li></ul></li><li><p>一个主机应用进程的标记</p></li></ul><h5 id="套接字"><a class="anchor" href="#套接字">#</a> 套接字</h5><ul><li><p>TCP 的基础:“连接”, 将连接用套接字标记</p></li><li><p>UDP 套接字</p><ul><li>目的端口</li><li>目的地址</li></ul></li><li><p>TCP 套接字</p><ul><li>目的端口</li><li>目的地址</li><li>源端口</li><li>源地址</li></ul></li><li><p>多路复用</p><ul><li>运输层从主机的不同套接字中收集数据，为数据加上首部信息转发到网络层</li><li>多个来源一个目的，不同套接字的数据转发到一个出口 (即网络层)</li></ul></li><li><p>多路分解</p><ul><li>运输层的报文段根据首部交付到正确的套接字</li><li>一个来源多个目的，一个网络层的数据可以根据套接字的不同转发到不同的端口</li></ul></li></ul><h4 id="33-udp和差错检验"><a class="anchor" href="#33-udp和差错检验">#</a> 3.3 UDP 和差错检验</h4><h5 id="流程"><a class="anchor" href="#流程">#</a> 流程</h5><ul><li><p>发送方</p><ul><li>从应用进程获得数据</li><li>加上目的端口号，形成报文段</li><li>递交给网络层，尽力而为地交付</li></ul></li><li><p>接收方</p><ul><li>从网络层获得报文段，直接交付给应用层</li><li>没有响应</li></ul></li></ul><h5 id="特点"><a class="anchor" href="#特点">#</a> 特点</h5><ul><li>无连接的</li><li>分组开销小</li><li>在应用层实现可靠传递</li><li>容易击垮 TCP 连接</li></ul><h5 id="udp报文段的首部"><a class="anchor" href="#udp报文段的首部">#</a> UDP 报文段的首部</h5><ul><li>源端口号</li><li>目的端口号</li><li>长度</li><li>检验和</li></ul><h5 id="检验和"><a class="anchor" href="#检验和">#</a> 检验和</h5><ul><li>将报文段里面的内容按照 16 位为单位，每个 16 位元素进行相加构成检验和</li><li>如果出现了溢出，一定要做回卷</li></ul><h4 id="34-可靠传输原理"><a class="anchor" href="#34-可靠传输原理">#</a> 3.4 可靠传输原理</h4><h5 id="rdt系列-2"><a class="anchor" href="#rdt系列-2">#</a> rdt 系列</h5><ul><li><p>rdt1.0</p></li><li><p>rdt2.0</p></li><li><p>rdt2.1</p></li><li><p>rdt2.2</p></li><li><p>rdt3.0</p><ul><li><p>发送方</p><ul><li>在等待状态应用层数据状态，收到应用层数据，就向网络层转发，并启动定时器</li><li>收到不对的 ACK (期望为 0 却是 1), 重传</li><li>超时，重传，并启动定时器.</li></ul></li><li><p>接收方</p><ul><li>收到了错的分组，就发送上一次正确收到分组的序号的 ACK (期待 0 号元素，收到了 1 号元素就发送 ACK1)</li><li>收到了对的分组就发送正确的 ACK</li></ul></li></ul></li></ul><h5 id="gbn-2"><a class="anchor" href="#gbn-2">#</a> GBN</h5><ul><li><p>发送方</p><ul><li><p>数据结构</p><ul><li>滑动窗口</li><li>base: 滑动窗口的第一个元素</li><li>Nextseq: 滑动窗口中第一个 “未发送” 的序号，下一次发送就发送这个序号的分组</li></ul></li><li><p>收到应用层</p><ul><li>如果有位置，就放入滑动窗口，Nextseq+1</li><li>没位置就拒绝</li></ul></li><li><p>收到 ACK</p><ul><li><p>如果和 base 一样，base+1, 定时器置 0</p><ul><li>滑动窗口里面还有已经发送没确认的元素，继续计时</li><li>滑动窗口里面已经没有已经发送没确认的元素，就不计时了</li></ul></li><li><p>如果不和 base 一样，不管</p></li></ul></li><li><p>超时</p><ul><li>重新传输滑动窗口内已经发送的但是没有确认的元素</li></ul></li></ul></li><li><p>接受方</p><ul><li><p>数据结构</p><ul><li>期待收到的元素 Exc</li><li>上一次收到的规律分组序号 n</li></ul></li><li><p>收到期望的分组</p><ul><li>发送 ACK (Exc),Exc++</li></ul></li><li><p>收到乱序分组</p><ul><li>发送 ACK (n)</li></ul></li></ul></li></ul><h5 id="sr-2"><a class="anchor" href="#sr-2">#</a> SR</h5><ul><li><p>发送方</p><ul><li><p>数据结构</p><ul><li>滑动窗口</li><li>base: 滑动窗口的第一个元素</li><li>Nextseq: 滑动窗口中第一个 “未发送” 的序号，下一次发送就发送这个序号的分组</li><li>每个分组都有一个定时器</li></ul></li><li><p>收到应用层</p><ul><li>如果有位置，就放入滑动窗口，Nextseq+1</li><li>没位置就拒绝</li></ul></li><li><p>收到 ACK</p><ul><li>标记分组 n 为已接收</li><li>如果 n 是发送窗口基序号 base，则将窗口基序号前推到下一个未确认序号</li></ul></li><li><p>超时</p><ul><li>哪个分组的定时器超时了就重传谁</li></ul></li></ul></li><li><p>接受方</p><ul><li><p>数据结构</p><ul><li><p>接受滑动窗口</p><ul><li>标记收到还是没收到</li></ul></li></ul></li><li><p>收到分组</p><ul><li>发送 n 的确认 ACK (n)</li><li>如果分组序号不连续 (失序)：将其缓存</li><li>按序分组：将该分组以及以前缓存的序号连续的分组一起交付给上层，将窗口前推到下一个未收到的分组</li></ul></li></ul></li></ul><h4 id="35-tcp"><a class="anchor" href="#35-tcp">#</a> 3.5 TCP</h4><h5 id="报文首部"><a class="anchor" href="#报文首部">#</a> 报文首部</h5><ul><li><p>源端口号</p></li><li><p>目的端口号</p></li><li><p>长度</p></li><li><p>检验和</p></li><li><p>序列号</p><ul><li>在报文段数据中第一个字节在字节流中的编号</li></ul></li><li><p>确认号</p><ul><li>期待得到的下一个字节的 seq<br>也就是说 1-seq-1 字节已经被确认，seq 没有</li></ul></li></ul><h5 id="超时设置"><a class="anchor" href="#超时设置">#</a> 超时设置</h5><ul><li><p>SampleRTT</p><ul><li>对报文段被发出到收到该报文段的确认之间的时间进行测量</li></ul></li><li><p>EstimatedRTT</p><ul><li>EstimatedRTT = (1- a)<em>EstimatedRTT + a</em>SampleRTT</li><li>第一次：EstimatedRTT=SampleRTT</li></ul></li><li><p>DevRTT</p><ul><li>DevRTT = (1-b)<em>DevRTT +b</em>|SampleRTT-EstimatedRTT|</li><li>第一次：DevRTT=0.5*SampleRTT</li></ul></li></ul><h5 id="可靠传输协议"><a class="anchor" href="#可靠传输协议">#</a> 可靠传输协议</h5><ul><li><p>发送方</p><ul><li><p>收到应用层数据</p><ul><li>将数据封装入报文段中，每个报文段都包含一个序号</li><li>序号是该报文段第一个数据字节的字节流编号</li><li>启动定时器</li><li>超时间隔: TimeOutInterval</li><li>一个报文段一个定时器</li></ul></li><li><p>超时</p><ul><li>重传认为超时的报文段</li><li>重启定时器</li></ul></li><li><p>收到 ACK</p><ul><li><p>如果是对以前的未确认报文段的确认</p><ul><li>更新 SendBase</li><li>如果当前有未被确认的报文段，TCP 还要重启定时器</li></ul></li></ul></li></ul></li><li><p>接受方</p><ul><li><p>收到一个一个正常的分组 (按序分组)</p><ul><li>等待 500ms, 等待收取第二个按序分组</li><li>如果 500ms 没收到，那就只发这个</li><li>如果 500ms 内收到了，就按照第二个来的分组发送 ACK.</li></ul></li><li><p>收到一个乱序分组</p><ul><li>立即发送冗余 ACK，指明下一个期待字节的序号</li></ul></li></ul></li><li><p>快速重传</p><ul><li><p>收到三个冗余 ACK</p><ul><li>确认数据之后的报文段丢失，重传</li></ul></li></ul></li></ul><h5 id="tcp建立的过程"><a class="anchor" href="#tcp建立的过程">#</a> TCP 建立的过程</h5><ul><li>客户机发送 SYN</li><li>服务器接受 SYN, 返回 SYN&amp;ACK</li><li>客户机接受服务器 SYN 和 ACK, 回应 ACK</li><li>服务器接受 ACK,TCP 建立完成</li></ul><h5 id="tcp断开的过程"><a class="anchor" href="#tcp断开的过程">#</a> TCP 断开的过程</h5><ul><li>客户机发送 FIN</li><li>服务器接受客户机的 FIN, 回应 ACK 和 FIN</li><li>客户机接受 ACK 和 FIN, 发送 ACK</li><li>服务器接受 ACK, 连接断开</li><li>客户机不会向服务器发送消息，但是服务器还是可以向客户机发送消息 (半关闭)</li></ul><h4 id="3637-拥塞控制"><a class="anchor" href="#3637-拥塞控制">#</a> 3.6&amp;3.7 拥塞控制</h4><h5 id="拥塞控制方法"><a class="anchor" href="#拥塞控制方法">#</a> 拥塞控制方法</h5><ul><li>网络辅助的拥塞控制</li><li>端到端的控制</li></ul><h5 id="tcp-reno"><a class="anchor" href="#tcp-reno">#</a> TCP Reno</h5><ul><li><p>拥塞窗口</p><ul><li>标记为 CongWin, 滑动窗口小于等于拥塞窗口<br>取接受滑动窗口和拥塞窗口最小值</li></ul></li><li><p>慢启动</p><ul><li>拥塞窗口是之前的两倍或者门限值中比较小的那个</li><li>每收到一个 ACK, 拥塞窗口大小 + 一个 MSS</li></ul></li><li><p>拥塞避免</p><ul><li>拥塞窗口大小是之前的加一</li><li>拥塞窗口的大小大于 ssthresh (门限值) 进入拥塞避免</li><li>每收到一个 ACK, 拥塞窗口大小 + 一个 MSS*(MSS / 窗口大小)</li></ul></li><li><p>三个冗余 ACK</p><ul><li>门限值 = 原拥塞窗口一半</li><li>拥塞窗口 = 原拥塞窗口一半 + 3</li></ul></li><li><p>超时</p><ul><li>门限值 = 原拥塞窗口一半</li><li>拥塞窗口 = 1</li></ul></li><li><p>传输轮回：指发送方一次性发送拥塞窗口大小的数据，然后收到对应的全部 ACK 或出现异常就是一个传输轮回</p></li></ul><h5 id="公平性"><a class="anchor" href="#公平性">#</a> 公平性</h5><ul><li>如果 K 个 TCP 连接共享同一个带宽为 R 的瓶颈链路，每个连接的平均传输速率为 R/K</li></ul><h5 id="吞吐量-2"><a class="anchor" href="#吞吐量-2">#</a> 吞吐量</h5><ul><li>一个公式</li></ul><h3 id="4-网络层"><a class="anchor" href="#4-网络层">#</a> 4 网络层</h3><h4 id="网络基础"><a class="anchor" href="#网络基础">#</a> 网络基础</h4><h5 id="网络层概述"><a class="anchor" href="#网络层概述">#</a> 网络层概述</h5><ul><li><p>目标</p><ul><li><p>实现主机到主机之间的通信</p></li><li><p>为运输层提供支持</p><ul><li>为运输层传递数据，所有运向这个主机的信息就会先到网络层，网络层再转发到运输层，运输层再根据套接字编号进行转发</li></ul></li></ul></li><li><p>功能</p><ul><li>选路</li><li>转发</li><li>连接建立</li></ul></li></ul><h5 id="虚电路和数据报网络"><a class="anchor" href="#虚电路和数据报网络">#</a> 虚电路和数据报网络</h5><ul><li><p>虚电路</p><ul><li><p>工作机制</p><ul><li>数据开始流动之前，呼叫建立；流动结束后要断开</li><li>每一个分组携带虚电路的标识 (而不是目的主机的地址)</li><li>路径上的每一个路由器必须为进行中的连接维持连接状态信息</li><li>传输层的连接仅涉及到两个端系统（end system）</li><li>链路，路由器资源 (带宽、缓冲区) 可以分配给虚电路</li><li>目的：为了达到类似线路交换的性能</li></ul></li><li><p>组成</p><ul><li><p>从源到目的主机的路径</p></li><li><p>VC (Virtual Circuit) 号，沿着该路径的每段链路的一个号码</p></li><li><p>沿着该路径的每台路由器中的转发表</p><ul><li><p>转发表由入接口，出接口以及各接口的 VC 号</p></li><li><p>转发过程</p><ul><li>路由器之间或路由器和主机之间会建立许多链路</li><li>在转发的时候，每个链路都会做一个标号</li><li>根据进入的链路标号以及链路的结构来确定转发的端口和新的 VC 号 (每一次转发都要更新 VC 号)</li></ul></li></ul></li></ul></li><li><p>用途</p><ul><li>ATM 网络</li></ul></li></ul></li><li><p>数据报</p><ul><li><p>特点</p><ul><li>在网络层没有连接建立过程</li><li>路由器：在端到端的连接中不维护连接状态信息</li><li>在网络层不存在 “联接” 的概念</li><li>传输报文时使用目的主机地址信息</li><li>同一对主机间的报文可能会走不同的路径</li></ul></li><li><p>用途</p><ul><li>Internet</li></ul></li></ul></li></ul><h5 id="路由器工作原理"><a class="anchor" href="#路由器工作原理">#</a> 路由器工作原理</h5><ul><li><p>输入端口</p><ul><li><p>排队</p><ul><li>如果输入端口的处理速率超过了交换结构的速率，输入端口就可能产生排队</li><li>如果若干个输入端口争用一个输出端口，也会造成排队</li></ul></li><li><p>按照给出的目的地址，使用输入端口的内存中存储的路由选择表，查找输出端口</p></li></ul></li><li><p>转发结构</p><ul><li><p>功能</p><ul><li>选路算法 (控制平面)</li><li>转发表 (数据平面)</li></ul></li><li><p>结构</p><ul><li><p>经内存交换</p><ul><li>分组从输入端口拷贝到内存中再拷贝到输出端口中</li></ul></li><li><p>经总线交换</p><ul><li>一根共享总线来进行交换</li></ul></li><li><p>经内联网络</p></li></ul></li></ul></li><li><p>输出端口</p><ul><li><p>排队</p><ul><li>当通过交换结构到达的分组速率超过了输出链路的速率时，需要对分组进行缓存</li></ul></li><li><p>分组调度策略</p><ul><li>先来先服务 FCFS</li><li>加权公平排队 WFQ</li></ul></li><li><p>分组丢弃策略</p><ul><li><p>被动队列管理 (丢弃尾部)</p></li><li><p>主动队列管理</p><ul><li>随时计算平均队列长度 avgth</li><li>最小阈值 minth、最大阈值 maxth</li><li>avgth 小于 minth ，允许分组入列</li><li>avgth 大于 maxth ，分组被标记或丢弃</li><li>avgth 在 minth 和 maxth 之间，按照概率标记或丢弃分组</li></ul></li></ul></li></ul></li></ul><h4 id="数据平面"><a class="anchor" href="#数据平面">#</a> 数据平面</h4><h5 id="ip协议"><a class="anchor" href="#ip协议">#</a> IP 协议</h5><ul><li><p>报文格式</p><ul><li><p>IP 数据报首部</p><ul><li><p>20 字节</p></li><li><p>组成</p><ul><li><p>分片偏移</p><ul><li>该分片的第一个字节位于原来分片中的什么位置，假设该分片的第一个字节为原来分片中的第 x 个字节，那么就称其为 x/8</li></ul></li><li><p>长度</p><ul><li>包括首部</li></ul></li><li><p>ID</p><ul><li>分片之后 ID 一样</li></ul></li><li><p>源地址</p></li><li><p>目的地址</p></li><li><p>标志</p><ul><li><p>DF</p></li><li><p>MF</p></li><li><p>FF</p><ul><li>最后一个为 0</li><li>不是最后一个就为 1</li></ul></li></ul></li></ul></li></ul></li><li><p>IP 数据报分片</p><ul><li>网络链路有 MTU 属性，就是一次性最大传输的帧长度</li><li>大的 IP 数据报在网络中会被分成小的分片</li><li>一个数据报变成了几个数据报，一个数据报的内容部分分成若干个小的数据报，然后加上头部元素</li><li>重组只在目的主机进行</li><li>数据报头部的标识、标志以及片偏移字段用于目的主机对接收的分片进行重组</li></ul></li></ul></li><li><p>IP 地址</p><ul><li><p>32 位主机或路由器的接口标志符</p></li><li><p>接口：连接主机，路由器之间的物理链路</p></li><li><p>IP 地址只和接口有关，和路由器，主机没有关系</p></li><li><p>结构</p><ul><li>网络号</li><li>主机号</li></ul></li><li><p>在同一个局域网内的主机接口或者路由器接口 IP 地址中的网络号必须是一样的</p></li><li><p>路由器的每一个接口都具有不同网络号的 IP 地址</p></li></ul></li><li><p>子网和掩码</p><ul><li><p>从主机中借用一部分的位数作为子网号</p></li><li><p>通过将网络号和子网号相应的位置全置 1，主机号相应的位置全置 0，即可得到子网掩码</p></li><li><p>引入子网的转发</p><ul><li>比较目的地址和子网掩码的并和转发表中的网络号是不是一样的，如果不一样就是下一个，一样的话查找输出端口直接转发之.</li></ul></li></ul></li></ul><h5 id="cidr"><a class="anchor" href="#cidr">#</a> CIDR</h5><ul><li><p>编码格式</p><ul><li &lt;网络前缀, &lt;主机号>IP 地址 ::=</li><li>这样可以更加方便地划分子网，其中斜线后面的位数就是表示网络号的位数</li><li>斜线记法：192.168.0.1/24</li></ul></li><li><p>最长前缀匹配</p><ul><li><p>应当从匹配结果中选择具有最长网络前缀 (n 最大的) 的路由：最长前缀匹配 (longest-prefix mating)。</p></li><li><p>匹配的意思就是对于一个表项 xx:xx:xx:xx/n,IP 包的目的地址的前 n 位与表项 xx:xx:xx:xx 的前 n 位相同就可以 目的地址的前 n 位和网络编号的前 n 位 (前缀匹配)</p><ul><li>例子：206.0.71.142 和 206.0.71.128/25, 这个地址和 206.0.71.128 的前 25 位相同，就称之为匹配</li></ul></li><li><p>可以代表这个网络的子网掩码是前 n 位是 1, 这个地址和子网掩码的并等于网络地址的话就匹配</p></li><li><p>也就是说转发，只能转发匹配的表项，不匹配的是不能被转发的.</p></li></ul></li><li><p>层次编址</p><ul><li>小的网络统一归大的网络管</li></ul></li></ul><h5 id="dhcp服务器"><a class="anchor" href="#dhcp服务器">#</a> DHCP 服务器</h5><ul><li><p>DHCP: Dynamic Host Configuration Protocol 动态主机配置协议：从服务器上动态获取 IP 地址</p></li><li><p>做法</p><ul><li>首先客户端广播一个目的为 255.255.255.255 的 DHCP 发现报文，通过 transaction ID 来标记这个是我的请求。主机收到 transaction ID 和这个一样的 DHCP 提供报文就知道肯定是自己的了</li><li>DHCP 服务器会广播一个 DHCP 提供报文，来响应 DHCP 发现，其中包括各种网络信息</li><li>接着客户端会广播一个 DHCP 请求报文，请求使用 DHCP 服务器推荐的报文.</li><li>DHCP 服务器响应一个 ACK 请求</li></ul></li></ul><h5 id="nat内网-外网地址转换协议"><a class="anchor" href="#nat内网-外网地址转换协议">#</a> NAT (内网 - 外网地址转换协议)</h5><ul><li><p>本地网络只要使用一个 IP 地址就可以和外部网络相连，本地网络中的所有主机 (IP:10.0.0.x) 在外面的人眼中就是一个特殊的外部地址。也就是说本地网络的所有主机和外面的网络交流都是用同一个 IP 地址来进行通信。所有离开本地网络的报文都拥有同一个源 IP 地址，有不同的源端口号</p></li><li><p>维护一个 NAT 路由，路由在本地网络有一个地址，在全球网络也有一个地址。还有一张 NAT 表，分别记录本地网络中的地址，进程和全球网络的地址，进程的对应关系</p></li><li><p>做法</p><ul><li>发送数据报：将每个外出报文的源 IP 地址，端口号替换为 NAT IP 地址以及新的端口号</li><li>接收数据报：根据 NAT 转换表将每个进入报文的 NAT IP 地址，端口号替换为相应的目的 IP 地址以及端口号，目的地址变成 NAT 转换表里面的元素</li></ul><p>![image-20211202135314414](/Users/xupengzhu/Library/Application Support/typora-user-images/image-20211202135314414.png)</p></li><li><p>有服务器怎么办</p><ul><li><p>静态记录</p><ul><li>如 (123.76.29.7,80) 总是指向 (10.0.0.1,80)</li></ul></li><li><p>即用即插</p><ul><li>了解公共 IP 地址</li><li>向路由器注册 / 移除映射记录</li><li>（内部 IP 地址，内部端口号）（公共 IP 地址，公共端口号）</li><li>内部主机通过某种渠道向外部应用程序公开（公共 IP 地址，公共端口号）</li></ul></li><li><p>中继</p></li></ul></li></ul><h5 id="icmp互联网控制报文协议"><a class="anchor" href="#icmp互联网控制报文协议">#</a> ICMP (互联网控制报文协议)</h5><ul><li>用于主机、路由器、网关之间交换网络层信息</li><li>ICMP 报文封装在 IP 分组 (是 IP 报里面的数据部分) 中</li></ul><h5 id="ipv6协议"><a class="anchor" href="#ipv6协议">#</a> IPv6 协议</h5><ul><li><p>无检查和，中间结点无需计算</p></li><li><p>中间结点不再负责分片和重组，由端结点负责</p></li><li><p>首部长度固定，加速中间结点转发速度</p></li><li><p>地址的长度是 128 位的</p></li><li><p>与 IPv4 的兼容</p><ul><li>隧道模式，IPv6 报文段作为 IPv4 的数据放在分组</li><li>隧道里面，如果有一部分网络不支持 IPv6, 那么就把 IPv6 的分组放到 IPv4 分组的数据部分</li><li>IPv4 分组的目的地址是 IPv4 隧道的终点，原地址是 IPv4 隧道的起点</li></ul></li></ul><h4 id="控制平面"><a class="anchor" href="#控制平面">#</a> 控制平面</h4><h5 id="选路算法"><a class="anchor" href="#选路算法">#</a> 选路算法</h5><ul><li><p>AS 内部选路协议</p><ul><li><p>OSPF 算法 (Link State)</p><ul><li><p>所有路由器都知道整个网络拓扑图以及链路的费用信</p></li><li><p>迪克斯特拉算法</p><ul><li>先计算每个点到源点的距离</li><li>选择一个到源点距离最短的一个点 w 选一个进入 K 集合</li><li>对于这个点 w, 看看所有和 w 邻接点 v, 看看是原来的 D (v) 短，还是经过 w 的新路径短：D (w)+c (v,w)<br>D(v) = min( D(v), D(w) + c(w,v) )</li></ul></li><li><p>向本自治系统中所有路由器发送信息，使用的方法是洪泛法</p></li><li><p>发送的信息就是与本路由器相邻的所有路由器的链路状态</p></li><li><p>只有当链路状态发生变化时，路由器才用洪泛法向所有路由器发送此信息，过了 30 分钟，就算没有发生变化，也要广播状态</p></li><li><p>所有路由器会构建一个链路状态数据库，这个数据库就是全网络的拓扑结构图</p></li></ul></li><li><p>RIP 算法 (Distance Vector)</p><ul><li><p>每个路由器仅有与其相连链路的费用信息</p></li><li c(x,v)+dv(y)><p>dx(y)=minv</p></li><li><p>路由器之间的链路消费永远是 1</p></li><li><p>更新算法</p><ul><li>路由器 X 得到相邻路由器 Y 的路由表，从而得知：Y 到网络 Z 的最短距离为 N</li><li>如果路由器 X 没有到网络 Z 的路由条目，则添加一条经由路由器 Y 到网络 Z 距离 N+1 的路由条目</li><li>如果路由器 X 已有到网络 Z 的路由条目，其距离为 M，如果 M&gt;N+1，则更新该条目为经由路由器 Y 到网络 Z 距离 N+1，否则不更新</li></ul></li><li><p>毒性逆转</p><ul><li>如果 z 通过 y 选路到达目的地 x :z 将通告 y，它到 x 的距离是无穷大 (所以 y 不会通过 z 到达 x)</li></ul></li><li><p>选路更新消息每 30s 在邻居之间以 RIP 响应报文（RIP 通告）的形式进行交换</p></li><li><p>路由器经过 180s 没有收到来自某个邻居的 RIP 通告，则认为该邻居已离线，修改选路表，向其它邻居广播</p></li></ul></li></ul></li><li><p>AS 间选路协议</p><ul><li><p>BGP 算法</p><ul><li><p>AS 路由需要做的事情</p><ul><li>从相邻 AS 获取子网可达性信息</li><li>向该 AS 内部的所有路由器传播这些可达性信息</li><li>基于该可达性信息和 AS 策略，决定到达子网的 “好” 路由</li></ul></li><li><p>BGP 发言人</p><ul><li>和其他 AS 交换信息使用 TCP 连接</li><li>BGP 发言人要向其他 BGP 发言人交换 AS 路由信息，可以是边界路由器</li></ul></li><li><p>BGP 路由通告</p><ul><li><p>其他 AS 可以通过 BGP 发言人传递通告</p></li><li><p>通告分成两部分</p><ul><li><p>前缀</p><ul><li>可以到达的网络号</li></ul></li><li><p>属性</p><ul><li>AS-PATH: 该属性包含了前缀的通告已经通过的那些 AS (经过哪些 AS 了)</li><li>NEXT-HOP: 指明到下一跳 AS 的具体的路由器 (因为可能从当前 AS 到下一跳 AS 之间可能有多条链路)</li></ul></li></ul></li><li><p>然后 BGP 通过 iBGP 向本 AS 内所有路由器发送通告</p></li></ul></li><li><p>BGP 路由选路</p><ul><li>本地偏好值：策略决定。具有最高本地偏好值的路由将被选择。</li><li>最短 AS-PATH ：在余下的路由中，具有最短 AS-PATH 的路由将被选择。</li><li>从余下的路由中，选择具有最靠近 NEXT-HOP 路由器的路由：热土豆路由。</li><li>如果仍余下多条路由，该路由器使用 BGP 标识以选择路由。</li></ul></li></ul></li></ul></li><li><p>总的选路</p><ul><li><p>路由器知晓前缀的存在性</p></li><li><p>确定此前缀的转发端口</p><ul><li><p>使用 BGP 路由选择确定最佳域间路由</p><ul><li>通过 BGP 算法算出去往哪一个 AS 合适</li><li>然后根据表项中的 NEXT-HOP 找到路由</li></ul></li><li><p>使用 IGP 路由选择确定最佳域内路由</p><ul><li>根据 AS 内部的选路算法 (OSPF/RIP) 来选择去往本 AS 内的何处</li></ul></li><li><p>确定最佳路由的转发端口</p><ul><li>决定完之后就可以添加端口了</li></ul></li></ul></li><li><p>将（前缀，端口）表项放入转发表中</p></li></ul></li></ul><h3 id="链路层"><a class="anchor" href="#链路层">#</a> 链路层</h3><h4 id="61-链路层概述"><a class="anchor" href="#61-链路层概述">#</a> 6.1 链路层概述</h4><h5 id="术语"><a class="anchor" href="#术语">#</a> 术语</h5><ul><li>节点：主机和路由器</li><li>链路：沿着通信路径连接相邻节点的通信信道</li><li>帧：数据链路层的分组单元</li></ul><h5 id="服务"><a class="anchor" href="#服务">#</a> 服务</h5><ul><li>成帧，链路访问</li><li>差错检测</li><li>可靠传递</li><li>流量控制</li><li>差错纠正</li></ul><h4 id="62-差错检测"><a class="anchor" href="#62-差错检测">#</a> 6.2 差错检测</h4><h5 id="crc循环校验码"><a class="anchor" href="#crc循环校验码">#</a> CRC 循环校验码</h5><h4 id="63-多路访问链路和协议"><a class="anchor" href="#63-多路访问链路和协议">#</a> 6.3 多路访问链路和协议</h4><h5 id="广播信道的特点"><a class="anchor" href="#广播信道的特点">#</a> 广播信道的特点</h5><ul><li>单个共享广播信道</li><li>两个或多个节点同时传输：相互干扰</li><li>碰撞：一个节点同时收到两个或多个信号</li></ul><h5 id="信道划分协议"><a class="anchor" href="#信道划分协议">#</a> 信道划分协议</h5><ul><li><p>将信道划分成小的 “片”（时隙、频率、编码）</p></li><li><p>将 “片” 分配给节点使用</p></li><li><p>种类</p><ul><li>TDMA</li><li>FDMA</li><li>CDMA</li></ul></li></ul><h5 id="随机访问协议"><a class="anchor" href="#随机访问协议">#</a> 随机访问协议</h5><ul><li><p>信道没有被分割，允许碰撞</p></li><li><p>碰撞恢复</p></li><li><p>ALOHA</p><ul><li>纯 ALOHA</li><li>时隙 ALOHA</li></ul></li><li><p>碰撞</p><ul><li>当一个结点传输数据的时候收到了别的结点发来的数据就叫做碰撞.</li><li>强化碰撞：当发送数据的站一旦发现发生了碰撞时，除了立即停止发送数据外，还要再继续发送若干比特的人为干扰信号</li><li>最先发送数据帧的站，在发送数据帧后至多经过时间 2t （两倍的端到端时延）就可知道发送的数据帧是否遭受了碰撞。以太网的端到端往返时延 2t 称为争用期，或碰撞窗口。</li></ul></li></ul><h5 id="轮流协议"><a class="anchor" href="#轮流协议">#</a> 轮流协议</h5><ul><li>节点轮流传送，但数据量大的节点轮流更长时间</li><li>主节点邀请从节点轮流传输</li><li>控制令牌依次通过各个结点</li></ul><h4 id="64-交换局域网"><a class="anchor" href="#64-交换局域网">#</a> 6.4 交换局域网</h4><h5 id="mac地址"><a class="anchor" href="#mac地址">#</a> Mac 地址</h5><ul><li>在数据链路层标识每块网络适配器，使得能够在广播信道上寻址目标节点，48 位</li></ul><h5 id="地址解析协议arp"><a class="anchor" href="#地址解析协议arp">#</a> 地址解析协议（ARP）</h5><ul><li><p>根据目标的 IP 地址获取其 MAC 地址</p></li><li><p>ARP 缓存：局域网节点的 IP/MAC 地址映射</p></li><li><p>ARP 请求包</p><ul><li>目的为 FF-FF-FF-FF-FF, 包含自己源的 Mac 头</li><li>IP 报头</li><li>ARP 报文：你的 Mac 是啥啊</li></ul></li><li><p>ARP 应答报</p><ul><li>源是自己 Mac 地址的报头</li><li>IP 报头</li><li>ARP 报文：我的 Mac 是...</li></ul></li><li><p>注意：每一次经过路由器都更新一遍 Mac 头，但是不会更新 IP 头，Mac 头的目的会是下一个路由器 Mac, 源就是自己路由器的 Mac</p></li></ul><h5 id="以太网"><a class="anchor" href="#以太网">#</a> 以太网</h5><ul><li><p>帧</p><ul><li><p>结构</p><ul><li><p>数据</p></li><li><p>首部</p><ul><li>同步码</li><li>源 Mac</li><li>目的 Mac</li><li>类型</li></ul></li><li><p>尾部 CRC</p></li></ul></li></ul></li><li><p>CSMA/CD</p><ul><li><p>特点</p><ul><li>没有时隙</li><li>当适配器侦听到其它适配器在传输，则它不传输帧，即载波侦听</li><li>正在传输的适配器若检测到其它适配器也在传输，则它中止自己的传输，即碰撞检测</li><li>在重新传输之前，适配器要等待一段随机时间，即随机回退</li></ul></li><li><p>几个定义</p><ul><li>拥塞信号：用来确保所有传输者都能检测到碰撞而传输的信号；48 比特长</li><li>比特时间：传输 1 比特所需时间。在 10Mbps 的以太网中，当 K=1023 时，等待时间大约为 50ms</li></ul></li><li><p>指数回退</p><ul><li>中止传输后，适配器进入指数回退阶段，在经历第 m 次碰撞后，适配器随机从 {0,1,2,…,2m-1} 中选择 K 值。适配器在等待 K·512 比特时间后在重传</li></ul></li><li><p>争用期</p><ul><li>以太网取 51.2us 为争用期的长度。</li><li>对于 10 Mb/s 以太网，在争用期内可发送 512 bit，即 64 字节。</li></ul></li><li><p>最短有效帧长</p><ul><li>以太网规定了最短有效帧长为 64 字节，凡长度小于 64 字节的帧都是由于冲突而异常中止的无效帧。</li></ul></li><li><p>信号编码</p><ul><li>曼彻斯特编码</li><li>差分曼彻斯特编码</li></ul></li></ul></li><li><p>链路层交换机</p><ul><li><p>工作原理</p><ul><li>不断监听各接口是否有信号</li><li>收到无差错的帧则缓存，反之将差错帧丢弃</li><li>若所收帧的目的 MAC 地址属另一网段，则通过站表决定向何接口转发</li><li>交换机不转发同一网段内通信的帧</li><li>交换机不修改所转发的帧的源地址</li></ul></li><li><p>交换机是透明的</p><ul><li>这里所谓 “透明” 是指局域网上的每个站并不知道所发送的帧将经过哪几个交换机，即交换机对各站来说是看不见的</li></ul></li><li><p>选路原理</p><ul><li>① 从接口 x 收到帧，有差错则丢弃，否则在站表中查找目的站 MAC 地址；</li><li>② 找到有，则取出相应的接口 d，转③，否则转⑤；</li><li>③ 如果所给 MAC 地址的接口 d=x，则丢弃此帧（不需要转发），否则从接口 d 转发此帧；</li><li>④ 转到⑥；</li><li>⑤ 向除 x 以外的所有接口转发此帧（可保证找到目的站）</li><li>⑥ 如源站不在站表中，则将源站 MAC 地址写入站表，登记该帧进入交换机的接口号和时间，设置计时器，然后转⑧。否则转⑦；</li><li>⑦ 更新计时器（由于网络拓扑经常变化，因此，超时记录要删除，以反映最新状态）；</li><li>⑧ 等待新的数据帧。转①</li><li>支撑树 --- 交换机互相知道各自的拓扑结构，构建一个最小生成树.</li></ul></li></ul></li></ul><h5 id="vlan"><a class="anchor" href="#vlan">#</a> VLAN</h5><ul><li>局域网交换机是组建虚拟局域网的核心设备。</li><li>组成逻辑工作组的各结点不受物理位置的限制，换言之同一逻辑工作组的成员不一定要连接在同一个物理网段上。</li><li>当一个结点从一个逻辑工作组转移到另一个逻辑工作组时，只需要通过软件设定，而不需要改变它在网络中的物理位置。</li><li>不同的子网就是不同的 VLAN, 所以说 VLAN 具有流量隔离的作用，一个 VLAN 的内容只能传输到同一个 VLAN 或者 trunk 端口里面.</li><li>从一个 VLAN 转发到不同的 VLAN 里面，先转发到 trunk 端口，通过 trunk 端口进入路由器完成转发.</li></ul><p>集线器 -- 单纯把几个机器连接在一起，碰撞域变大，集线器左边的元素会影响集线器右边的元素传递数据，但是集线器左边和右边就互联了</p><h3 id="7-无线网络和移动网络"><a class="anchor" href="#7-无线网络和移动网络">#</a> 7 无线网络和移动网络</h3><h4 id="71-概述"><a class="anchor" href="#71-概述">#</a> 7.1 概述</h4><h5 id="无线网络中的元素"><a class="anchor" href="#无线网络中的元素">#</a> 无线网络中的元素</h5><ul><li><p>无线主机</p><ul><li>可以是便携机，PDA, IP 电话；</li><li>能运行程序；</li><li>本身既可能是固定，也可能是移动的.</li></ul></li><li><p>无线链路</p><ul><li>典型的作用是用于连接无线主机和基站；</li><li>也可以用于骨干链路：就是基站与边缘路由器相连的链路</li></ul></li><li><p>基站</p><ul><li><p>典型的作用是用于连接无线网络；</p></li><li><p>负责向其覆盖范围内的主机发送和接收分组，在无线网络和无线主机之间起链路层中继作用。如：蜂窝塔、802.11 接入点</p><ul><li>基站向基站覆盖范围内的主机提供类似于链路层中继作用的通信服务</li></ul></li><li><p>无线主机连入基站，然后基站与更宽广的网络进行连接。主机 -&gt; 基站 -&gt; 局域网 -&gt; 因特网 (宽广的网络)</p></li></ul></li></ul><h5 id="两种模式"><a class="anchor" href="#两种模式">#</a> 两种模式</h5><ul><li><p>基础设施模式</p><ul><li><p>基础设施模式是指预先建立起来的、能够覆盖一定地理范围的一批固定基站。</p></li><li><p>移动主机通过基站接入有线网络；</p></li><li><p>切换：移动主机的移动可能会改变与之相关联的基站。</p></li><li><p>关联</p><ul><li>无线主机位于某个基站的无线通信覆盖范围内</li><li>该主机使用该基站中继它与更大网络之间的数据</li></ul></li><li><p>切换</p><ul><li>当一台移动主机移动范围超出一个基站的覆盖范围而到达另一个基站的覆盖范围后，它将改变其接入更大网络的连接点</li></ul></li></ul></li><li><p>Ad hoc</p><ul><li>无基站；</li><li>节点 (移动主机) 仅仅能够在其覆盖范围内向其他节点传送数据；</li><li>节点之间相互通信组成的临时网络：在它们内部进行选路和地址分配。</li><li>节点和节点之间传输数据，热点</li></ul></li></ul><h4 id="72-无线链路特征"><a class="anchor" href="#72-无线链路特征">#</a> 7.2 无线链路特征</h4><h5 id="递减的信号强度"><a class="anchor" href="#递减的信号强度">#</a> 递减的信号强度</h5><ul><li>SNR 信噪比</li><li>BER 比特差错率</li><li>隐藏终端</li></ul><h5 id="来自其他源的干扰"><a class="anchor" href="#来自其他源的干扰">#</a> 来自其他源的干扰</h5><h5 id="多径传播"><a class="anchor" href="#多径传播">#</a> 多径传播</h5><h5 id="cdma"><a class="anchor" href="#cdma">#</a> CDMA</h5><ul><li>每个用户都被指派一个 m 位长的码片序列</li><li>用户发送 1 的时候就发送原来的码片，如果发送 0 的化就是反码</li><li>习惯上，将码片序列中的 “0” 写成 “-1”，“1” 写成 “+1”</li><li>任何两个站点的码片向量规格化内积为 0, 就是每个维度的值互相乘然后加起来的值为 0</li><li>自己和自己相乘为 1, 自己和自己的反码</li><li>基站假如想获得来自于 S 的信号，就应该是 (Sx+Tx)*S (S 为码片向量)</li></ul><h4 id="73-80211无线lan"><a class="anchor" href="#73-80211无线lan">#</a> 7.3 802.11 无线 LAN</h4><h5 id="所有的无线终端通过基站ap通信"><a class="anchor" href="#所有的无线终端通过基站ap通信">#</a> 所有的无线终端通过基站 AP 通信</h5><h5 id="80211b的信道划分"><a class="anchor" href="#80211b的信道划分">#</a> 802.11b 的信道划分</h5><ul><li>2.4GHz—2.485GHz，共 85MHz</li><li>划分出 11 个信道</li><li>1,6,11 是无重叠的，其他的都是有重叠</li></ul><h5 id="主机关联基站的过程"><a class="anchor" href="#主机关联基站的过程">#</a> 主机关联基站的过程</h5><ul><li>每个 AP 周期性发送信标帧，包括 AP 的 SSID 和 MAC</li><li>主机对 11 个信道进行扫描，获取所有可用的 AP 的信标帧</li><li>主机选择其中一个 AP 进行关联，加入其所属子网</li><li>主机向关联 AP 发送 DHCP 发现报文，获取 IP 地址</li><li>可能需要身份鉴别</li></ul><h5 id="csmaca"><a class="anchor" href="#csmaca">#</a> CSMA/CA</h5><ul><li><p>发送方工作流程</p><ul><li><p>如果侦听到信道闲置了 DIFS 秒，发送方在发送数据帧之前首先使用 CSMA 协议发送一个短的请求发送 RTS (request-to-send) 帧给 AP：</p><ul><li><p>RTS 会被所有节点侦测到</p><ul><li>发送方发送</li><li>其他站点让开</li></ul></li></ul></li><li><p>AP 过 SIFS 后广播一个 CTS 给 RTS,CTS 是被广播的</p></li><li><p>如果侦听到信道忙，则选择一个随机避退值作为定时器的定时时间，并在侦听信道闲置时递减该值。</p><ul><li>定时时间一到且信道空闲就发送数据</li></ul></li><li><p>过了 SIFS 秒后，主机开始发送数据</p></li><li><p>如果收到确认，且站点要继续发送数据，过 CSMA 的定时器时间之后继续发送</p></li><li><p>如果没有收到确认（ ACK）, 则在更大范围内选取随机值作为定时器，过定时器时间后发送</p></li></ul></li><li><p>接收方工作流程</p><ul><li>如果帧收到则 OK，等待 SIFS 秒后返回 ACK (ACK 是必须的因为隐蔽站问题)</li></ul></li></ul><h5 id="80211-mac帧格式"><a class="anchor" href="#80211-mac帧格式">#</a> 802.11 Mac 帧格式</h5><ul><li>地址 1: 无线主机或 AP 接收该帧的 MAC 地址</li><li>地址 2: 无线主机或 AP 发送该帧的 MAC 地址</li><li>地址 3: 与 AP 连接的路由器接口的 MAC 地址，注意，与 AP 连接的路由器，也就是边缘路由器的地址</li></ul><h4 id="75-移动管理不考"><a class="anchor" href="#75-移动管理不考">#</a> 7.5 移动管理不考</h4></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-11-29 23:33:43" itemprop="dateModified" datetime="2022-11-29T23:33:43+08:00">2022-11-29</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="yuan 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="yuan 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="yuan 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>yuan <i class="ic i-at"><em>@</em></i>yuan</li><li class="link"><strong>本文链接：</strong> <a href="https://jyuanhust.github.io/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%BD%91%E6%80%BB%E5%A4%8D%E4%B9%A0-%E6%9C%B1%E4%BD%AC/">https://jyuanhust.github.io/2023/06/25/computer-science/base/计算机网络/计网总复习-朱佬/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A0%E7%96%91%E9%9A%BE%E7%82%B9/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;zkz0&#x2F;image&#x2F;raw&#x2F;master&#x2F;img&#x2F;img(61).webp" title="未命名"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>未命名</h3></a></div><div class="item right"><a href="/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%BD%91%E8%AF%BE%E5%90%8E%E9%A2%98/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;zkz0&#x2F;image&#x2F;raw&#x2F;master&#x2F;img&#x2F;img(51).webp" title="未命名"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>未命名</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%BD%91%E6%80%BB%E5%A4%8D%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">计网总复习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text">重点内容</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#rdt%E7%B3%BB%E5%88%97"><span class="toc-number">2.0.1.</span> <span class="toc-text">rdt 系列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#gbn"><span class="toc-number">2.0.2.</span> <span class="toc-text">GBN</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sr"><span class="toc-number">2.0.3.</span> <span class="toc-text">SR</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#tcp"><span class="toc-number">2.0.4.</span> <span class="toc-text">TCP</span></a></li></ol></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E4%BA%92%E8%81%94%E7%BD%91"><span class="toc-number">3.</span> <span class="toc-text">1 计算机网络与互联网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%92%E8%81%94%E7%BD%91"><span class="toc-number">3.1.</span> <span class="toc-text">1.1 什么是互联网</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%84%E6%88%90"><span class="toc-number">3.1.1.</span> <span class="toc-text">构成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#isp"><span class="toc-number">3.1.2.</span> <span class="toc-text">ISP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E8%A7%92%E5%BA%A6"><span class="toc-number">3.1.3.</span> <span class="toc-text">应用程序角度</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="toc-number">3.2.</span> <span class="toc-text">1.2 网络边缘</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">3.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.2.</span> <span class="toc-text">通信方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%85%A5"><span class="toc-number">3.2.3.</span> <span class="toc-text">网络接入</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83"><span class="toc-number">3.3.</span> <span class="toc-text">1.3 网络核心</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">3.3.1.</span> <span class="toc-text">交换方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">3.3.2.</span> <span class="toc-text">概念</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-%E5%88%86%E7%BB%84%E7%BD%91%E7%BB%9C%E7%9A%84%E8%A1%A1%E9%87%8F"><span class="toc-number">3.4.</span> <span class="toc-text">1.4 分组网络的衡量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6"><span class="toc-number">3.4.1.</span> <span class="toc-text">时延</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A2%E5%8C%85"><span class="toc-number">3.4.2.</span> <span class="toc-text">丢包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">3.4.3.</span> <span class="toc-text">吞吐量</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-%E5%B1%82%E6%AC%A1%E5%8C%96%E7%9A%84%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">3.5.</span> <span class="toc-text">1.5 层次化的网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">3.5.1.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB"><span class="toc-number">3.5.2.</span> <span class="toc-text">关系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E5%90%8D%E8%AF%8D"><span class="toc-number">3.5.3.</span> <span class="toc-text">相关名词</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">4.</span> <span class="toc-text">2 应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#21-%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86"><span class="toc-number">4.1.</span> <span class="toc-text">2.1 应用层协议原理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.1.1.</span> <span class="toc-text">网络应用程序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.1.2.</span> <span class="toc-text">应用层协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.1.3.</span> <span class="toc-text">需求的服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#socket"><span class="toc-number">4.1.4.</span> <span class="toc-text">Socket</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-web%E5%92%8Chttp"><span class="toc-number">4.2.</span> <span class="toc-text">2.2 Web 和 HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%84%E6%88%90-2"><span class="toc-number">4.2.1.</span> <span class="toc-text">构成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E8%A1%A8%E8%BE%BE"><span class="toc-number">4.2.2.</span> <span class="toc-text">内容表达</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.2.3.</span> <span class="toc-text">传输模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#http%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-number">4.2.4.</span> <span class="toc-text">HTTP 请求报文</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#http%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">4.2.5.</span> <span class="toc-text">HTTP 响应报文</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#cookies"><span class="toc-number">4.2.6.</span> <span class="toc-text">Cookies</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E5%B1%82"><span class="toc-number">5.</span> <span class="toc-text">运输层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#31-%E8%BF%90%E8%BE%93%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">5.1.</span> <span class="toc-text">3.1 运输层概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">5.1.1.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9"><span class="toc-number">5.1.2.</span> <span class="toc-text">工作内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E7%B0%87"><span class="toc-number">5.1.3.</span> <span class="toc-text">协议簇</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-2"><span class="toc-number">5.1.4.</span> <span class="toc-text">功能</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#32-%E5%A4%8D%E7%94%A8%E5%92%8C%E5%88%86%E8%A7%A3"><span class="toc-number">5.2.</span> <span class="toc-text">3.2 复用和分解</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3"><span class="toc-number">5.2.1.</span> <span class="toc-text">端口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="toc-number">5.2.2.</span> <span class="toc-text">套接字</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#33-udp%E5%92%8C%E5%B7%AE%E9%94%99%E6%A3%80%E9%AA%8C"><span class="toc-number">5.3.</span> <span class="toc-text">3.3 UDP 和差错检验</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B"><span class="toc-number">5.3.1.</span> <span class="toc-text">流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">5.3.2.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#udp%E6%8A%A5%E6%96%87%E6%AE%B5%E7%9A%84%E9%A6%96%E9%83%A8"><span class="toc-number">5.3.3.</span> <span class="toc-text">UDP 报文段的首部</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A3%80%E9%AA%8C%E5%92%8C"><span class="toc-number">5.3.4.</span> <span class="toc-text">检验和</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#34-%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E5%8E%9F%E7%90%86"><span class="toc-number">5.4.</span> <span class="toc-text">3.4 可靠传输原理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#rdt%E7%B3%BB%E5%88%97-2"><span class="toc-number">5.4.1.</span> <span class="toc-text">rdt 系列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#gbn-2"><span class="toc-number">5.4.2.</span> <span class="toc-text">GBN</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sr-2"><span class="toc-number">5.4.3.</span> <span class="toc-text">SR</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#35-tcp"><span class="toc-number">5.5.</span> <span class="toc-text">3.5 TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E9%A6%96%E9%83%A8"><span class="toc-number">5.5.1.</span> <span class="toc-text">报文首部</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B6%85%E6%97%B6%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.5.2.</span> <span class="toc-text">超时设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.5.3.</span> <span class="toc-text">可靠传输协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#tcp%E5%BB%BA%E7%AB%8B%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">5.5.4.</span> <span class="toc-text">TCP 建立的过程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#tcp%E6%96%AD%E5%BC%80%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">5.5.5.</span> <span class="toc-text">TCP 断开的过程</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3637-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">5.6.</span> <span class="toc-text">3.6&amp;3.7 拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">5.6.1.</span> <span class="toc-text">拥塞控制方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#tcp-reno"><span class="toc-number">5.6.2.</span> <span class="toc-text">TCP Reno</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%AC%E5%B9%B3%E6%80%A7"><span class="toc-number">5.6.3.</span> <span class="toc-text">公平性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F-2"><span class="toc-number">5.6.4.</span> <span class="toc-text">吞吐量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">6.</span> <span class="toc-text">4 网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80"><span class="toc-number">6.1.</span> <span class="toc-text">网络基础</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">6.1.1.</span> <span class="toc-text">网络层概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E7%94%B5%E8%B7%AF%E5%92%8C%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">6.1.2.</span> <span class="toc-text">虚电路和数据报网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">6.1.3.</span> <span class="toc-text">路由器工作原理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2"><span class="toc-number">6.2.</span> <span class="toc-text">数据平面</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ip%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.2.1.</span> <span class="toc-text">IP 协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#cidr"><span class="toc-number">6.2.2.</span> <span class="toc-text">CIDR</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dhcp%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">6.2.3.</span> <span class="toc-text">DHCP 服务器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#nat%E5%86%85%E7%BD%91-%E5%A4%96%E7%BD%91%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.2.4.</span> <span class="toc-text">NAT (内网 - 外网地址转换协议)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#icmp%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.2.5.</span> <span class="toc-text">ICMP (互联网控制报文协议)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ipv6%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.2.6.</span> <span class="toc-text">IPv6 协议</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2"><span class="toc-number">6.3.</span> <span class="toc-text">控制平面</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%89%E8%B7%AF%E7%AE%97%E6%B3%95"><span class="toc-number">6.3.1.</span> <span class="toc-text">选路算法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">7.</span> <span class="toc-text">链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#61-%E9%93%BE%E8%B7%AF%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">7.1.</span> <span class="toc-text">6.1 链路层概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%AF%E8%AF%AD"><span class="toc-number">7.1.1.</span> <span class="toc-text">术语</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1"><span class="toc-number">7.1.2.</span> <span class="toc-text">服务</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#62-%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B"><span class="toc-number">7.2.</span> <span class="toc-text">6.2 差错检测</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#crc%E5%BE%AA%E7%8E%AF%E6%A0%A1%E9%AA%8C%E7%A0%81"><span class="toc-number">7.2.1.</span> <span class="toc-text">CRC 循环校验码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#63-%E5%A4%9A%E8%B7%AF%E8%AE%BF%E9%97%AE%E9%93%BE%E8%B7%AF%E5%92%8C%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.3.</span> <span class="toc-text">6.3 多路访问链路和协议</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E4%BF%A1%E9%81%93%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">7.3.1.</span> <span class="toc-text">广播信道的特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.3.2.</span> <span class="toc-text">信道划分协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.3.3.</span> <span class="toc-text">随机访问协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AE%E6%B5%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.3.4.</span> <span class="toc-text">轮流协议</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#64-%E4%BA%A4%E6%8D%A2%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">7.4.</span> <span class="toc-text">6.4 交换局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#mac%E5%9C%B0%E5%9D%80"><span class="toc-number">7.4.1.</span> <span class="toc-text">Mac 地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AEarp"><span class="toc-number">7.4.2.</span> <span class="toc-text">地址解析协议（ARP）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">7.4.3.</span> <span class="toc-text">以太网</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#vlan"><span class="toc-number">7.4.4.</span> <span class="toc-text">VLAN</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%92%8C%E7%A7%BB%E5%8A%A8%E7%BD%91%E7%BB%9C"><span class="toc-number">8.</span> <span class="toc-text">7 无线网络和移动网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#71-%E6%A6%82%E8%BF%B0"><span class="toc-number">8.1.</span> <span class="toc-text">7.1 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">8.1.1.</span> <span class="toc-text">无线网络中的元素</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">8.1.2.</span> <span class="toc-text">两种模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#72-%E6%97%A0%E7%BA%BF%E9%93%BE%E8%B7%AF%E7%89%B9%E5%BE%81"><span class="toc-number">8.2.</span> <span class="toc-text">7.2 无线链路特征</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%92%E5%87%8F%E7%9A%84%E4%BF%A1%E5%8F%B7%E5%BC%BA%E5%BA%A6"><span class="toc-number">8.2.1.</span> <span class="toc-text">递减的信号强度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%A5%E8%87%AA%E5%85%B6%E4%BB%96%E6%BA%90%E7%9A%84%E5%B9%B2%E6%89%B0"><span class="toc-number">8.2.2.</span> <span class="toc-text">来自其他源的干扰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E5%BE%84%E4%BC%A0%E6%92%AD"><span class="toc-number">8.2.3.</span> <span class="toc-text">多径传播</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#cdma"><span class="toc-number">8.2.4.</span> <span class="toc-text">CDMA</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#73-80211%E6%97%A0%E7%BA%BFlan"><span class="toc-number">8.3.</span> <span class="toc-text">7.3 802.11 无线 LAN</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E7%9A%84%E6%97%A0%E7%BA%BF%E7%BB%88%E7%AB%AF%E9%80%9A%E8%BF%87%E5%9F%BA%E7%AB%99ap%E9%80%9A%E4%BF%A1"><span class="toc-number">8.3.1.</span> <span class="toc-text">所有的无线终端通过基站 AP 通信</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#80211b%E7%9A%84%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86"><span class="toc-number">8.3.2.</span> <span class="toc-text">802.11b 的信道划分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E5%85%B3%E8%81%94%E5%9F%BA%E7%AB%99%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">8.3.3.</span> <span class="toc-text">主机关联基站的过程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#csmaca"><span class="toc-number">8.3.4.</span> <span class="toc-text">CSMA&#x2F;CA</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#80211-mac%E5%B8%A7%E6%A0%BC%E5%BC%8F"><span class="toc-number">8.3.5.</span> <span class="toc-text">802.11 Mac 帧格式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#75-%E7%A7%BB%E5%8A%A8%E7%AE%A1%E7%90%86%E4%B8%8D%E8%80%83"><span class="toc-number">8.4.</span> <span class="toc-text">7.5 移动管理不考</span></a></li></ol></li></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="yuan" data-src="/images/avatar.jpg"><p class="name" itemprop="name">yuan</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">429</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">72</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">61</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item email" data-url="bWFpbHRvOjIwODM2MzU1MjVAcXEuY29t" title="mailto:2083635525@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>链接</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A0%E7%96%91%E9%9A%BE%E7%82%B9/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/06/25/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%BD%91%E8%AF%BE%E5%90%8E%E9%A2%98/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E5%A4%A7%E5%94%90%E6%9D%AF/%E4%BB%BB%E5%8A%A15-5G%E7%89%A9%E7%90%86%E5%B1%82%E8%BF%87%E7%A8%8B/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" title="分类于 pytorch深度学习">pytorch深度学习</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter-appendix-tools-for-deep-learning/" title="分类于 chapter_appendix-tools-for-deep-learning">chapter_appendix-tools-for-deep-learning</a></div><span><a href="/2023/02/15/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter_appendix-tools-for-deep-learning/selecting-servers-gpus/" title="selecting-servers-gpus">selecting-servers-gpus</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/JavaScript/%E4%B9%A0%E9%A2%98/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/base/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" title="分类于 pytorch深度学习">pytorch深度学习</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter-deep-learning-computation/" title="分类于 chapter_deep-learning-computation">chapter_deep-learning-computation</a></div><span><a href="/2023/02/15/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter_deep-learning-computation/index/" title="index">index</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/base/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E6%89%8B%E5%8A%BF%E8%AF%86%E5%88%AB/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/25/computer-science/%E6%AF%94%E8%B5%9B/%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/ES6/%E7%9F%A5%E8%AF%86%E7%82%B9/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/" title="分类于 nlp">nlp</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/base/" title="分类于 base">base</a></div><span><a href="/2022/08/24/ai/nlp/base/pytorch%E4%B8%ADLSTM%E7%9A%84output%E5%92%8Chidden%E5%85%B3%E7%B3%BB/" title="pytorch中LSTM的output和hidden关系">pytorch中LSTM的output和hidden关系</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/09/07/computer-science/algorithm/%E5%8D%8E%E7%A7%91%E6%9C%BA%E8%AF%95/note/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/" title="分类于 nlp">nlp</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/base/" title="分类于 base">base</a></div><span><a href="/2022/07/25/ai/nlp/base/%E5%BE%AA%E7%8E%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="循环神经网络基础">循环神经网络基础</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">yuan @ Mi Manchi</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">2.9m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">44:38</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/06/25/computer-science/base/计算机网络/计网总复习-朱佬/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>