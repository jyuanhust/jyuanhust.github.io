<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="yuan" href="https://huang-junyuan.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="yuan" href="https://huang-junyuan.github.io/atom.xml"><link rel="alternate" type="application/json" title="yuan" href="https://huang-junyuan.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="计算机组成原理"><link rel="canonical" href="https://huang-junyuan.github.io/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%90%88%E9%9B%86/"><title>组原合集 - 计算机组成原理 - computer-science | Mi Manchi = yuan = Whatever is worth doing at all is worth doing well</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">组原合集</h1><div class="meta"><span class="item" title="创建时间：2022-08-24 22:05:54"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-08-24T22:05:54+08:00">2022-08-24</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>11k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>10 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Mi Manchi</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipevgoki5j20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipesx5fdwj20zk0m81kx.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipet4bz0yj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclhnx9glj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclga70tsj20zk0m84mr.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="分类于 computer-science"><span itemprop="name">computer-science</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" itemprop="item" rel="index" title="分类于 计算机组成原理"><span itemprop="name">计算机组成原理</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://huang-junyuan.github.io/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%90%88%E9%9B%86/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="yuan"><meta itemprop="description" content="Whatever is worth doing at all is worth doing well, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="yuan"></span><div class="body md" itemprop="articleBody"><h1 id="计算机系统概述"><a class="anchor" href="#计算机系统概述">#</a> 计算机系统概述</h1><h2 id="计算机发展历程"><a class="anchor" href="#计算机发展历程">#</a> 计算机发展历程</h2><h2 id="计算机系统层次及结构"><a class="anchor" href="#计算机系统层次及结构">#</a> 计算机系统层次及结构</h2><h3 id="计算机硬件的基本组成"><a class="anchor" href="#计算机硬件的基本组成">#</a> 计算机硬件的基本组成</h3><h4 id="冯诺依曼机"><a class="anchor" href="#冯诺依曼机">#</a> 冯诺依曼机</h4><ol><li>由运算器、存储器、控制器、输入设备、输出设备组成</li><li>指令和数据同等地位存储在存储器中，按地址寻访</li><li>指令和数据均用二进制代码表示</li><li>指令由操作码和地址码组成</li><li>指令在存储器中按顺序存放</li><li>以运算器为核心</li></ol><h2 id="计算机性能指标"><a class="anchor" href="#计算机性能指标">#</a> 计算机性能指标</h2><h1 id="指令系统"><a class="anchor" href="#指令系统">#</a> 指令系统</h1><h2 id="指令格式"><a class="anchor" href="#指令格式">#</a> 指令格式</h2><h3 id="指令的基本格式"><a class="anchor" href="#指令的基本格式">#</a> 指令的基本格式</h3><table><thead><tr><th>操作码字段</th><th>地址码字段</th></tr></thead></table><ul><li>操作码：指出指令中该指令应该执行什么性质的操作和具有何种功能</li><li>地址码：指出被操作的信息的地址（参加运算的操作数所在的地址，运算结果的保存地址，程序的转移地址，被调用的子程序的入口地址）</li><li>指令的长度：一条指令中所包含的二进制的位数</li></ul><p>单字长指令：指令长度等于一个机器字长的指令<br>半字长指令：指令长度等于半个机器字长的指令<br>双字长指令：指令长度等于两个机器字长的指令</p><h4 id="零地址指令"><a class="anchor" href="#零地址指令">#</a> 零地址指令</h4><table><thead><tr><th>OP</th></tr></thead></table><p>只需要给出操作码 OP，没有显式地址：</p><ol><li>不需要操作数的指令：空操作指令，停机指令，关中断指令</li><li>零地址的运算类指令：堆栈计算机</li></ol><h4 id="一地址指令"><a class="anchor" href="#一地址指令">#</a> 一地址指令</h4><table><thead><tr><th>OP</th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead></table><ol><li>只有目的操作数的单操作数指令。按<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 地址读取操作数，进行 OP 操作，结果存回原地址</li><li>隐含约定目的地址的双操作数指令，按指令地址<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 可读取源操作数，指令可隐含约定另一个操作数由 ACC（累加器）提供</li></ol><h4 id="二地址指令"><a class="anchor" href="#二地址指令">#</a> 二地址指令</h4><table><thead><tr><th>OP</th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead></table><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>（</mtext><msub><mi>A</mi><mn>1</mn></msub><mtext>）</mtext><mi>O</mi><mi>P</mi><mtext>（</mtext><msub><mi>A</mi><mn>2</mn></msub><mtext>）</mtext><mo>→</mo><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">（A_1）OP（A_2）→A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord cjk_fallback">（</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord cjk_fallback">）</span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord cjk_fallback">（</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></p><p>分别给出目标操作数和源操作数的地址，目标操作数的地址用于保存本次运算的运算结果</p><h4 id="三地址指令"><a class="anchor" href="#三地址指令">#</a> 三地址指令</h4><table><thead><tr><th>OP</th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">A_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>（结果）</th></tr></thead></table><h4 id="四地址指令"><a class="anchor" href="#四地址指令">#</a> 四地址指令</h4><table><thead><tr><th>OP</th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">A_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>（结果）</th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">A_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>（下址）</th></tr></thead></table><h3 id="定长操作码指令格式"><a class="anchor" href="#定长操作码指令格式">#</a> 定长操作码指令格式</h3><p>在指令字的最高位部分分配固定的若干位（定长）表示操作码</p><ul><li>简化计算机硬件设计，提高指令译码和识别速度</li></ul><h3 id="扩展操作码指令格式"><a class="anchor" href="#扩展操作码指令格式">#</a> 扩展操作码指令格式</h3><ul><li>不允许短码是长码的前缀</li><li>各指令的操作码一定不能重复</li></ul><h2 id="指令寻址方式"><a class="anchor" href="#指令寻址方式">#</a> 指令寻址方式</h2><h3 id="指令寻址和数据寻址"><a class="anchor" href="#指令寻址和数据寻址">#</a> 指令寻址和数据寻址</h3><h4 id="指令寻址"><a class="anchor" href="#指令寻址">#</a> 指令寻址</h4><ol><li>顺序寻址<br>通过程序计数器（PC）加 1，自动形成下一条指令的地址</li><li>跳跃寻址<br>通过转移类指令实现，下一条指令的地址码不由程序状态计数器给出，而是由本条指令给出下条指令地址的计算方式，<strong>跳跃的结果是修改 PC 值，下一条指令仍然通过 PC 给出</strong></li></ol><h4 id="数据寻址"><a class="anchor" href="#数据寻址">#</a> 数据寻址</h4><table><thead><tr><th>操作码</th><th>寻址特征</th><th>形式地址 A</th></tr></thead></table><h3 id="常见的数据寻址方式"><a class="anchor" href="#常见的数据寻址方式">#</a> 常见的数据寻址方式</h3><h4 id="隐含寻址"><a class="anchor" href="#隐含寻址">#</a> 隐含寻址</h4><p>在指令中隐含操作数的地址，如规定 ACC 作为第二操作数的地址，指令明显指出仅仅是第一操作数的地址</p><ul><li>优点：有利于缩短指令字长</li><li>缺点：需增加存储操作数或隐含地址的硬件</li></ul><h4 id="立即数寻址"><a class="anchor" href="#立即数寻址">#</a> 立即数寻址</h4><p>地址字段指出的是操作数本身</p><ul><li>优点：指令在执行阶段不访问主存，指令执行时间短</li><li>缺点：地址字段的位数限制了立即数的范围</li></ul><h4 id="直接寻址"><a class="anchor" href="#直接寻址">#</a> 直接寻址</h4><p>指令字的形式地址 A 是操作数的真实地址 EA，即 EA=A</p><ul><li>优点：简单，指令执行阶段仅访问一次主存，不需要专门计算操作数的地址</li><li>确定啊：A 的位数决定了指令操作书的寻址范围，操作数的地址不易修改</li></ul><h4 id="间接寻址"><a class="anchor" href="#间接寻址">#</a> 间接寻址</h4><p>指令地址字段的形式地址不是操作数的真正地址，而是操作数有效地址所在的存储单元的地址，即<strong>操作数地址的地址</strong>，EA=（A）<br>间接寻址可以是一次间接寻址，也可以是多次间接寻址</p><ul><li>优点： 可扩大寻址范围</li><li>缺点：指令再执行阶段要多次访存</li></ul><h4 id="寄存器寻址"><a class="anchor" href="#寄存器寻址">#</a> 寄存器寻址</h4><p>指令字中直接给出操作数所在的寄存器编号，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">EA=R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>, 操作数在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 所指的寄存器内</p><h4 id="寄存器间接寻址"><a class="anchor" href="#寄存器间接寻址">#</a> 寄存器间接寻址</h4><p>寄存器<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 中给出的不是操作数，而是操作数所在主存单元的地址，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mtext>（</mtext><msub><mi>R</mi><mi>i</mi></msub><mtext>）</mtext></mrow><annotation encoding="application/x-tex">EA=（R_i）</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord cjk_fallback">（</span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord cjk_fallback">）</span></span></span></span></p><ul><li>优点：比一般间接寻址相比速度快</li><li>缺点：指令执行阶段需要访问主存</li></ul><h4 id="相对寻址"><a class="anchor" href="#相对寻址">#</a> 相对寻址</h4><p>把程序计数器（PC）的内容加上指令格式中的形式地址 A 形成操作数的有效地址<br>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mtext>（</mtext><mi>P</mi><mi>C</mi><mtext>）</mtext><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">EA=（PC）+A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord cjk_fallback">（</span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span></span></span></span></p><ul><li>优点：操作数的地址不是固定的，随 PC 值的变化而变化，便于程序浮动，广泛应用于转移指令</li></ul><h4 id="基址寻址"><a class="anchor" href="#基址寻址">#</a> 基址寻址</h4><p>将 CPU 中基址寄存器 BR 的内容加上指令格式的形式地址 A 形成操作数的有效地址，EA=（BR）+A，基址寄存器既可采用专用寄存器，又可采用通用寄存器</p><ul><li>优点： 可扩大寻址范围，有利于多道程序设计</li><li>缺点：偏移量（形式地址 A）的位数较短</li></ul><h4 id="变址寻址"><a class="anchor" href="#变址寻址">#</a> 变址寻址</h4><p>有效地址 EA 等于指令字中形式地址 A 与变址寄存器 IX 的内容之和，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mtext>（</mtext><mi>I</mi><mi>X</mi><mtext>）</mtext><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">EA=（IX）+A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord cjk_fallback">（</span><span class="mord mathnormal" style="margin-right:.07847em">I</span><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span></span></span></span>, 其中 IX 为变址寄存器（专用），也可用通用寄存器作为变址寄存器</p><ul><li>优点：可扩大寻址范围</li></ul><h4 id="堆栈寻址"><a class="anchor" href="#堆栈寻址">#</a> 堆栈寻址</h4><h4 id="总结"><a class="anchor" href="#总结">#</a> 总结</h4><table><thead><tr><th>寻址方式</th><th>有效地址</th><th>访存次数</th></tr></thead><tbody><tr><td>隐含寻址</td><td>程序指定</td><td>0</td></tr><tr><td>立即寻址</td><td>A 即使操作数</td><td>0</td></tr><tr><td>直接寻址</td><td>EA=A</td><td>1</td></tr><tr><td>一次间接寻址</td><td>EA=（A）</td><td>2</td></tr><tr><td>寄存器寻址</td><td>EA=R_i</td><td>0</td></tr><tr><td>寄存器间接一次寻址</td><td>EA=（R_i）</td><td>1</td></tr><tr><td>相对寻址</td><td>EA=（PC）+A</td><td>1</td></tr><tr><td>基址寻址</td><td>EA=（BR）+A</td><td>1</td></tr><tr><td>变址寻址</td><td>EA=（IX）+A</td><td>1</td></tr></tbody></table><h2 id="cisc和-risc-的基本概念"><a class="anchor" href="#cisc和-risc-的基本概念">#</a> CISC 和 RISC 的基本概念</h2><h3 id="复杂指令系统计算机cisc"><a class="anchor" href="#复杂指令系统计算机cisc">#</a> 复杂指令系统计算机（CISC）</h3><ol><li>指令系统复杂庞大，指令数目一般为 200 条以上</li><li>指令的长度不固定，指令格式多，寻址方式多</li><li>可以访存的指令不受限制</li><li>各种指令使用频度相差很大</li><li>各种指令执行时间相差很大，大多数指令需在多个时钟周期内才能完成</li><li>控制器大多采用微程序控制</li><li>难以用优化编译生成高效的目标代码</li></ol><h3 id="精简指令系统计算机risc"><a class="anchor" href="#精简指令系统计算机risc">#</a> 精简指令系统计算机（RISC）</h3><ol><li>选取使用频率最高的一些简单指令，复杂指令有简单指令的组合实现</li><li>指令长度固定，指令格式种类少，寻址方式少</li><li>只有 Load/Store 指令访存，其余指令都在寄存器之间进行</li><li>CPU 中通用寄存器的数量多</li><li>采用指令流水技术，大部分指令在一个时钟周期内完成</li><li>以硬布线控制为主，不用或少用微程序控制</li><li>重视编译优化工作，减少程序执行时间</li></ol><h3 id="cisc-和-risc-的比较"><a class="anchor" href="#cisc-和-risc-的比较">#</a> CISC 和 RISC 的比较</h3><table><thead><tr><th>CISC</th><th>RISC</th></tr></thead><tbody><tr><td>指令系统</td><td>复杂，庞大</td><td>简单、精简</td></tr><tr><td>指令数目</td><td>一般大于 200 条</td><td>一般小于 100 条</td></tr><tr><td>指令字长</td><td>不固定</td><td>定长</td></tr><tr><td>可访存指令</td><td>不加限制</td><td>只有 Load/Store 指令</td></tr><tr><td>各种指令执行时间</td><td>相差较大</td><td>绝大多数在一个周期内完成</td></tr><tr><td>各种指令使用频度</td><td>相差很大</td><td>都比较经常使用</td></tr><tr><td>通用寄存器数量</td><td>较少</td><td>多</td></tr><tr><td>目标代码</td><td>难以用优化编译生成高效的目标代码程序</td><td>采用优化的编译程序，生成的代码较为高效</td></tr><tr><td>控制方式</td><td>微程序控制为主</td><td>组合逻辑控制为主</td></tr><tr><td>指令流水线</td><td>通过一定方式实现</td><td>必须实现</td></tr></tbody></table><h1 id="中央处理器"><a class="anchor" href="#中央处理器">#</a> 中央处理器</h1><h2 id="cpu-的功能和基本结构"><a class="anchor" href="#cpu-的功能和基本结构">#</a> CPU 的功能和基本结构</h2><h3 id="cpu-的功能"><a class="anchor" href="#cpu-的功能">#</a> CPU 的功能</h3><ol><li>指令控制<br>完成取指令、分析指令、执行指令的操作，即<strong>程序的顺序控制</strong></li><li>操作控制<br>控制部件按指令的要求进行动作</li><li>时间控制<br>为每条指令按<strong>时间顺序</strong>提供应有的控制信号</li><li>数据加工<br>对数据进行算术和逻辑运算</li><li>中断加工<br>对计算机运行过程中出现的<strong>异常情况</strong>和<strong>特殊请求</strong>进行处理</li></ol><h3 id="cpu-的基本结构"><a class="anchor" href="#cpu-的基本结构">#</a> CPU 的基本结构</h3><h4 id="运算器"><a class="anchor" href="#运算器">#</a> 运算器</h4><ol><li>算术逻辑单元<br>进行算术 / 逻辑运算</li><li>暂存寄存器<br>暂存从主存读来的数据，该数据通常不能存放在通用寄存器</li><li>累加寄存器<br>属于通用寄存器，暂时存放算术逻辑单元运算的结果信息，可以作为加法运算的一个输入端</li><li>通用寄存器组<br>存放操作数和各种地址信息等</li><li>程序状态字寄存器<br>保留算术逻辑运算指令或测试指令的结果而建立的各种状态信息</li><li>移位器<br>对操作数或运算结果进行移位运算</li><li>计数器<br>控制乘除运算的操作步数</li></ol><h4 id="控制器"><a class="anchor" href="#控制器">#</a> 控制器</h4><p>基本功能：执行指令</p><p>类型：</p><ol><li>硬布线控制器</li><li>微程序控制器</li></ol><p>构成：</p><ol><li>程序计数器<br>指出下一条指令在主存中的存放地址</li><li>指令寄存器<br>保存当前正在执行的指令</li><li>指令译码器<br>对操作码字段译码，向控制器提供特定的操作信号</li><li>存储器地址寄存器<br>存放所要访问的主存单元地址</li><li>存储器数据寄存器<br>存放向主存写入的信息或从主存读出的信息</li><li>时序系统<br>产生时序信号</li><li>微操作信号发生器</li></ol><h2 id="指令的执行过程"><a class="anchor" href="#指令的执行过程">#</a> 指令的执行过程</h2><h3 id="指令周期"><a class="anchor" href="#指令周期">#</a> 指令周期</h3><p>指令周期：CPU 从主存取出并执行一条指令所需的全部时间</p><p>一个完整的指令周期包括：取指、间址、执行、中断</p><h3 id="指令周期的数据流"><a class="anchor" href="#指令周期的数据流">#</a> 指令周期的数据流</h3><h4 id="取指周期"><a class="anchor" href="#取指周期">#</a> 取指周期</h4><p>任务：根据 PC 的内容从主存中取出指令代码并存放在 IR 中</p><ol><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>C</mi><mo>→</mo><mi>M</mi><mi>A</mi><mi>R</mi><mtext>（地址寄存器）</mtext><mo>→</mo><mtext>地址总线</mtext><mo>→</mo><mtext>主存</mtext></mrow><annotation encoding="application/x-tex">PC→MAR（地址寄存器）→地址总线→主存</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mord cjk_fallback">（</span><span class="mord cjk_fallback">地</span><span class="mord cjk_fallback">址</span><span class="mord cjk_fallback">寄</span><span class="mord cjk_fallback">存</span><span class="mord cjk_fallback">器</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">地</span><span class="mord cjk_fallback">址</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">线</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">主</span><span class="mord cjk_fallback">存</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>控制单元（</mtext><mi>C</mi><mi>U</mi><mtext>）发出控制信号</mtext><mo>→</mo><mtext>控制总线</mtext><mo>→</mo><mtext>主存</mtext></mrow><annotation encoding="application/x-tex">控制单元（CU）发出控制信号→控制总线→主存</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">控</span><span class="mord cjk_fallback">制</span><span class="mord cjk_fallback">单</span><span class="mord cjk_fallback">元</span><span class="mord cjk_fallback">（</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mord mathnormal" style="margin-right:.10903em">U</span><span class="mord cjk_fallback">）</span><span class="mord cjk_fallback">发</span><span class="mord cjk_fallback">出</span><span class="mord cjk_fallback">控</span><span class="mord cjk_fallback">制</span><span class="mord cjk_fallback">信</span><span class="mord cjk_fallback">号</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">控</span><span class="mord cjk_fallback">制</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">线</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">主</span><span class="mord cjk_fallback">存</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>主存</mtext><mo>→</mo><mtext>数据总线</mtext><mo>→</mo><mi>M</mi><mi>D</mi><mi>R</mi><mtext>（数据寄存器）</mtext><mo>→</mo><mi>I</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">主存→数据总线→ MDR（数据寄存器）→IR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">主</span><span class="mord cjk_fallback">存</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">据</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">线</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mord cjk_fallback">（</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">据</span><span class="mord cjk_fallback">寄</span><span class="mord cjk_fallback">存</span><span class="mord cjk_fallback">器</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07847em">I</span><span class="mord mathnormal" style="margin-right:.00773em">R</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>U</mi><mtext>发出读命令</mtext><mo>→</mo><mi>P</mi><mi>C</mi><mtext>的内容加</mtext><mn>1</mn></mrow><annotation encoding="application/x-tex">CU发出读命令→ PC 的内容加 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mord mathnormal" style="margin-right:.10903em">U</span><span class="mord cjk_fallback">发</span><span class="mord cjk_fallback">出</span><span class="mord cjk_fallback">读</span><span class="mord cjk_fallback">命</span><span class="mord cjk_fallback">令</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">内</span><span class="mord cjk_fallback">容</span><span class="mord cjk_fallback">加</span><span class="mord">1</span></span></span></span></li></ol><h4 id="间址周期"><a class="anchor" href="#间址周期">#</a> 间址周期</h4><p>任务：取操作数的有效地址，将指令中的地址码送到 MAR 并送至地址总线，CU 向存储器发出读命令，获取有效地址并存至 MDR</p><ol><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>d</mi><mo stretchy="false">(</mo><mi>I</mi><mi>R</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mtext>或</mtext><mi>M</mi><mi>D</mi><mi>R</mi><mo stretchy="false">)</mo><mo>→</mo><mi>M</mi><mi>A</mi><mi>R</mi><mo>→</mo><mtext>地址总线</mtext><mo>→</mo><mtext>主存</mtext></mrow><annotation encoding="application/x-tex">Ad(IR)(或MDR)→MAR→地址总线→主存</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07847em">I</span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord cjk_fallback">或</span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">地</span><span class="mord cjk_fallback">址</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">线</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">主</span><span class="mord cjk_fallback">存</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>U</mi><mtext>发出读命令</mtext><mo>→</mo><mtext>控制总线</mtext><mo>→</mo><mtext>主存</mtext></mrow><annotation encoding="application/x-tex">CU发出读命令→控制总线→主存</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mord mathnormal" style="margin-right:.10903em">U</span><span class="mord cjk_fallback">发</span><span class="mord cjk_fallback">出</span><span class="mord cjk_fallback">读</span><span class="mord cjk_fallback">命</span><span class="mord cjk_fallback">令</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">控</span><span class="mord cjk_fallback">制</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">线</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">主</span><span class="mord cjk_fallback">存</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>主存</mtext><mo>→</mo><mtext>数据总线</mtext><mo>→</mo><mi>M</mi><mi>D</mi><mi>R</mi><mtext>（存放有效地址）</mtext></mrow><annotation encoding="application/x-tex">主存→数据总线→ MDR（存放有效地址）</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">主</span><span class="mord cjk_fallback">存</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">据</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">线</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mord cjk_fallback">（</span><span class="mord cjk_fallback">存</span><span class="mord cjk_fallback">放</span><span class="mord cjk_fallback">有</span><span class="mord cjk_fallback">效</span><span class="mord cjk_fallback">地</span><span class="mord cjk_fallback">址</span><span class="mord cjk_fallback">）</span></span></span></span></li></ol><h4 id="执行周期"><a class="anchor" href="#执行周期">#</a> 执行周期</h4><p>任务：根据 IR 中的指令字的操作码和操作数通过算术逻辑单元（ALU）操作产生执行结果</p><h4 id="中断周期"><a class="anchor" href="#中断周期">#</a> 中断周期</h4><p>任务：处理中断请求</p><h3 id="指令的执行方案"><a class="anchor" href="#指令的执行方案">#</a> 指令的执行方案</h3><h4 id="单指令周期"><a class="anchor" href="#单指令周期">#</a> 单指令周期</h4><ul><li>所有指令选用<strong>相同</strong>的执行时间来完成</li><li>指令之间<strong>串行执行</strong></li><li>指令周期取决于<strong>执行时间最长</strong>的指令执行时间</li></ul><h4 id="多指令周期"><a class="anchor" href="#多指令周期">#</a> 多指令周期</h4><ul><li>不同类型的指令选用不同的执行步骤</li><li>指令之间传新之星</li><li>不再要求所有指令占用相同的执行时间</li></ul><h4 id="流水线方案"><a class="anchor" href="#流水线方案">#</a> 流水线方案</h4><ul><li>指令间可以并行执行</li><li>力争在时钟脉冲周期完成一条指令的执行过程</li></ul><h2 id="数据通路的功能和基本结构"><a class="anchor" href="#数据通路的功能和基本结构">#</a> 数据通路的功能和基本结构</h2><h3 id="数据通路的功能"><a class="anchor" href="#数据通路的功能">#</a> 数据通路的功能</h3><ul><li>数据通路：数据在功能部件之间传送的路径</li><li>描述了信息从什么地方开始，中间经过哪个寄存器或多路开关，最后传送到哪个寄存器</li><li>建立数据通路由 “操作控制部件” 完成</li></ul><h3 id="数据通路的基本结构"><a class="anchor" href="#数据通路的基本结构">#</a> 数据通路的基本结构</h3><ol><li>CPU 内部单总线方式<br>将所有寄存器的输入端和输出端连接到一条公共通路<ul><li>结构简单</li><li>数据传输存在较多的冲突现象，性能低</li></ul></li><li>CPU 内部三总线方式<br>将所有寄存器的输入端和输出端连接到多条公共通路上<ul><li>同时在多个总线上传送不同的数据，提高效率</li></ul></li><li>专用数据通路方式<br>根据指令执行过程中的数据和地址流动方向安排连接线路，避免使用共享的线路<ul><li>性能较高</li><li>硬件量大</li></ul></li></ol><h4 id="寄存器之间的数据传送"><a class="anchor" href="#寄存器之间的数据传送">#</a> 寄存器之间的数据传送</h4><p>寄存器之间的数据传送可通过 CPU 内部总线完成，<br>以 PC 寄存器为例，把 PC 内容送入 MAR，实现传送操作的流程和控制信号为：</p><table><thead><tr></tr></thead><tbody><tr><td>PC→Bus</td><td>PCout 有效，PC 内容送总线</td></tr><tr><td>Bus→MAR</td><td>MARin 有效，总线内容送 MAR</td></tr></tbody></table><h4 id="主存与-cpu-之间的数据传送"><a class="anchor" href="#主存与-cpu-之间的数据传送">#</a> 主存与 CPU 之间的数据传送</h4><p>以 CPU 从主存读取指令为例：</p><table><thead><tr></tr></thead><tbody><tr><td>PC→Bus→MAR</td><td>PCout、MARin 有效，现行指令地址→ MAR</td></tr><tr><td>1→R</td><td>CU 发出读命令</td></tr><tr><td>MEM（MAR）→MDR</td><td>MDRin 有效</td></tr><tr><td>MDR→Bus→IR</td><td>MDRout 和 IRin 有效，现行指令→ IR</td></tr></tbody></table><h4 id="执行算数或逻辑运算"><a class="anchor" href="#执行算数或逻辑运算">#</a> 执行算数或逻辑运算</h4><p>ALU 本身没有内部存储功能的组合电路，要执行加法操作，相加的两个数必须在 ALU 两个输入端同时有效</p><p>向将一个操作数经过 CPU 内部总线送入暂存器 Y 保存，Y 的内容在 ALU 的左输入端始终有效，再将另一个操作数经总线直接送到 ALU 右输入端，运算结果暂存在暂存器 Z 中</p><table><thead><tr></tr></thead><tbody><tr><td>Ad（IR）→Bus→MAR</td><td>MDRout 和 MARin 有效</td></tr><tr><td>1→R</td><td>CU 发出读命令</td></tr><tr><td>MEM→ 数据线→ MDR</td><td>操作数从存储器→数据线→ MDR</td></tr><tr><td>MDR→Bus→Y</td><td>MDRout 和 Yin 有效，操作数→ Y</td></tr><tr><td>（ACC）+（Y）→Z</td><td>ACCout 和 ALUin 有效，CU 向 ALU 发出加命令，结果→ Z</td></tr><tr><td>Z→ACC</td><td>Zout 和 ACCin 有效，结果→ ACC</td></tr></tbody></table><h2 id="控制器的功能和工作原理"><a class="anchor" href="#控制器的功能和工作原理">#</a> 控制器的功能和工作原理</h2><h3 id="控制器的结构和功能"><a class="anchor" href="#控制器的结构和功能">#</a> 控制器的结构和功能</h3><ol><li>运算器部件通过数据总线与内存储器、输入设备和输出设备传送数据</li><li>输入设备和输出设备通过接口电路与总线相连接</li><li>内存储器、输入设备和输出设备从地址总线接受地址信息，从控制总线得到控制信号，通过数据总线与其他部件传送数据</li><li>控制器部件从数据总线接受指令信息，从运算部件接收指令转移地址，送出指令地址到地址总线，还需要向系统中的部件提供运行所需要的控制信号</li></ol><h4 id="控制器的主要功能"><a class="anchor" href="#控制器的主要功能">#</a> 控制器的主要功能</h4><ol><li>从主存取出一条指令，并指出下一条指令在主存中的位置</li><li>对指令译码或测试，产生相应的操作控制信号，以便启动规定的动作</li><li>指挥并控制 CPU、主存、输入和输出设备之间的数据流动方向</li></ol><h3 id="硬布线控制器"><a class="anchor" href="#硬布线控制器">#</a> 硬布线控制器</h3><p>基本原理： 根据指令的要求、当前时序以及外部和内部的状态，按时间顺序发送一系列微操作控制信号，又称<strong>组合逻辑控制器</strong></p><p>指令的操作码决定控制单元发出不同操作命令</p><h4 id="cu-的信号来源"><a class="anchor" href="#cu-的信号来源">#</a> CU 的信号来源</h4><ol><li>经指令译码器产生的指令信息</li><li>时序系统产生的机器周期信号和节拍信号</li><li>来自执行单元的反馈信号即标志</li></ol><h4 id="硬布线控制器的时序系统及微操作"><a class="anchor" href="#硬布线控制器的时序系统及微操作">#</a> 硬布线控制器的时序系统及微操作</h4><ol><li>时钟周期<br>时钟信号控制节拍发生器，每个节拍宽度正好对应一个时钟周期</li><li>机器周期<br>可视为所有指令执行过程的一个基准时间，通常以存取周期为基准时间</li><li>指令周期</li><li>微操作命令分析</li></ol><h4 id="cpu-的控制方式"><a class="anchor" href="#cpu-的控制方式">#</a> CPU 的控制方式</h4><ol><li>同步控制方式<br>系统有一个统一的时钟，所有的控制信号均来自这个时钟信号<ul><li>优点：控制电路简单</li><li>缺点：运行速度慢</li></ul></li><li>异步控制方式<br>各部件按自身固有速度工作，通过应答方式进行联络<ul><li>优点：运行速度快</li><li>缺点：控制电路复杂</li></ul></li><li>联合控制方式<br>对各种不同的指令的微操作采用同步控制，小部分采用异步控制</li></ol><h3 id="微程序控制器"><a class="anchor" href="#微程序控制器">#</a> 微程序控制器</h3><h4 id="微程序控制的基本概念"><a class="anchor" href="#微程序控制的基本概念">#</a> 微程序控制的基本概念</h4><ol><li>微命令与微操作<ul><li>微操作：一条机器指令可以分解为一个微操作序列，这些微操作是计算机中最基本的、不可再分的操作</li><li>微命令：微程序控制的计算机中，控制部件向执行部件发出的控制命令</li></ul></li><li>微指令与微周期<ul><li>微指令：若干微命令的集合<ul><li>操作控制字段（微操作码字段）：产生某一步操作需要的各种操作控制信号</li><li>顺序控制字段（微地址码字段）：控制产生下一条要执行的微指令地址</li></ul></li><li>微地址：存放微指令的控制存储器的单元地址</li></ul></li><li>主存储器与控制存储器</li><li>程序与微程序</li></ol><h4 id="微程序控制器组成和工作过程"><a class="anchor" href="#微程序控制器组成和工作过程">#</a> 微程序控制器组成和工作过程</h4><h5 id="微程序控制器的基本组成"><a class="anchor" href="#微程序控制器的基本组成">#</a> 微程序控制器的基本组成</h5><ol><li>控制存储器<ul><li>微程序控制器的核心部件</li><li>存放个指令对应的微程序</li></ul></li><li>微指令寄存器<ul><li>存放从 CM 中取出的微指令</li></ul></li><li>微地址形成部件<ul><li>产生初始微地址和后继微地址，保证微指令连续执行</li></ul></li><li>微地址寄存器<br>接受微地址形成部件送来的微地址</li></ol><h5 id="微程序控制器的工作过程"><a class="anchor" href="#微程序控制器的工作过程">#</a> 微程序控制器的工作过程</h5><ol><li>执行取微指令公共操作</li><li>由机器指令的操作码字段通过微地址形成不见产生该机器指令对应的微程序入口地址，送入 CMAR</li><li>从 CM 中逐条取出对应的微指令并执行</li><li>重复上述操作</li></ol><h4 id="微指令的编码方式"><a class="anchor" href="#微指令的编码方式">#</a> 微指令的编码方式</h4><ol><li>直接编码（直接控制）方式<br>微指令的微命令字段每位都代表一个微命令<ul><li>优点：简单、直观、执行速度快，操作并行性好</li><li>缺点：n 个微命令要求微指令的操作字段由 n 位，造成控制存储器的容量极大</li></ul></li><li>字段直接编码方式<br>微命令分成若干个小段，把<strong>互斥性</strong>微命令组合在同一字段，<strong>相容性</strong>微命令组合在不同字段，每个字段独立编码，每种编码代表一个微命令且各字段编码含义单独定义<ul><li>可以缩短微指令字长，比直接编码慢</li><li>分段原则：<ol><li>互斥性微命令分在同一段内，相容性微命令分在不同段</li><li>每个小段包含的信息位不能太多，否则增加线路的复杂性和译码时间</li><li>一般每个小段要留出一个状态，表示本字段不发出任何命令</li></ol></li></ul></li><li>字段间接编码方式<br>一个字段的某些微命令需要由另一个字段中的某些微命令来解释，不是靠字段直接译码发出的命令，又称<strong>隐式编码</strong></li></ol><h4 id="微指令的格式"><a class="anchor" href="#微指令的格式">#</a> 微指令的格式</h4><ol><li>水平型微指令<ul><li>直接编码、字段直接编码、字段间接编码、混合编码都属于水平型编码</li><li>优点：微程序短、执行速度快</li><li>缺点：微指令长，编写微程序较麻烦</li></ul></li><li>垂直型微指令<ul><li>类似机器指令的操作码方式，一条垂直型微指令只能定义并执行一种基本操作</li><li>优点：微指令短、简单、规整，便于编写微程序</li><li>缺点：微程序长，执行速度慢、工作效率低</li></ul></li><li>混合型微指令<ul><li>在垂直的基础上增加一些不太复杂的并行操作</li><li>指令较短，便于编写，微程序也不长，执行速度加快</li></ul></li></ol><h2 id="指令流水线"><a class="anchor" href="#指令流水线">#</a> 指令流水线</h2><h3 id="指令流水线的基本概念"><a class="anchor" href="#指令流水线的基本概念">#</a> 指令流水线的基本概念</h3><h4 id="流水线的定义"><a class="anchor" href="#流水线的定义">#</a> 流水线的定义</h4><h5 id="多条指令在处理器中执行的方式"><a class="anchor" href="#多条指令在处理器中执行的方式">#</a> 多条指令在处理器中执行的方式</h5><ol><li>顺序执行方式<br>指令按顺序执行，前一条执行完成，才启动下一条指令<ul><li>优点：控制简单，硬件代价小</li><li>缺点：执行指令的速度较慢</li></ul></li><li>一次重叠执行方式<br>同时进行第 k 条指令的执行阶段和 k+1 条指令的取指阶段<ul><li>优点：程序的执行时间缩短了三分之一，各功能部件的利用率明显提高</li></ul></li><li>二次重叠执行方式<br>k+1 条指令的取指阶段提前到分析第 k 条指令的期间完成，分析第 k+1 条指令与执行第 k 条指令同时进行</li></ol><h4 id="流水线方式的特点"><a class="anchor" href="#流水线方式的特点">#</a> 流水线方式的特点</h4><ol><li>把一个任务分解成几个有联系的子任务，每个任务由一个专门的功能部件来执行，依靠多个功能部件并行工作来缩短程序的执行时间</li><li>流水线的每个功能部件后面都要有一个<strong>缓冲器或锁存器</strong>，作用是保存本流水段的执行结果，供下一段流水使用</li><li>流水线中各个功能段<strong>时间应尽量相同</strong>，否则将引起堵塞、断流</li><li>流水线中处理的必须是<strong>连续任务</strong></li><li>流水线由<strong>装入时间</strong>和<strong>排空时间</strong></li></ol><h3 id="流水线的分类"><a class="anchor" href="#流水线的分类">#</a> 流水线的分类</h3><h4 id="部件功能级-处理机级-处理机间级流水线"><a class="anchor" href="#部件功能级-处理机级-处理机间级流水线">#</a> 部件功能级、处理机级、处理机间级流水线</h4><ul><li>部件功能级：将复杂的算术逻辑运算组成刘淑娴工作方式</li><li>处理机级：将一条指令的解释过程分成多个子过程</li><li>处理机间级：宏流水，每个处理机完成某一专门任务</li></ul><h4 id="单功能流水线和多功能流水线"><a class="anchor" href="#单功能流水线和多功能流水线">#</a> 单功能流水线和多功能流水线</h4><ul><li>单功能：实现一种固定的专门功能的流水线</li><li>多功能：通过各段间的不同的连接方式同时或不同时地实现多种功能</li></ul><h4 id="动态流水线和静态流水线"><a class="anchor" href="#动态流水线和静态流水线">#</a> 动态流水线和静态流水线</h4><ul><li>静态：同一时间内各段只能按同一种功能的连接方式工作</li><li>动态：同一时间内，某些段实现某种运算，另一些正在进行另一种运算</li></ul><h4 id="线性流水线和非线性流水线"><a class="anchor" href="#线性流水线和非线性流水线">#</a> 线性流水线和非线性流水线</h4><ul><li>线性：从输入到输出，每个功能段只允许经过一次，不存在反馈回路</li><li>非线性：存在反馈回路，适合进行线性递归运算</li></ul><h3 id="影响流水线的因素"><a class="anchor" href="#影响流水线的因素">#</a> 影响流水线的因素</h3><h4 id="结构相关资源冲突"><a class="anchor" href="#结构相关资源冲突">#</a> 结构相关（资源冲突）</h4><p>多条指令同一时刻争用同一资源</p><p>解决方法：</p><ol><li>后一条相关指令暂停一个时钟周期</li><li>单独设置数据存储器和指令存储器</li></ol><h4 id="数据相关数据冲突"><a class="anchor" href="#数据相关数据冲突">#</a> 数据相关（数据冲突）</h4><p>必须等前一条指令执行完才能执行后一条指令</p><p>解决方法：</p><ol><li>遇到数据相关额指令及其后续指令暂停一个至几个时钟周期</li><li>设置相关专用通路（数据旁路技术）</li><li>指令编译优化，调整指令顺序解决</li></ol><h4 id="控制相关控制冲突"><a class="anchor" href="#控制相关控制冲突">#</a> 控制相关（控制冲突）</h4><p>流水线遇到转移指令和其他改变 PC 值的指令造成断流</p><p>解决方法：</p><ol><li>对指令进行分支预测</li><li>预取转移成功和不成功两个控制流方向上的目标指令</li><li>加快和提前形成条件码</li><li>提高 转移方向的猜准率</li></ol><h3 id="流水线的性能指标"><a class="anchor" href="#流水线的性能指标">#</a> 流水线的性能指标</h3><h4 id="流水线的吞吐率"><a class="anchor" href="#流水线的吞吐率">#</a> 流水线的吞吐率</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mi>P</mi><mo>=</mo><mfrac><mi>n</mi><msub><mi>T</mi><mi>k</mi></msub></mfrac><mo>=</mo><mfrac><mi>n</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">TP=\frac{n}{T_k}=\frac{n}{(k+n-1)Δt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.9435600000000002em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.0435600000000003em;vertical-align:-.936em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">T_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>：处理完 n 个任务所用的时间</p><h4 id="流水线的加速比"><a class="anchor" href="#流水线的加速比">#</a> 流水线的加速比</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo>=</mo><mfrac><msub><mi>T</mi><mn>0</mn></msub><msub><mi>T</mi><mi>k</mi></msub></mfrac><mo>=</mo><mfrac><mrow><mi>k</mi><mi>n</mi><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>k</mi><mi>n</mi></mrow><mrow><mi>k</mi><mo>+</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">S=\frac{T_0}{T_k}=\frac{knΔt}{(k+n-1)Δt}=\frac{kn}{k+n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.19633em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.30744em;vertical-align:-.936em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mord mathnormal">n</span><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.14077em;vertical-align:-.7693300000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">1</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.7693300000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h4 id="流水线的效率"><a class="anchor" href="#流水线的效率">#</a> 流水线的效率</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mfrac><mrow><mi>n</mi><mtext>个任务占用的时空区有效面积</mtext></mrow><mrow><mi>n</mi><mtext>个任务所用的时间与</mtext><mi>k</mi><mtext>个流水段所围成的时空区总面积</mtext></mrow></mfrac><mo>=</mo><mfrac><msub><mi>T</mi><mn>0</mn></msub><mrow><mi>k</mi><msub><mi>T</mi><mi>k</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">E=\frac{n个任务占用的时空区有效面积}{n 个任务所用的时间与 k 个流水段所围成的时空区总面积}=\frac{T_0}{kT_k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.04633em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">任</span><span class="mord cjk_fallback">务</span><span class="mord cjk_fallback">所</span><span class="mord cjk_fallback">用</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">间</span><span class="mord cjk_fallback">与</span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">流</span><span class="mord cjk_fallback">水</span><span class="mord cjk_fallback">段</span><span class="mord cjk_fallback">所</span><span class="mord cjk_fallback">围</span><span class="mord cjk_fallback">成</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">空</span><span class="mord cjk_fallback">区</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">面</span><span class="mord cjk_fallback">积</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">任</span><span class="mord cjk_fallback">务</span><span class="mord cjk_fallback">占</span><span class="mord cjk_fallback">用</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">空</span><span class="mord cjk_fallback">区</span><span class="mord cjk_fallback">有</span><span class="mord cjk_fallback">效</span><span class="mord cjk_fallback">面</span><span class="mord cjk_fallback">积</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.19633em;vertical-align:-.8360000000000001em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em"><span style="top:-2.3139999999999996em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8360000000000001em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="超量流水线的基本概念"><a class="anchor" href="#超量流水线的基本概念">#</a> 超量流水线的基本概念</h3><h4 id="超标量流水线技术"><a class="anchor" href="#超标量流水线技术">#</a> 超标量流水线技术</h4><p>并行操作方式将<strong>两条或多条指令</strong>编译执行，需配备多个功能部件</p><h4 id="超流水线技术"><a class="anchor" href="#超流水线技术">#</a> 超流水线技术</h4><p>一个时钟周期内再分段，在一个时钟周期内一个功能部件使用多次</p><h4 id="超长指令字"><a class="anchor" href="#超长指令字">#</a> 超长指令字</h4><p>将多条能并行操作系统的指令组合成一条具有多个操作码字段的超长指令字（可达几百位），需要采用多个处理部件</p><h1 id="总线"><a class="anchor" href="#总线">#</a> 总线</h1><h2 id="总线概述"><a class="anchor" href="#总线概述">#</a> 总线概述</h2><h3 id="总线基本概念"><a class="anchor" href="#总线基本概念">#</a> 总线基本概念</h3><h4 id="总线的定义"><a class="anchor" href="#总线的定义">#</a> 总线的定义</h4><p>能为多个部件分时共享的公共信息传输线路</p><h5 id="总线的特点"><a class="anchor" href="#总线的特点">#</a> 总线的特点</h5><ul><li>分时<br>同一时刻只允许有一个部件向总线发送信息</li><li>共享<br>总线上可以挂接多个部件，多个部件可同时从总线上接受相同的信息</li></ul><h4 id="总线设备"><a class="anchor" href="#总线设备">#</a> 总线设备</h4><ul><li>主设备<br>获得总线控制权的设备</li><li>从设备<br>被主设备访问的设备，只能响应主设备发来的各种总线命令</li></ul><h4 id="总线特性"><a class="anchor" href="#总线特性">#</a> 总线特性</h4><ul><li>机械特性<br>尺寸、形状</li><li>电气特性<br>传输方向和有效的电平范围</li><li>功能特性<br>每根传输线的功能</li><li>时间特性<br>信号和时序关系</li></ul><h4 id="总线的猝发传输方式"><a class="anchor" href="#总线的猝发传输方式">#</a> 总线的猝发传输方式</h4><p>一个周期内传输存储地址连续的多个数据字</p><h3 id="总线的分类"><a class="anchor" href="#总线的分类">#</a> 总线的分类</h3><h4 id="片内总线"><a class="anchor" href="#片内总线">#</a> 片内总线</h4><p>芯片内部的总线</p><h4 id="系统总线"><a class="anchor" href="#系统总线">#</a> 系统总线</h4><p>计算机系统内各个功能部件之间相互连接的总线</p><ol><li>数据总线<br>传输各个功能部件之间的数据信息，<strong>双向传输总线</strong></li><li>地址总线<br>指出源数据或目的数据所在的主存单元或 IO 端口的地址，<strong>单向传输总线</strong></li><li>控制总线<br>传输控制信息</li></ol><h4 id="通信总线"><a class="anchor" href="#通信总线">#</a> 通信总线</h4><p>计算机系统之间或计算机系统和其他系统之间传送信息的总线，也称<strong>外部总线</strong></p><h3 id="系统总线的结构"><a class="anchor" href="#系统总线的结构">#</a> 系统总线的结构</h3><h4 id="单总线结构"><a class="anchor" href="#单总线结构">#</a> 单总线结构</h4><p>将 CPU、主存、IO 设备挂在一组总线上</p><ul><li>优点：结构简单、成本低、易于接入新的设备</li><li>缺点：带宽低、负载重，多个部件只能争用唯一的总线，不支持并发传送操作</li></ul><h4 id="双总线结构"><a class="anchor" href="#双总线结构">#</a> 双总线结构</h4><ol><li>主存总线：在 CPU、主存和通道之间传送数据</li><li>IO 总线：外部设备和通道之间传送数据</li></ol><ul><li>优点： 实现了存储请总线和 IO 总线分离</li><li>缺点：需要增加通道等硬件设备</li></ul><h4 id="三总线结构"><a class="anchor" href="#三总线结构">#</a> 三总线结构</h4><ol><li>主存总线：CPU 和内存之间传送地址、数据和控制信息</li><li>IO 总线：CPU 和各类外设之间通信</li><li>DMA 总线：内存和高速外设之间传送数据</li></ol><ul><li>优点：提高了 IO 设备的性能，提高系统吞吐量</li><li>缺点：系统工作效率低</li></ul><h3 id="总线的性能指标"><a class="anchor" href="#总线的性能指标">#</a> 总线的性能指标</h3><ol><li>总线的传输周期<br>一次总线操作所需的时间（申请阶段、寻址阶段、传输阶段、结束阶段）</li><li>总线的时钟周期<br>机器的时钟周期</li><li>总线的工作频率<br>总线上各种操作的频率，总线周期的倒数</li><li>总线的时钟频率<br>机器的时钟频率，时钟周期的倒数</li><li>总线宽度<br>总线上能够同时传输的数据位数</li><li>总线带宽<br>总线的数据传输率，单位时间可传输数据的位数</li><li>总线复用<br>一种信号线在不同的时间传输不同的信息</li><li>信号线数<br>地址总线、数据总线、控制总线三种总线的总和</li></ol><h2 id="总线仲裁"><a class="anchor" href="#总线仲裁">#</a> 总线仲裁</h2><p>解决多个设备同时竞争总线控制权</p><h3 id="集中仲裁方式"><a class="anchor" href="#集中仲裁方式">#</a> 集中仲裁方式</h3><h4 id="链式查询方式"><a class="anchor" href="#链式查询方式">#</a> 链式查询方式</h4><p>所有部件共用一根总线请求线，部件请求使用时经过此线发总线请求信号到总线控制器，总线控制器检查总线是否忙，若不忙立即发送总线响应信号，经过总线响应线 BG 串行地从一个部件传送到下一个部件</p><ul><li>部件离总线控制器越近，优先级越高</li><li>优点： 优先级固定，结构简单，扩充容易</li><li>缺点：对硬件电路故障敏感，优先级不能改变</li></ul><h4 id="计数器定时查询方式"><a class="anchor" href="#计数器定时查询方式">#</a> 计数器定时查询方式</h4><p>采用一个计数器控制总线使用权，相对链式查询多了一组设备地址线，少了一根总线响应线 BG，仍然共用一根地址请求线，当总线收到总线请求并判断总线空闲时，计数器 开始计数，地址线上的计数值与请求使用总线设备的地址一致时，该设备获得总线控制权</p><ul><li>优点： 优先级既可以固定，也可以相等，也可以改变次序，对故障不敏感</li><li>缺点：增加了控制线数，控制更加复杂</li></ul><h4 id="独立请求方式"><a class="anchor" href="#独立请求方式">#</a> 独立请求方式</h4><p>总线上的部件需要使用总线时，经过各自的总线请求线发送总线请求信号，在总线控制器中排队，总线控制器按一定的优先次序决定批准某个部件的请求，给该部件发送响应信号，该部件受到此信号后获得总线的控制权，开始传送数据</p><ul><li>优点： 响应速度快，对优先次序控制灵活</li><li>缺点： 控制线数量多，总线控制逻辑更加复杂</li></ul><h3 id="分布仲裁方式"><a class="anchor" href="#分布仲裁方式">#</a> 分布仲裁方式</h3><p>不需要中央仲裁器，每个潜在的主模块都有自己的仲裁号和仲裁器。有总线请求时，把各自唯一的仲裁号发送到共享的仲裁总线上，每个仲裁器从仲裁总线上得到的仲裁号与自己的仲裁号进行比较，若仲裁总线上的仲裁号优先级高，则它的请求不予响应，并撤销它的仲裁号，获胜者的仲裁号保留在仲裁总线上。</p><h2 id="总线操作和定时"><a class="anchor" href="#总线操作和定时">#</a> 总线操作和定时</h2><p>总线定时：总线在双方交换数据的过程中需要时间上配合关系的控制</p><h3 id="总线传输的-4-个阶段"><a class="anchor" href="#总线传输的-4-个阶段">#</a> 总线传输的 4 个阶段</h3><ol><li>申请分配阶段<br>使用总线的主设备（主模块提出申请），经过总线仲裁决定下一周期使用权</li><li>寻址阶段<br>取得使用权的主模块通过总线发出本次要访问的从模块的地址以及相关命令，启动参与本次传输的从模块</li><li>传输阶段<br>主设备和从设备进行数据交换</li><li>结束阶段<br>主设备的有关信息均从系统总线上撤除，让出总线使用权</li></ol><h3 id="同步定时方式"><a class="anchor" href="#同步定时方式">#</a> 同步定时方式</h3><p>系统采用一个统一的时钟信号协调发送和接受双方的传送定时关系，时钟产生相等的时间间隔，每个间隔构成一个总线周期，一个总线周期中，发送方和接受方可进行一次数据传送</p><ul><li>优点：传送速度快，传输速率高，控制逻辑简单</li><li>缺点：属于强制性同步，不能及时进行数据通信的有效性检验，可靠性差</li></ul><h3 id="异步定时方式"><a class="anchor" href="#异步定时方式">#</a> 异步定时方式</h3><p>没有统一的时钟，也没有相同的时间间隔，依靠双方相互制约的 “握手” 信号来实现定时控制</p><ul><li>优点：总线周期长度可变，保证两个速度相差很大的部件和设备之家安进行可靠的信息交换，自动适应时间的配合</li><li>缺点：方式稍微复杂一点，速度比同步定时慢</li></ul><ol><li>不互锁方式</li><li>半互锁方式</li><li>全互锁方式</li></ol><h1 id="输入输出系统"><a class="anchor" href="#输入输出系统">#</a> 输入输出系统</h1><h2 id="io系统基本概念"><a class="anchor" href="#io系统基本概念">#</a> IO 系统基本概念</h2><h3 id="输入输出系统-2"><a class="anchor" href="#输入输出系统-2">#</a> 输入 / 输出系统</h3><ol><li>外部设备</li><li>接口</li><li>输入设备</li><li>输出设备</li><li>外存设备</li></ol><h4 id="io-系统"><a class="anchor" href="#io-系统">#</a> IO 系统</h4><ol><li>IO 软件<br>驱动程序、用户程序、管理程序、升级补丁</li><li>IO 硬件<br>外部设备、设备控制器、接口、IO 总线</li></ol><h3 id="io-控制方式"><a class="anchor" href="#io-控制方式">#</a> IO 控制方式</h3><ol><li>程序查询方式<br>CPU 通过程序不断查询 IO 设备是否已做好准备</li><li>程序中断方式<br>IO 设备准备就绪向 CPU 发出中断请求才予以响应</li><li>DMA 方式<br>主存和 IO 设备之间有一条直接数据通路，交换信息时无需调用中断软件服务程序</li><li>通道方式<br>系统中设有通道控制部件，每个通道挂载若干外设，主机在执行 IO 命令时，只需启动有关通道，通道将执行通道程序，从而完成 IO 操作</li></ol><h2 id="外部设备"><a class="anchor" href="#外部设备">#</a> 外部设备</h2><h3 id="输入设备"><a class="anchor" href="#输入设备">#</a> 输入设备</h3><h3 id="输出设备"><a class="anchor" href="#输出设备">#</a> 输出设备</h3><h3 id="外存储器"><a class="anchor" href="#外存储器">#</a> 外存储器</h3><h4 id="磁盘存储器"><a class="anchor" href="#磁盘存储器">#</a> 磁盘存储器</h4><h5 id="磁盘设备的组成"><a class="anchor" href="#磁盘设备的组成">#</a> 磁盘设备的组成</h5><ol><li>存储区域</li><li>硬盘存储器的组成</li></ol><h5 id="磁记录原理"><a class="anchor" href="#磁记录原理">#</a> 磁记录原理</h5><h5 id="磁盘的性能指标"><a class="anchor" href="#磁盘的性能指标">#</a> 磁盘的性能指标</h5><ol><li>磁盘的容量</li><li>记录密度</li><li>平均存取时间</li><li>数据传输率</li></ol><h5 id="磁盘地址"><a class="anchor" href="#磁盘地址">#</a> 磁盘地址</h5><table><thead><tr><th>驱动器号</th><th>柱面（磁道）号</th><th>盘面号</th><th>扇区号</th></tr></thead></table><h4 id="磁盘阵列"><a class="anchor" href="#磁盘阵列">#</a> 磁盘阵列</h4><h2 id="io-接口"><a class="anchor" href="#io-接口">#</a> IO 接口</h2><h3 id="io-接口的功能"><a class="anchor" href="#io-接口的功能">#</a> IO 接口的功能</h3><ol><li>主机和外设的通信联络控制</li><li>地址译码和设备选择</li><li>数据缓冲</li><li>信号格式转换</li><li>传送控制命令和状态信息</li></ol><h3 id="io接口的基本结构"><a class="anchor" href="#io接口的基本结构">#</a> IO 接口的基本结构</h3><p>CPU 与外设之间的信息传送，实际上是对接口中的某些寄存器进行读写</p><ul><li>内部接口<br>与系统总线相连，实质上是对内存、CPU 相连，并行传输</li><li>外部接口<br>通过接口电缆与外设相连，数据传输可能是串行方式，需要 IO 接口具有串、并转换功能</li></ul><h3 id="io-接口的类型"><a class="anchor" href="#io-接口的类型">#</a> IO 接口的类型</h3><ol><li>按传送方式：并行接口、串行接口</li><li>按控制方式：程序查询接口、中断接口、DMA 接口</li><li>按功能选择的灵活性：可编程接口、不可编程接口</li></ol><h3 id="io-接口及其编址"><a class="anchor" href="#io-接口及其编址">#</a> IO 接口及其编址</h3><ol><li>统一编址（存储器映射方式）<br>把 IO 端口当做存储器单元进行地址分配<ul><li>优点： 不需要专门的输入输出指令，操作更灵活方便，有较大的地址空间</li><li>缺点：端口占用存储器地址使内存容量变小，输入输出操作执行速度慢</li></ul></li><li>独立编址（IO 映射方式）<br>IO 端口地址与存储器地址无关，需要设置专门的输入输出指令访问端口<ul><li>优点：输入输出指令与存储器指令有明显区别，程序编制清晰，便于理解</li><li>缺点：输入输出指令少，控制复杂</li></ul></li></ol><h2 id="io-方式"><a class="anchor" href="#io-方式">#</a> IO 方式</h2><h3 id="程序查询方式"><a class="anchor" href="#程序查询方式">#</a> 程序查询方式</h3><p>信息交换控制由主机执行程序实现设置一个数据缓冲器（数据端口）和一个设备状态寄存器（设备端口），主机进行 IO 操作时，先发出询问信号，读取设备状态，根据设备状态决定下一步的操作</p><ol><li>CPU 执行初始化程序，预置传送参数</li><li>向 IO 设备发出命令字，启动 IO 设备</li><li>从外设接口读取状态信息</li><li>CPU 不断查询 IO 设备状态，知道外设准备就绪</li><li>传送一次数据</li><li>修改地址和技术请参数</li><li>判断传送是否结束，未结束转到第 3 步</li></ol><h3 id="程序中断方式"><a class="anchor" href="#程序中断方式">#</a> 程序中断方式</h3><p>CPU 在程序中安排好于摸个时刻启动某台外设，然后 CPU 继续执行原来的程序。一旦外设完成数据传送的准备工作，就主动向 CPU 发出中断请求，请求 CPU 为自己服务，在可以响应中断的条件下，CPU 暂停正在执行的程序，转去执行中断服务程序为外服务，在中断完成一次主机与外设之间的数据传送后，CPU 回到原来的程序</p><h4 id="中断处理过程"><a class="anchor" href="#中断处理过程">#</a> 中断处理过程</h4><ol><li>关中断</li><li>保存断点</li><li>引出中断服务程序</li><li>保存现场和屏蔽字</li><li>开中断</li><li>执行中断服务程序</li><li>关中断</li><li>恢复现场和屏蔽字</li><li>开中断、中断返回</li></ol><h3 id="dma-方式直接存储器存取方式"><a class="anchor" href="#dma-方式直接存储器存取方式">#</a> DMA 方式（直接存储器存取方式）</h3><p>完全由硬件进行成组信息传送的控制方式，在外设与内存之间开辟一条 “直接数据通道”，信息不再经过 CPU，降低了 CPU 在传送数据的开销，不需要保护、恢复 CPU 现场等操作</p><ul><li>适用于大批量数据的传送，硬件开销较大</li></ul><h4 id="dma-方式的特点"><a class="anchor" href="#dma-方式的特点">#</a> DMA 方式的特点</h4><ul><li>主存与 CPU 固定联系脱钩，主存既可被 CPU 访问，又可被外设访问</li><li>数据块传送时，主存地址的确定、传送数据的计数等由硬件电路直接实现</li><li>主存中要开辟缓冲区，及时供给和接收外设的数据</li><li>DMA 传送速度快，CPU 和外设并行工作，提高系统的效率</li><li>DMA 在传送开始前要通过程序进行预处理，结束后通过中断方式进行后处理</li></ul><h4 id="dma-的传送方式"><a class="anchor" href="#dma-的传送方式">#</a> DMA 的传送方式</h4><p>同时访问主存可能产生冲突，解决方法：</p><ol><li>停止 CPU 访问主存</li><li>DMA 和 CPU 交替访存</li><li>周期挪用</li></ol><h4 id="dma-的传送过程"><a class="anchor" href="#dma-的传送过程">#</a> DMA 的传送过程</h4><ol><li>预处理<br>CPU 完成一些必要的准备工作</li><li>数据传送<br>完全由 DMA 控制</li><li>后处理<br>DMA 控制器向 CPU 发送中断请求，CPU 执行中断服务程序做 DMA 结束处理</li></ol><div class="tags"><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" rel="tag"><i class="ic i-tag"></i> 计算机组成原理</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-09-01 00:12:03" itemprop="dateModified" datetime="2022-09-01T00:12:03+08:00">2022-09-01</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="yuan 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="yuan 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="yuan 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>yuan <i class="ic i-at"><em>@</em></i>yuan</li><li class="link"><strong>本文链接：</strong> <a href="https://huang-junyuan.github.io/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%90%88%E9%9B%86/" title="组原合集">https://huang-junyuan.github.io/2022/08/24/computer-science/base/计算机组成原理/合集/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipevarprfj20zk0m8npd.jpg" title="计算机系统概述"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 计算机组成原理</span><h3>计算机系统概述</h3></a></div><div class="item right"><a href="/2022/08/24/computer-science/algorithm/base/%E7%AE%97%E6%B3%951/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeudstjqj20zk0m8k3r.jpg" title="算法1"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 计算机科学</span><h3>算法1</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">计算机系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B"><span class="toc-number">1.1.</span> <span class="toc-text">计算机发展历程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%B1%82%E6%AC%A1%E5%8F%8A%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">计算机系统层次及结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90"><span class="toc-number">1.2.1.</span> <span class="toc-text">计算机硬件的基本组成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%9C%BA"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">冯诺依曼机</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">1.3.</span> <span class="toc-text">计算机性能指标</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.</span> <span class="toc-text">指令系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">指令格式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">指令的基本格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%B6%E5%9C%B0%E5%9D%80%E6%8C%87%E4%BB%A4"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">零地址指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E5%9C%B0%E5%9D%80%E6%8C%87%E4%BB%A4"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">一地址指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%9C%B0%E5%9D%80%E6%8C%87%E4%BB%A4"><span class="toc-number">2.1.1.3.</span> <span class="toc-text">二地址指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%9C%B0%E5%9D%80%E6%8C%87%E4%BB%A4"><span class="toc-number">2.1.1.4.</span> <span class="toc-text">三地址指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E5%9C%B0%E5%9D%80%E6%8C%87%E4%BB%A4"><span class="toc-number">2.1.1.5.</span> <span class="toc-text">四地址指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E9%95%BF%E6%93%8D%E4%BD%9C%E7%A0%81%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.2.</span> <span class="toc-text">定长操作码指令格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E6%93%8D%E4%BD%9C%E7%A0%81%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.3.</span> <span class="toc-text">扩展操作码指令格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="toc-number">2.2.</span> <span class="toc-text">指令寻址方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E5%AF%BB%E5%9D%80%E5%92%8C%E6%95%B0%E6%8D%AE%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.1.</span> <span class="toc-text">指令寻址和数据寻址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">指令寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">数据寻址</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="toc-number">2.2.2.</span> <span class="toc-text">常见的数据寻址方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E5%90%AB%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">隐含寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E6%95%B0%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">立即数寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">直接寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B4%E6%8E%A5%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.4.</span> <span class="toc-text">间接寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.5.</span> <span class="toc-text">寄存器寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%E9%97%B4%E6%8E%A5%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.6.</span> <span class="toc-text">寄存器间接寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.7.</span> <span class="toc-text">相对寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E5%9D%80%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.8.</span> <span class="toc-text">基址寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E5%9D%80%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.9.</span> <span class="toc-text">变址寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E6%A0%88%E5%AF%BB%E5%9D%80"><span class="toc-number">2.2.2.10.</span> <span class="toc-text">堆栈寻址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.2.2.11.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cisc%E5%92%8C-risc-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.3.</span> <span class="toc-text">CISC 和 RISC 的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E8%AE%A1%E7%AE%97%E6%9C%BAcisc"><span class="toc-number">2.3.1.</span> <span class="toc-text">复杂指令系统计算机（CISC）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B2%BE%E7%AE%80%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E8%AE%A1%E7%AE%97%E6%9C%BArisc"><span class="toc-number">2.3.2.</span> <span class="toc-text">精简指令系统计算机（RISC）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cisc-%E5%92%8C-risc-%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">2.3.3.</span> <span class="toc-text">CISC 和 RISC 的比较</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">3.</span> <span class="toc-text">中央处理器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#cpu-%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">3.1.</span> <span class="toc-text">CPU 的功能和基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu-%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">3.1.1.</span> <span class="toc-text">CPU 的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu-%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">3.1.2.</span> <span class="toc-text">CPU 的基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E5%99%A8"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">运算器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="toc-number">3.1.2.2.</span> <span class="toc-text">控制器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-number">3.2.</span> <span class="toc-text">指令的执行过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.1.</span> <span class="toc-text">指令周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F%E7%9A%84%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">3.2.2.</span> <span class="toc-text">指令周期的数据流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%96%E6%8C%87%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">取指周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B4%E5%9D%80%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">间址周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">执行周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.2.4.</span> <span class="toc-text">中断周期</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%9A%84%E6%89%A7%E8%A1%8C%E6%96%B9%E6%A1%88"><span class="toc-number">3.2.3.</span> <span class="toc-text">指令的执行方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">单指令周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">多指令周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%96%B9%E6%A1%88"><span class="toc-number">3.2.3.3.</span> <span class="toc-text">流水线方案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%80%9A%E8%B7%AF%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.</span> <span class="toc-text">数据通路的功能和基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%80%9A%E8%B7%AF%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">3.3.1.</span> <span class="toc-text">数据通路的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%80%9A%E8%B7%AF%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.2.</span> <span class="toc-text">数据通路的基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">寄存器之间的数据传送</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E5%AD%98%E4%B8%8E-cpu-%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">主存与 CPU 之间的数据传送</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E7%AE%97%E6%95%B0%E6%88%96%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-number">3.3.2.3.</span> <span class="toc-text">执行算数或逻辑运算</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8C%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">3.4.</span> <span class="toc-text">控制器的功能和工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%8A%9F%E8%83%BD"><span class="toc-number">3.4.1.</span> <span class="toc-text">控制器的结构和功能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-number">3.4.1.1.</span> <span class="toc-text">控制器的主要功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E5%B8%83%E7%BA%BF%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="toc-number">3.4.2.</span> <span class="toc-text">硬布线控制器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cu-%E7%9A%84%E4%BF%A1%E5%8F%B7%E6%9D%A5%E6%BA%90"><span class="toc-number">3.4.2.1.</span> <span class="toc-text">CU 的信号来源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E5%B8%83%E7%BA%BF%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E6%97%B6%E5%BA%8F%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%BE%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.2.2.</span> <span class="toc-text">硬布线控制器的时序系统及微操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cpu-%E7%9A%84%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F"><span class="toc-number">3.4.2.3.</span> <span class="toc-text">CPU 的控制方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="toc-number">3.4.3.</span> <span class="toc-text">微程序控制器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.4.3.1.</span> <span class="toc-text">微程序控制的基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%99%A8%E7%BB%84%E6%88%90%E5%92%8C%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="toc-number">3.4.3.2.</span> <span class="toc-text">微程序控制器组成和工作过程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90"><span class="toc-number">3.4.3.2.1.</span> <span class="toc-text">微程序控制器的基本组成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="toc-number">3.4.3.2.2.</span> <span class="toc-text">微程序控制器的工作过程</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E6%8C%87%E4%BB%A4%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E5%BC%8F"><span class="toc-number">3.4.3.3.</span> <span class="toc-text">微指令的编码方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E6%8C%87%E4%BB%A4%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">3.4.3.4.</span> <span class="toc-text">微指令的格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">3.5.</span> <span class="toc-text">指令流水线</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.5.1.</span> <span class="toc-text">指令流水线的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">3.5.1.1.</span> <span class="toc-text">流水线的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E6%9D%A1%E6%8C%87%E4%BB%A4%E5%9C%A8%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%AD%E6%89%A7%E8%A1%8C%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">3.5.1.1.1.</span> <span class="toc-text">多条指令在处理器中执行的方式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%96%B9%E5%BC%8F%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">3.5.1.2.</span> <span class="toc-text">流水线方式的特点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.5.2.</span> <span class="toc-text">流水线的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E4%BB%B6%E5%8A%9F%E8%83%BD%E7%BA%A7-%E5%A4%84%E7%90%86%E6%9C%BA%E7%BA%A7-%E5%A4%84%E7%90%86%E6%9C%BA%E9%97%B4%E7%BA%A7%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">3.5.2.1.</span> <span class="toc-text">部件功能级、处理机级、处理机间级流水线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%8A%9F%E8%83%BD%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%92%8C%E5%A4%9A%E5%8A%9F%E8%83%BD%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">3.5.2.2.</span> <span class="toc-text">单功能流水线和多功能流水线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%92%8C%E9%9D%99%E6%80%81%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">3.5.2.3.</span> <span class="toc-text">动态流水线和静态流水线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%92%8C%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">3.5.2.4.</span> <span class="toc-text">线性流水线和非线性流水线</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%B1%E5%93%8D%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E5%9B%A0%E7%B4%A0"><span class="toc-number">3.5.3.</span> <span class="toc-text">影响流水线的因素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90%E5%86%B2%E7%AA%81"><span class="toc-number">3.5.3.1.</span> <span class="toc-text">结构相关（资源冲突）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3%E6%95%B0%E6%8D%AE%E5%86%B2%E7%AA%81"><span class="toc-number">3.5.3.2.</span> <span class="toc-text">数据相关（数据冲突）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E7%9B%B8%E5%85%B3%E6%8E%A7%E5%88%B6%E5%86%B2%E7%AA%81"><span class="toc-number">3.5.3.3.</span> <span class="toc-text">控制相关（控制冲突）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">3.5.4.</span> <span class="toc-text">流水线的性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E5%90%9E%E5%90%90%E7%8E%87"><span class="toc-number">3.5.4.1.</span> <span class="toc-text">流水线的吞吐率</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E5%8A%A0%E9%80%9F%E6%AF%94"><span class="toc-number">3.5.4.2.</span> <span class="toc-text">流水线的加速比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E6%95%88%E7%8E%87"><span class="toc-number">3.5.4.3.</span> <span class="toc-text">流水线的效率</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E9%87%8F%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.5.5.</span> <span class="toc-text">超量流水线的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B6%85%E6%A0%87%E9%87%8F%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%8A%80%E6%9C%AF"><span class="toc-number">3.5.5.1.</span> <span class="toc-text">超标量流水线技术</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B6%85%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%8A%80%E6%9C%AF"><span class="toc-number">3.5.5.2.</span> <span class="toc-text">超流水线技术</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B6%85%E9%95%BF%E6%8C%87%E4%BB%A4%E5%AD%97"><span class="toc-number">3.5.5.3.</span> <span class="toc-text">超长指令字</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF"><span class="toc-number">4.</span> <span class="toc-text">总线</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.</span> <span class="toc-text">总线概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">4.1.1.</span> <span class="toc-text">总线基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">4.1.1.1.</span> <span class="toc-text">总线的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">4.1.1.1.1.</span> <span class="toc-text">总线的特点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E8%AE%BE%E5%A4%87"><span class="toc-number">4.1.1.2.</span> <span class="toc-text">总线设备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%89%B9%E6%80%A7"><span class="toc-number">4.1.1.3.</span> <span class="toc-text">总线特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E7%8C%9D%E5%8F%91%E4%BC%A0%E8%BE%93%E6%96%B9%E5%BC%8F"><span class="toc-number">4.1.1.4.</span> <span class="toc-text">总线的猝发传输方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">4.1.2.</span> <span class="toc-text">总线的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%87%E5%86%85%E6%80%BB%E7%BA%BF"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">片内总线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">系统总线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E6%80%BB%E7%BA%BF"><span class="toc-number">4.1.2.3.</span> <span class="toc-text">通信总线</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.</span> <span class="toc-text">系统总线的结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.1.</span> <span class="toc-text">单总线结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.2.</span> <span class="toc-text">双总线结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.3.</span> <span class="toc-text">三总线结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">4.1.4.</span> <span class="toc-text">总线的性能指标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E4%BB%B2%E8%A3%81"><span class="toc-number">4.2.</span> <span class="toc-text">总线仲裁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E4%B8%AD%E4%BB%B2%E8%A3%81%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.1.</span> <span class="toc-text">集中仲裁方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">链式查询方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8%E5%AE%9A%E6%97%B6%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">计数器定时查询方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8B%AC%E7%AB%8B%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.1.3.</span> <span class="toc-text">独立请求方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E4%BB%B2%E8%A3%81%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.2.</span> <span class="toc-text">分布仲裁方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E6%93%8D%E4%BD%9C%E5%92%8C%E5%AE%9A%E6%97%B6"><span class="toc-number">4.3.</span> <span class="toc-text">总线操作和定时</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E4%BC%A0%E8%BE%93%E7%9A%84-4-%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">4.3.1.</span> <span class="toc-text">总线传输的 4 个阶段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E5%AE%9A%E6%97%B6%E6%96%B9%E5%BC%8F"><span class="toc-number">4.3.2.</span> <span class="toc-text">同步定时方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E5%AE%9A%E6%97%B6%E6%96%B9%E5%BC%8F"><span class="toc-number">4.3.3.</span> <span class="toc-text">异步定时方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.</span> <span class="toc-text">输入输出系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#io%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">5.1.</span> <span class="toc-text">IO 系统基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F-2"><span class="toc-number">5.1.1.</span> <span class="toc-text">输入 &#x2F; 输出系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#io-%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">IO 系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F"><span class="toc-number">5.1.2.</span> <span class="toc-text">IO 控制方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E8%AE%BE%E5%A4%87"><span class="toc-number">5.2.</span> <span class="toc-text">外部设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%AE%BE%E5%A4%87"><span class="toc-number">5.2.1.</span> <span class="toc-text">输入设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87"><span class="toc-number">5.2.2.</span> <span class="toc-text">输出设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E5%AD%98%E5%82%A8%E5%99%A8"><span class="toc-number">5.2.3.</span> <span class="toc-text">外存储器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E5%AD%98%E5%82%A8%E5%99%A8"><span class="toc-number">5.2.3.1.</span> <span class="toc-text">磁盘存储器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E8%AE%BE%E5%A4%87%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">5.2.3.1.1.</span> <span class="toc-text">磁盘设备的组成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A3%81%E8%AE%B0%E5%BD%95%E5%8E%9F%E7%90%86"><span class="toc-number">5.2.3.1.2.</span> <span class="toc-text">磁记录原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">5.2.3.1.3.</span> <span class="toc-text">磁盘的性能指标</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E5%9C%B0%E5%9D%80"><span class="toc-number">5.2.3.1.4.</span> <span class="toc-text">磁盘地址</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97"><span class="toc-number">5.2.3.2.</span> <span class="toc-text">磁盘阵列</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#io-%E6%8E%A5%E5%8F%A3"><span class="toc-number">5.3.</span> <span class="toc-text">IO 接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#io-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">5.3.1.</span> <span class="toc-text">IO 接口的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">5.3.2.</span> <span class="toc-text">IO 接口的基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.3.3.</span> <span class="toc-text">IO 接口的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-%E6%8E%A5%E5%8F%A3%E5%8F%8A%E5%85%B6%E7%BC%96%E5%9D%80"><span class="toc-number">5.3.4.</span> <span class="toc-text">IO 接口及其编址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#io-%E6%96%B9%E5%BC%8F"><span class="toc-number">5.4.</span> <span class="toc-text">IO 方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">5.4.1.</span> <span class="toc-text">程序查询方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E4%B8%AD%E6%96%AD%E6%96%B9%E5%BC%8F"><span class="toc-number">5.4.2.</span> <span class="toc-text">程序中断方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B"><span class="toc-number">5.4.2.1.</span> <span class="toc-text">中断处理过程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dma-%E6%96%B9%E5%BC%8F%E7%9B%B4%E6%8E%A5%E5%AD%98%E5%82%A8%E5%99%A8%E5%AD%98%E5%8F%96%E6%96%B9%E5%BC%8F"><span class="toc-number">5.4.3.</span> <span class="toc-text">DMA 方式（直接存储器存取方式）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dma-%E6%96%B9%E5%BC%8F%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">5.4.3.1.</span> <span class="toc-text">DMA 方式的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dma-%E7%9A%84%E4%BC%A0%E9%80%81%E6%96%B9%E5%BC%8F"><span class="toc-number">5.4.3.2.</span> <span class="toc-text">DMA 的传送方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dma-%E7%9A%84%E4%BC%A0%E9%80%81%E8%BF%87%E7%A8%8B"><span class="toc-number">5.4.3.3.</span> <span class="toc-text">DMA 的传送过程</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%90%88%E9%9B%86/" rel="bookmark" title="组原合集">组原合集</a></li><li><a href="/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" rel="bookmark" title="计算机系统概述">计算机系统概述</a></li><li><a href="/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F/" rel="bookmark" title="存储系统">存储系统</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="yuan" data-src="/images/avatar.jpg"><p class="name" itemprop="name">yuan</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">195</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">45</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">39</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item email" data-url="bWFpbHRvOjIwODM2MzU1MjVAcXEuY29t" title="mailto:2083635525@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/08/24/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/08/24/computer-science/algorithm/base/%E7%AE%97%E6%B3%951/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a></div><span><a href="/2022/07/25/ai/base/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%9A%84%E4%BB%8B%E7%BB%8D/" title="神经网络的介绍">神经网络的介绍</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/" title="分类于 nlp">nlp</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/huggingface/" title="分类于 huggingface">huggingface</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/huggingface/Tokenizer%E5%BA%93/" title="分类于 Tokenizer库">Tokenizer库</a></div><span><a href="/2022/11/12/ai/nlp/huggingface/Tokenizers%E5%BA%93/%E6%A0%B9%E6%8D%AE%E5%B7%B2%E6%9C%89%E7%9A%84tokenizer%E8%AE%AD%E7%BB%83%E6%96%B0%E7%9A%84tokenizer/" title="根据已有的tokenizer训练新的tokenizer">根据已有的tokenizer训练新的tokenizer</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/" title="分类于 nlp">nlp</a></div><span><a href="/2022/09/21/ai/nlp/base/nlp-transformer%E6%A6%82%E8%BF%B0/" title="NLP和transformer大类概述">NLP和transformer大类概述</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch/" title="分类于 pytorch">pytorch</a></div><span><a href="/2022/08/24/ai/pytorch/Pytorch%E5%87%BD%E6%95%B0expand-%E8%AF%A6%E8%A7%A3/" title="Pytorch函数expand()详解">Pytorch函数expand()详解</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/huggingface/" title="分类于 huggingface">huggingface</a></div><span><a href="/2022/11/12/ai/nlp/huggingface/%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/note/" title="NLP和transformer大类概述">NLP和transformer大类概述</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/frontend/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/frontend/vue/" title="分类于 vue">vue</a></div><span><a href="/2022/08/26/frontend/vue/pinia/" title="pinia">pinia</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/" title="分类于 nlp">nlp</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/base/" title="分类于 base">base</a></div><span><a href="/2022/07/25/ai/nlp/base/%E5%BE%AA%E7%8E%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="循环神经网络基础">循环神经网络基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/" title="分类于 nlp">nlp</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/huggingface/" title="分类于 huggingface">huggingface</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/nlp/huggingface/%E4%B8%BB%E8%A6%81nlp%E4%BB%BB%E5%8A%A1/" title="分类于 主要nlp任务">主要nlp任务</a></div><span><a href="/2022/11/12/ai/nlp/huggingface/%E4%B8%BB%E8%A6%81%E7%9A%84%20NLP%20%E4%BB%BB%E5%8A%A1/%E6%96%87%E6%9C%AC%E6%91%98%E8%A6%81Summarization/" title="文本摘要 summarize">文本摘要 summarize</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/10/17/computer-science/base/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AE%9E%E9%AA%8C/%E7%AC%94%E8%AE%B0/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/08/30/language/python/Python%E4%B8%AD%E7%9A%84%EF%BC%88%E6%98%9F%E5%8F%B7%EF%BC%89%E5%92%8C(%E5%8F%8C%E6%98%9F%E5%8F%B7%EF%BC%89%E5%AE%8C%E5%85%A8%E8%AF%A6%E8%A7%A3/" title="未命名">未命名</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">yuan @ Mi Manchi</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.4m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">21:37</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/08/24/computer-science/base/计算机组成原理/合集/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>