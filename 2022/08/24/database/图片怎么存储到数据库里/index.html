<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="yuan" href="https://jyuanhust.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="yuan" href="https://jyuanhust.github.io/atom.xml"><link rel="alternate" type="application/json" title="yuan" href="https://jyuanhust.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="数据库"><link rel="canonical" href="https://jyuanhust.github.io/2022/08/24/database/%E5%9B%BE%E7%89%87%E6%80%8E%E4%B9%88%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E9%87%8C/"><title>图片怎么存储到数据库里 - 数据库 | Mi Manchi = yuan = Whatever is worth doing at all is worth doing well</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">图片怎么存储到数据库里</h1><div class="meta"><span class="item" title="创建时间：2022-08-24 22:05:54"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-08-24T22:05:54+08:00">2022-08-24</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>8.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>7 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Mi Manchi</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(30).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(95).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(63).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(67).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(8).webp"></li><li class="item" data-background-image="https://gitee.com/zkz0/image/raw/master/img/img(3).webp"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="item" rel="index" title="分类于 数据库"><span itemprop="name">数据库</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jyuanhust.github.io/2022/08/24/database/%E5%9B%BE%E7%89%87%E6%80%8E%E4%B9%88%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E9%87%8C/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="yuan"><meta itemprop="description" content="Whatever is worth doing at all is worth doing well, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="yuan"></span><div class="body md" itemprop="articleBody"><h1 id="存储图片到数据库里一般有两种方式"><a class="anchor" href="#存储图片到数据库里一般有两种方式">#</a> 存储图片到数据库里一般有两种方式</h1><ul><li>将图片保存的路径存储到数据库（文件存放在服务器的路径或者 ftp 服务器的路径）</li><li>将图片以二进制数据流的形式直接写入数据库字段中（base64 的形式），<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI3NzE2MS9hcnRpY2xlL2RldGFpbHMvMTEwMzA2Njg1P29wc19yZXF1ZXN0X21pc2M9JTI1N0IlMjUyMnJlcXVlc3QlMjU1RmlkJTI1MjIlMjUzQSUyNTIyMTY0Nzg1MDYxNjE2NzgwMjY1NDc4NDA5JTI1MjIlMjUyQyUyNTIyc2NtJTI1MjIlMjUzQSUyNTIyMjAxNDA3MTMuMTMwMTAyMzM0LnBjJTI1NUZibG9nLiUyNTIyJTI1N0QmYW1wO3JlcXVlc3RfaWQ9MTY0Nzg1MDYxNjE2NzgwMjY1NDc4NDA5JmFtcDtiaXpfaWQ9MCZhbXA7dXRtX21lZGl1bT1kaXN0cmlidXRlLnBjX3NlYXJjaF9yZXN1bHQubm9uZS10YXNrLWJsb2ctMn5ibG9nfmZpcnN0X3JhbmtfZWNwbV92MX5yYW5rX3YzMV9lY3BtLTItMTEwMzA2Njg1Lm5vbmVjYXNlJmFtcDt1dG1fdGVybT1iYXNlNjQmYW1wO3NwbT0xMDE4LjIyMjYuMzAwMS40NDUw">base64</span></li></ul><p><strong>图片在数据库的存储用途一般为</strong></p><ul><li>用户上传的头像，文章插图，文章首页图片等等</li><li>其他方面的图片</li></ul><h3 id="一般存储图片有两种做法"><a class="anchor" href="#一般存储图片有两种做法">#</a> 一般存储图片有两种做法：</h3><ul><li>把图片直接以二进制形式存储在数据库中，一般数据库提供一个二进制字段来存储二进制数据。比如 mysql 中有个 blob 字段。oracle 数据库中是 blob 或 bfile 类型</li><li>图片存储在磁盘上（服务器上），数据库字段中保存的是图片在服务器上存储的路径。</li></ul><h2 id="将图片转换成二进制存储"><a class="anchor" href="#将图片转换成二进制存储">#</a> 将图片转换成二进制存储：</h2><p>大体思路：</p><ul><li>将读取到的图片用自己的程序转化成二进制形式。（一般会有内置函数，可以快速转出为 <code>base64</code> 格式）,<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI3NzE2MS9hcnRpY2xlL2RldGFpbHMvMTE2NjUxMjA0P29wc19yZXF1ZXN0X21pc2M9JTI1N0IlMjUyMnJlcXVlc3QlMjU1RmlkJTI1MjIlMjUzQSUyNTIyMTY0Nzg1MDcyMDE2NzgwMzU3MjI0MTc4JTI1MjIlMjUyQyUyNTIyc2NtJTI1MjIlMjUzQSUyNTIyMjAxNDA3MTMuMTMwMTAyMzM0LnBjJTI1NUZibG9nLiUyNTIyJTI1N0QmYW1wO3JlcXVlc3RfaWQ9MTY0Nzg1MDcyMDE2NzgwMzU3MjI0MTc4JmFtcDtiaXpfaWQ9MCZhbXA7dXRtX21lZGl1bT1kaXN0cmlidXRlLnBjX3NlYXJjaF9yZXN1bHQubm9uZS10YXNrLWJsb2ctMn5ibG9nfmZpcnN0X3JhbmtfZWNwbV92MX5yYW5rX3YzMV9lY3BtLTEtMTE2NjUxMjA0Lm5vbmVjYXNlJmFtcDt1dG1fdGVybT1iYXNlNjQmYW1wO3NwbT0xMDE4LjIyMjYuMzAwMS40NDUw">Nodejs 的话可以这样转化</span></li><li>再结合 <code>insert into</code> 语句插入数据表中的 blob 类型字段中去。</li><li>从数据库取出图片展示的时候。则是直接发送图片内容</li><li>然后前端接收到二进制，展示到需要的位置即可</li></ul><h4 id="总结处理代码不是很麻烦使用nodejs很容易就可以处理-但是我们用得更多的是存储图片的路径实际图片是在磁盘上保存的图片二进制放到数据库把数据库的负担弄重了-需要代码的话可以看我nodejs里面对图片的处理"><a class="anchor" href="#总结处理代码不是很麻烦使用nodejs很容易就可以处理-但是我们用得更多的是存储图片的路径实际图片是在磁盘上保存的图片二进制放到数据库把数据库的负担弄重了-需要代码的话可以看我nodejs里面对图片的处理">#</a> 总结：处理代码不是很麻烦，使用 <code>nodejs</code> 很容易就可以处理。但是，我们用得更多的是存储图片的路径，实际图片是在磁盘上保存的 (图片二进制放到数据库，把数据库的负担弄重了)。需要代码的话，可以看我 nodejs 里面对图片的处理。</h4><p>互联网环境中，大访问量，数据库速度和性能方面很重要。一般在数据库存储图片的做法比较少，更多的是将图片路径存储在数据库中，展示图片的时候只需要连接磁盘路径把图片载入进来即可。因为图片是属于大字段。一张图片要占用 1M 甚至几十 M，所以使用数据库很浪费资源，但是如果图片量很小的情况下可以尝试，或者直接在后台开辟空间存储文件（这样也给服务器造成了不小的压力），所以最好还是使用第三方文件上传平台，像七牛云，阿里云，腾讯云等等（坐等打钱）。</p><p>牵扯到一些基本的数据库调优，比如这篇文章分为标题、作者、添加时间、更新时间、文章内容、文章关键字等等。</p><p>文章内容一般是比较长的。经常使用 <code>text</code> 字段去存储。文章的内容就属于大字段。一般文章内容可以拆分到单独一个表中去。不要与文章信息存储在一张表里面。</p><h4 id="个人的理解mysql中一张表的数据是全部在一个数据文件中的-如果大字段的数据也存储在里面-程序展示列表比如文章列表-这个时候根本不需要展示文章内容的-但是仍然会影响速度数据库查找数据其实就是扫描那个数据文件文件容量越小速度就会越快为什么单表的容量在1g-2g的时候基本上要分表了-拆分出去到一张单独的表就是单独的文件了-举一反三相互独立分离的思想不仅在系统开发中用到在现实生活中经常存在的"><a class="anchor" href="#个人的理解mysql中一张表的数据是全部在一个数据文件中的-如果大字段的数据也存储在里面-程序展示列表比如文章列表-这个时候根本不需要展示文章内容的-但是仍然会影响速度数据库查找数据其实就是扫描那个数据文件文件容量越小速度就会越快为什么单表的容量在1g-2g的时候基本上要分表了-拆分出去到一张单独的表就是单独的文件了-举一反三相互独立分离的思想不仅在系统开发中用到在现实生活中经常存在的">#</a> 个人的理解：mysql 中一张表的数据是全部在一个数据文件中的。如果大字段的数据也存储在里面。程序展示列表，比如文章列表。这个时候根本不需要展示文章内容的。但是仍然会影响速度，数据库查找数据其实就是扫描那个数据文件，文件容量越小，速度就会越快 (为什么单表的容量在 1g-2g 的时候基本上要分表了)。拆分出去到一张单独的表，就是单独的文件了。举一反三，相互独立，分离的思想不仅在系统开发中用到，在现实生活中经常存在的。</h4><p><strong>总结</strong>：三种东西永远不要放到数据库里，图片，文件，二进制数据。</p><p><strong>原因</strong></p><ul><li>对数据库的读 / 写的速度永远都赶不上文件系统处理的速度</li><li>数据库备份变的巨大，越来越耗时间</li><li>对文件的访问需要穿越你的应用层和数据库层</li><li>把图片缩略图存到数据库里？很好，那你就不能使用 nginx 或其它类型的轻量级服务器来处理它们了。</li></ul><h3 id="关于mysql中的blob类型"><a class="anchor" href="#关于mysql中的blob类型">#</a> 关于 mysql 中的 blob 类型</h3><p><code>bolb</code> (binary large object) 二进制大对像就像 <code>int</code> 型那样，分为 <code>blob</code> 、 <code>MEDIUMBLOB</code> 、 <code>LONGBLOB</code> 。其实就是从小到大</p><ul><li>blob 容量为 64KB</li><li>MEDIUMBLOB 容量为 16M</li><li>LONGBLOB 容量为 4G。</li></ul><p>说实话，图片用这样子存储用得还真少。使用 java 的序列化函数进行序列化的值，有人存入这个字段中去。</p><h3 id="mysql中blob字段存储图片有个通信大小的设置"><a class="anchor" href="#mysql中blob字段存储图片有个通信大小的设置">#</a> mysql 中 blob 字段存储图片有个通信大小的设置：</h3><p>图片要传输给 mysql 存储起来，那么需要涉及到数据通信。mysql 中有个配置是限制通信数据大小的。</p><p>my.conf 配置文件中的 <code>max_allowed_packet</code> ，mysql 默认的值是 1M。</p><p>好多图片尤其是原始图可能不止 1m。传输的数据 (也就是图片) 超过这个设置大小。结果就会出错</p><p>其实所谓的性能，最关键是数据库性能。因为随着数据库数据量增大，大部分时间耗费是在 php，java 等语言等待数据库返回数据的过程中耗费时间。</p><p>网站访问量大了后，具体的语言不是瓶颈，瓶颈都在数据库。用 c，python，php，java 都能操作 mysql 数据库获取数据。语言之间可能存在速度执行差异，但是其实这种差别已经很小了。至少我觉得，给予用户感觉不到明显。执行相差 0.0001 秒用户感觉并没有明显的区别。可能说，大并发 (很多用户同时访问) 的时候，就会体现到差别了。其实我觉得，大并发访问是数据库瓶颈。等待数据库给予数据。没达到一定级别实在体现不了差别。数据库数据量达到一定级别。语言相差 0.001s 会给予用户体验上的差别。所以，这也是为什么 php 很适合做 web 开发了。解析页面速度快 (解释型语言，不需要编译)。可以用 java 来与数据库打交道获取数据。php 不直接操作数据库，而是调用 java 提供的数据接口，获取数据，马上展示在页面中。这是利用了 php 的页面执行速度快的一个优势。</p><h2 id="二-数据库中保存图片路径"><a class="anchor" href="#二-数据库中保存图片路径">#</a> 二、数据库中保存图片路径</h2><p>一般是这样子的：</p><p>按照年月日生成路径。具体是按照年月日还是按照年月去生成路径，根据自己需要 (不一定是按照日期去生成)。</p><h3 id="理解为什么要分散到多个文件夹中去才是关键涉及到一个原理就明白了"><a class="anchor" href="#理解为什么要分散到多个文件夹中去才是关键涉及到一个原理就明白了">#</a> 理解为什么要分散到多个文件夹中去才是关键，涉及到一个原理就明白了：</h3><ul><li><strong>操作系统</strong>对单个目录的文件数量是有限制的。当文件数量很多的时候。从目录中获取文件的速度就会越来越慢。所以为了保持速度，才要按照固定规则去分散到多个目录中去。</li><li>图片分散到磁盘路径中去。数据库字段中保存的是类似于这样子的”images/2012/09/25/ 1343287394783.jpg”</li><li>原来上传的图片文件名称会重新命名保存，比如按照<strong>时间戳</strong>来生成，1343287394783. jpg。这样子是为了避免文件名重复，多个人往同一个目录上传图片的时候会出现。</li><li>反正用什么样的规则命名图片，只要做到图片名称的唯一性即可。</li><li>比如网站的并发访问量大，目录的生成分得月细越好。比如精确到小时，一个小时都可以是一个文件夹。同时 0.001 秒有两个用户同时在上传图片 (因为那么就会往同一个小时文件夹里面存图片)。因为时间戳是精确到秒的。为了做到图片名称唯一性而不至于覆盖，生成可以在在时间戳后面继续加毫秒微秒等。总结的规律是，并发访问量越大。就越精确就好了。</li></ul><h3 id="有个方面总结一下为什么保存的磁盘路径是images201209251343287394783jpg而不是-images20120925-1343287394783jpg最前面带有斜杠"><a class="anchor" href="#有个方面总结一下为什么保存的磁盘路径是images201209251343287394783jpg而不是-images20120925-1343287394783jpg最前面带有斜杠">#</a> 有个方面总结一下：为什么保存的磁盘路径，是”images/2012/09/25/1343287394783.jpg”，而不是” /images/2012/09/25/ 1343287394783.jpg”(最前面带有斜杠)?</h3><ul><li>连那个斜杠都不要。这里也是做到方便以后系统扩展。</li><li>在页面中需要取出图片路径展示图片的时候，如果是相对路径，则可以使用”./”+”images/2012/09/25/1343287394783.jpg” 进行组装。</li><li>如果需要单独的域名 (比如做 cdn 加速的时候) 域名，<span class="exturl" data-url="aHR0cDovL2ltZzEueHh4LmNvbQ==">img1.xxx.com</span>,img2.xxx.com 这样的域名</li><li>直接组装 “<span class="exturl" data-url="aHR0cDovL2ltZzEueHh4LmNvbS8lRTIlODAlOUQrJUUyJTgwJTlEaW1hZ2VzLzIwMTIvMDkvMjUvMTM0MzI4NzM5NDc4My5qcGclRTIlODAlOUQ=">http://img1.xxx.com/”+”images/2012/09/25/1343287394783.jpg”</span></li><li>当然数据库是可以在前面加斜杠 / 保存起来，/images/2012/09/25/ 1343287394783.jpg</li><li>其实不方便统一。比如相对路径载入图片的时候，则是”.”+” /images/2012/09/25/ 1343287394783.jpg”</li><li>可能我还没体会到坏处，以后会遇到问题的。不过，遵循惯例不加斜杠” images/2012/09/25/ 1343287394783.jpg” 就对了。</li></ul><h3 id="涉及到一个新问题为什么大部分系统都不会域名保存进去像这样子httpwwwxxxcomimages201209251343287394783jpg保存到数据库中"><a class="anchor" href="#涉及到一个新问题为什么大部分系统都不会域名保存进去像这样子httpwwwxxxcomimages201209251343287394783jpg保存到数据库中">#</a> 涉及到一个新问题：为什么大部分系统都不会域名保存进去，像这样子 http://www.xxx.com/images/2012/09/25/1343287394783.jpg 保存到数据库中</h3><ul><li>了解的知识越多，越有利于我们做决定。可能就是一个” 感觉区别不是很大” 的影响下，去做一个决定，反而对后面是比较大的影响的。至少是增加自己的工作量了。</li><li>其实把域名保存进去，也不是什么滔天大罪的事情。但凡是经验丰富的开发人员都不会这样子做。这是一个经验积累出来的，所以上海那个网友也对此并没有明显的概念很正常，他说他不知道 cdn 方面的 (当然觉得存个域名进去没什么大不了的)。需要了解 cdn 知识，什么情况下会用到 cdn 知识。</li><li>虽然是做开发人员，不需要关注运维和服务器之类的知识。不过了解一些就有利于理解了。</li><li>这里涉及到 cdn 加速。关于 cdn 原理 (就是内容分发网络)，我理解其本质就是为了解决距离远产生的速度问题，使用就近的服务。</li><li></li></ul><h3 id="cdn"><a class="anchor" href="#cdn">#</a> CDN</h3><ul><li>从中国请求美国一台服务器上的图片。一般比较慢，因为距离这么远，网络传输是存在损耗的，距离越远，传输的时间就越长。一般会看到浏览器左下角显示：“已响应，正在传输数据…”。这不是服务器本身问题了。实际上服务器早就响应请求，把数据发给客户端，但是网络问题，就一直在传输，没传完了。</li><li>在中国，是南北距离远的问题。南北还会涉及到跨网，南方用户使用电信居多，北方用户网通居多。两个线路需要跨越，会有时间延迟。</li><li>cdn 加速就是适应这个需求产生的：现在不请求美国的服务器。直接在中国安放节点 (节点是比较笼统的词语，可以理解成一台服务器，也可以理解成一个机房，就是一个点嘛)，请求距离近的节点。这样子就不需要那么远的距离了。</li></ul><p>以前在长沙的网站，团购以城市分站的形式。北京和长沙用的是同一套程序。服务器在长沙。北京用户访问北京站的时候，实际上需要远距离访问长沙的服务器。速度怎么都快不起来。跟服务器性能完全没关系。当时不懂这些。不清楚怎么折腾。就想办法去做 js 代码压缩，浏览器缓存之类的。实际上瞎折腾。不是说这些前端优化不重要，哲学上有主次矛盾之分，瓶颈在哪里就去突破哪里。没解决主要矛盾，问题并不会迎刃而解。当时也不是数据库瓶颈。如果去优化数据库。也不会明显改善。就那点数据量。根本就达不到瓶颈。哪里谈得上主要矛盾。随着后来去其他公司工作，接触一些东西，类似不找瓶颈的优化例子发生在身边好几次了，先没找到瓶颈就瞎去优化。我的同事可能是抱着多多益善的心态去做的，但主要矛盾 (技术上说是瓶颈) 没找到，也没改善。</p><p>当时如果没想到是距离问题。也就不会想到 cdn，当时其实我根本不知道 cdn 服务。我只知道，google 这些网站肯定在中国部署的服务器，要不然，中国用户还去访问美国的服务器，那再好的服务器都会速度慢的。</p><p>由于自己搭建 cdn 环境和机房的资金比较大（需要大量的服务器），也需要人力维护。反正一般的公司弄不起，其实根本不划算。淘宝以前用商用的 cdn 服务，后来商用的扛不住了，就搭建了自己的 cdn 网。我不知道新浪有没有自己搭建，但其实我觉得跟淘宝的特点有关，店铺很多，无论是商品还是交易记录总计起来商品很多的图片，图片都是静态的部分，cdn 本来就是用来做静态的 (图片，css，js 等) 请求分发用的。</p><p>之前在网上看到一句话，cdn 网络不是一般的公司玩得起的。</p><p>一般的公司自己搭建 cdn 网络成本高，所以就有商业的 cdn 提供付费租用服务，这是一项很成熟的业务，很多这样的公司，大部分全国性的互联网公司都会使用到 cdn。</p><h3 id="总结cdn服务-对于静态内容是非常适合的-所以像商品图片随着访问量大了后租用cdn服务只需要把图片上传到他们的服务器上去"><a class="anchor" href="#总结cdn服务-对于静态内容是非常适合的-所以像商品图片随着访问量大了后租用cdn服务只需要把图片上传到他们的服务器上去">#</a> 总结：cdn 服务。对于静态内容是非常适合的。所以像商品图片，随着访问量大了后，租用 cdn 服务，只需要把图片上传到他们的服务器上去。</h3><p>例子：北京访问长沙服务器，距离太远。我们完全可以把商品图片，放到北京的云服务（我们觉得现在提供给网站使用的云存储其实就是 cdn，给网站提供分流和就近访问）上去。这样子北京用户访问的时候，实际上图片就是就近获取。不需要很长距离的传输。</p><p>自己用一个域名 img.xxx.com 来载入图片。这个域名解析到北京的云服务上去。</p><p>做法：数据库中保存的是” images/2012/09/25/1343287394783.jpg”,</p><p>这些图片实际上不存储在 web 服务器上。上传到北京的 cdn 服务器上去。</p><p>我从数据库取出来，直接”<span class="exturl" data-url="aHR0cDovL2ltZy54eHguY29tLyVFMiU4MCU5RCslRTIlODAlOUQ=">img.xxx.com/”+”</span> images/2012/09/25/1343287394783.jpg”</p><p>比如如果还有多个，<span class="exturl" data-url="aHR0cDovL3huLS1pbWcxLXVrMWc3d2w1NGIueHguY29t">就命名 img1.xx.com</span>、<span class="exturl" data-url="aHR0cDovL2ltZzIueHguY29t">img2.xx.com</span></p><p>反正可以随便。所以如果把域名直接保存进去。就显得很麻烦了。迁移麻烦。</p><p>像淘宝，凡客，亚马逊这些电子商务网站，我们看到请求的时候，下面往往会有</p><p><span class="exturl" data-url="aHR0cDovL2ltZzEueHh4LmNkbi5jb20=">img1.xxx.cdn.com</span></p><p><span class="exturl" data-url="aHR0cDovL2ltZzIueHh4LmNkbi5jb20=">img2.xxx.cdn.com</span></p><p>其实他们保存在数据库中的是相对路径。有些是不需要在数据库保存的，缩略图可以实时访问的时候用程序生成 (节省很多存储空间)</p><p>实际上，把域名保存在数据库中，非常不利于系统迁移。一旦换个域名的话，原来保存在数据库中的是 “<span class="exturl" data-url="aHR0cDovL3d3dy5hYmMub20vaW1hZ2VzL3h4eHh4eCVFMiU4MCU5QywlRTUlOUIlQTAlRTQlQjglQkElRTglQjclQUYlRTUlQkUlODQlRTklODMlQkQlRTUlOUMlQTglRTYlOTUlQjAlRTYlOEQlQUUlRTUlQkElOTMlRTQlQjglQUQlRTUlODYlOTklRTYlQUQlQkIlRTQlQkElODYlRTMlODAlODIlRTQlQjglOEIlRTUlOUIlOUUlRTYlOEQlQTIlRTQlQjglQUElRTUlOUYlOUYlRTUlOTAlOEQlRTUlQjAlQjElRTclOTQlQTglRTQlQjglOEQlRTQlQkElODYlRTQlQkElODYlRTMlODAlODIlRTklODIlQTMlRTQlQjglQUElRTYlOTclQjYlRTUlODAlOTklRTglODclQUElRTUlQjclQjElRTUlOEUlQkIlRTUlODYlOTlzcWwlRTglQUYlQUQlRTUlOEYlQTUlRTYlODklQjklRTklODclOEYlRTYlOUIlQjQlRTYlOTYlQjAlRTUlQUQlOTclRTYlQUUlQjUlRTUlOTAlQTclRTMlODAlODI=">www.abc.om/images/xxxxxx“, 因为路径都在数据库中写死了。下回换个域名就用不了了。那个时候自己去写 sql 语句批量更新字段吧。</span></p><p>几个术语：</p><ul><li>ICP（Internet Content Provider），也就是网络内容提供者。联想到我们运营一个网站需要 icp 备案了吗？你自己运营网站，你就是 icp 服务商</li><li>IDC（Internet Data Center)，互联网数据中心。IDC 的概念，目前还没有一个统一的标准。通俗点，就是提供机房托管 (服务器租用和托管)，域名注册之类的。</li></ul><h3 id="关于淘宝的图片存储"><a class="anchor" href="#关于淘宝的图片存储">#</a> 关于淘宝的图片存储</h3><p>了解到：淘宝以前使用了商用的存储。但是没法满足需求。据说，到 2010 年，淘宝网后端保存着 286 亿张图片。商用的系统系统没法满足需求的时候。他们就自己开发了一个 tfs（Taobao File System）。大规模的小文件在磁盘上读取，需要磁盘磁头频繁的寻道和换道。大并发情况下和大量的操作确实很麻烦。其实借鉴了当时 google 公布的 gfs（Google File System）设计论文。google 有相册服务。为每个用户提供上传图片存储。</p><p>有个观点比较好：对于老板们而言，往往觉得，用钱能解决的都不算问题。但问题在于，你遇到的问题，别人都没遇到过。那这个时候你就没有经验可以参考或者直接拿来使用。只有自己参考一些思路去创造技术了。</p><h2 id="三-关于图片进行云存储cdn加速"><a class="anchor" href="#三-关于图片进行云存储cdn加速">#</a> 三、关于图片进行云存储 (cdn 加速)</h2><p>曾经看过这个，这个是比较适合创业公司的。价格相对便宜 <code>https://www.upyun.com/</code></p><p>其实，现在的云存储本质就是一个 cdn 服务商。你把静态的图片上传到他提供的服务器上去 (ftp 方式上传或者 api 形式编写程序上传)。他为你做就近节点访问。</p><p>计费方式：按照流量付费，99 元购买 100g。怎么算流量。每次访问文件的大小累加，比如一个 1m 的文件，访问一次流量就加 1m。</p><p>我个人理解，对于图片的量不大的情况下，使用这种云服务，好处不是节省存储空间。你自己的服务器 100g 的空间可能创业型公司都没用完，不是什么存储空间不够用，然后去用云存储。以前我对 cdn 比较模糊，有这么点理解，或者以为是分散网站 web 服务器流压力，服务器分流。这些好处是有的。但是，只要理解了 cdn 产生的背景和解决的关键问题后，就会明白云存储关键好处在于：给用户就近节点访问，加速。</p><p>我觉得，如果不是出于这个考虑，或者达不到这样的目的。用其他方案也完全可以替代。何必使用云存储呢？就是你无非有实力做到全国多个节点去部署服务，才需要租用 cdn 来帮你，毕竟他们是规模产生的效益，专注于解决这个领域。</p><p>使用腾讯云、阿里云、华为云不香吗？</p><p>下面是具体存储方法代码：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre>一、保存图片的上传路径到数据库：</pre></td></tr><tr><td data-num="2"></td><td><pre>　　string uppath<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// 用于保存图片上传路径</span></pre></td></tr><tr><td data-num="3"></td><td><pre>　　<span class="token comment">// 获取上传图片的文件名</span></pre></td></tr><tr><td data-num="4"></td><td><pre>　　string fileFullname <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">this<span class="token punctuation">.</span></span>FileUpload1<span class="token punctuation">.</span>FileName</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>　　<span class="token comment">// 获取图片上传的时间，以时间作为图片的名字可以防止图片重名</span></pre></td></tr><tr><td data-num="6"></td><td><pre>　　string dataName <span class="token operator">=</span> <span class="token class-name">DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>ToString</span><span class="token punctuation">(</span><span class="token string">"yyyyMMddhhmmss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>　　<span class="token comment">// 获取图片的文件名（不含扩展名）</span></pre></td></tr><tr><td data-num="8"></td><td><pre>　　string fileName <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">fileFullname<span class="token punctuation">.</span></span>Substring</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">fileFullname<span class="token punctuation">.</span></span>LastIndexOf</span><span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>　　<span class="token comment">// 获取图片扩展名</span></pre></td></tr><tr><td data-num="10"></td><td><pre>　　string type <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">fileFullname<span class="token punctuation">.</span></span>Substring</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">fileFullname<span class="token punctuation">.</span></span>LastIndexOf</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>　　<span class="token comment">// 判断是否为要求的格式</span></pre></td></tr><tr><td data-num="12"></td><td><pre>　　<span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">"bmp"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"jpg"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"jpeg"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"gif"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"JPG"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"JPEG"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"BMP"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"GIF"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>　　<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>　　 <span class="token comment">// 将图片上传到指定路径的文件夹</span></pre></td></tr><tr><td data-num="15"></td><td><pre>　　 <span class="token class-name"><span class="token namespace">this<span class="token punctuation">.</span></span>FileUpload1<span class="token punctuation">.</span>SaveAs</span><span class="token punctuation">(</span><span class="token class-name">Server<span class="token punctuation">.</span>MapPath</span><span class="token punctuation">(</span><span class="token string">"~/upload"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\\"</span> <span class="token operator">+</span> dataName <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>　　 <span class="token comment">// 将路径保存到变量，将该变量的值保存到数据库相应字段即可</span></pre></td></tr><tr><td data-num="17"></td><td><pre>　　 uppath <span class="token operator">=</span> <span class="token string">"~/upload/"</span> <span class="token operator">+</span> dataName <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> type<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>　　<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>　　二、将图片以二进制数据流直接保存到数据库：</pre></td></tr><tr><td data-num="20"></td><td><pre>　　引用如下命名空间：</pre></td></tr><tr><td data-num="21"></td><td><pre>　　using <span class="token class-name">System<span class="token punctuation">.</span>Drawing</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>　　using <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token constant">IO</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>　　using <span class="token class-name">System<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>SqlClient</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>　　设计数据库时，表中相应的字段类型为iamge</pre></td></tr><tr><td data-num="25"></td><td><pre>　　保存：</pre></td></tr><tr><td data-num="26"></td><td><pre>　　<span class="token comment">// 图片路径</span></pre></td></tr><tr><td data-num="27"></td><td><pre>　　string strPath <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">this<span class="token punctuation">.</span></span>FileUpload1<span class="token punctuation">.</span>PostedFile<span class="token punctuation">.</span>FileName<span class="token punctuation">.</span>ToString</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>　　<span class="token comment">// 读取图片</span></pre></td></tr><tr><td data-num="29"></td><td><pre>　　<span class="token class-name">FileStream</span> fs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>FileStream</span><span class="token punctuation">(</span>strPath<span class="token punctuation">,</span> <span class="token class-name">FileMode<span class="token punctuation">.</span>Open</span><span class="token punctuation">,</span> <span class="token class-name">FileAccess<span class="token punctuation">.</span>Read</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>　　<span class="token class-name">BinaryReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BinaryReader</span><span class="token punctuation">(</span>fs<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>　　<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> photo <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">br<span class="token punctuation">.</span></span>ReadBytes</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token class-name"><span class="token namespace">fs<span class="token punctuation">.</span></span>Length</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>　　<span class="token class-name"><span class="token namespace">br<span class="token punctuation">.</span></span>Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>　　<span class="token class-name"><span class="token namespace">fs<span class="token punctuation">.</span></span>Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>　　<span class="token comment">// 存入</span></pre></td></tr><tr><td data-num="35"></td><td><pre>　　<span class="token class-name">SqlConnection</span> myConn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlConnection</span><span class="token punctuation">(</span><span class="token string">"Data Source=.;Initial Catalog=stumanage;User ID=sa;Password=123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>　　string strComm <span class="token operator">=</span> <span class="token string">" INSERT INTO stuInfo(stuid,stuimage) VALUES(107,@photoBinary )"</span><span class="token punctuation">;</span><span class="token comment">// 操作数据库语句根据需要修改</span></pre></td></tr><tr><td data-num="37"></td><td><pre>　　<span class="token class-name">SqlCommand</span> myComm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlCommand</span><span class="token punctuation">(</span>strComm<span class="token punctuation">,</span> myConn<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>　　<span class="token class-name"><span class="token namespace">myComm<span class="token punctuation">.</span></span>Parameters<span class="token punctuation">.</span>Add</span><span class="token punctuation">(</span><span class="token string">"@photoBinary"</span><span class="token punctuation">,</span> <span class="token class-name">SqlDbType<span class="token punctuation">.</span>Binary</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">photo<span class="token punctuation">.</span></span>Length</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>　　<span class="token class-name"><span class="token namespace">myComm<span class="token punctuation">.</span></span>Parameters</span><span class="token punctuation">[</span><span class="token string">"@photoBinary"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value <span class="token operator">=</span> photo<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>　　<span class="token class-name"><span class="token namespace">myConn<span class="token punctuation">.</span></span>Open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>　　<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">myComm<span class="token punctuation">.</span></span>ExecuteNonQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="42"></td><td><pre>　　<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>　　 <span class="token class-name"><span class="token namespace">this<span class="token punctuation">.</span></span>Label1<span class="token punctuation">.</span>Text</span> <span class="token operator">=</span> <span class="token string">"ok"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>　　<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>　　<span class="token class-name"><span class="token namespace">myConn<span class="token punctuation">.</span></span>Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>　　读取：</pre></td></tr><tr><td data-num="47"></td><td><pre>　　<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>连接数据库字符串省略</pre></td></tr><tr><td data-num="48"></td><td><pre>　　<span class="token class-name"><span class="token namespace">mycon<span class="token punctuation">.</span></span>Open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>　　<span class="token class-name">SqlCommand</span> command <span class="token operator">=</span> <span class="token keyword">new</span></pre></td></tr><tr><td data-num="50"></td><td><pre>　　<span class="token class-name">SqlCommand</span><span class="token punctuation">(</span><span class="token string">"select stuimage from stuInfo where stuid=107"</span><span class="token punctuation">,</span> mycon<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 查询语句根据需要修改</span></pre></td></tr><tr><td data-num="51"></td><td><pre>　　<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> image <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token class-name"><span class="token namespace">command<span class="token punctuation">.</span></span>ExecuteScalar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>　　<span class="token comment">// 指定从数据库读取出来的图片的保存路径及名字</span></pre></td></tr><tr><td data-num="53"></td><td><pre>　　string strPath <span class="token operator">=</span> <span class="token string">"~/Upload/zhangsan.JPG"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>　　string strPhotoPath <span class="token operator">=</span> <span class="token class-name">Server<span class="token punctuation">.</span>MapPath</span><span class="token punctuation">(</span>strPath<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>　　<span class="token comment">// 按上面的路径与名字保存图片文件</span></pre></td></tr><tr><td data-num="56"></td><td><pre>　　<span class="token class-name">BinaryWriter</span> bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BinaryWriter</span><span class="token punctuation">(</span><span class="token class-name">File<span class="token punctuation">.</span>Open</span><span class="token punctuation">(</span>strPhotoPath<span class="token punctuation">,</span><span class="token class-name">FileMode<span class="token punctuation">.</span>OpenOrCreate</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>　　<span class="token class-name"><span class="token namespace">bw<span class="token punctuation">.</span></span>Write</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>　　<span class="token class-name"><span class="token namespace">bw<span class="token punctuation">.</span></span>Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>　　<span class="token comment">// 显示图片</span></pre></td></tr><tr><td data-num="60"></td><td><pre>　　<span class="token class-name"><span class="token namespace">this<span class="token punctuation">.</span></span>Image1<span class="token punctuation">.</span>ImageUrl</span> <span class="token operator">=</span> strPath<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>　　采用这两种方式可以根据实际需求灵活选择。</pre></td></tr></table></figure><div class="tags"><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"><i class="ic i-tag"></i> 数据库</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-08-24 22:08:37" itemprop="dateModified" datetime="2022-08-24T22:08:37+08:00">2022-08-24</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="yuan 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="yuan 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="yuan 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>yuan <i class="ic i-at"><em>@</em></i>yuan</li><li class="link"><strong>本文链接：</strong> <a href="https://jyuanhust.github.io/2022/08/24/database/%E5%9B%BE%E7%89%87%E6%80%8E%E4%B9%88%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E9%87%8C/" title="图片怎么存储到数据库里">https://jyuanhust.github.io/2022/08/24/database/图片怎么存储到数据库里/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/08/24/computer-science/base/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/%E5%AE%9E%E8%AE%AD1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8%E4%B8%8E%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F%E7%9A%84%E5%AE%9A%E4%B9%89Create/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;zkz0&#x2F;image&#x2F;raw&#x2F;master&#x2F;img&#x2F;img(15).webp" title="实训1-数据库和表与完整性约束的定义Create"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 数据库系统原理实践MySQL</span><h3>实训1-数据库和表与完整性约束的定义Create</h3></a></div><div class="item right"><a href="/2022/08/24/ai/cv/%E7%AE%80%E5%8D%95%E8%AE%A1%E7%AE%97%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%9D%87%E5%80%BC%E5%92%8C%E6%96%B9%E5%B7%AE/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;zkz0&#x2F;image&#x2F;raw&#x2F;master&#x2F;img&#x2F;img(59).webp" title="简单计算图片数据集的均值和方差"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> cv</span><h3>简单计算图片数据集的均值和方差</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%9B%BE%E7%89%87%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E9%87%8C%E4%B8%80%E8%88%AC%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">存储图片到数据库里一般有两种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E5%AD%98%E5%82%A8%E5%9B%BE%E7%89%87%E6%9C%89%E4%B8%A4%E7%A7%8D%E5%81%9A%E6%B3%95"><span class="toc-number">1.0.1.</span> <span class="toc-text">一般存储图片有两种做法：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2%E6%88%90%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AD%98%E5%82%A8"><span class="toc-number">1.1.</span> <span class="toc-text">将图片转换成二进制存储：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%81%E4%B8%8D%E6%98%AF%E5%BE%88%E9%BA%BB%E7%83%A6%E4%BD%BF%E7%94%A8nodejs%E5%BE%88%E5%AE%B9%E6%98%93%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%A4%84%E7%90%86-%E4%BD%86%E6%98%AF%E6%88%91%E4%BB%AC%E7%94%A8%E5%BE%97%E6%9B%B4%E5%A4%9A%E7%9A%84%E6%98%AF%E5%AD%98%E5%82%A8%E5%9B%BE%E7%89%87%E7%9A%84%E8%B7%AF%E5%BE%84%E5%AE%9E%E9%99%85%E5%9B%BE%E7%89%87%E6%98%AF%E5%9C%A8%E7%A3%81%E7%9B%98%E4%B8%8A%E4%BF%9D%E5%AD%98%E7%9A%84%E5%9B%BE%E7%89%87%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%94%BE%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%B4%9F%E6%8B%85%E5%BC%84%E9%87%8D%E4%BA%86-%E9%9C%80%E8%A6%81%E4%BB%A3%E7%A0%81%E7%9A%84%E8%AF%9D%E5%8F%AF%E4%BB%A5%E7%9C%8B%E6%88%91nodejs%E9%87%8C%E9%9D%A2%E5%AF%B9%E5%9B%BE%E7%89%87%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">总结：处理代码不是很麻烦，使用 nodejs 很容易就可以处理。但是，我们用得更多的是存储图片的路径，实际图片是在磁盘上保存的 (图片二进制放到数据库，把数据库的负担弄重了)。需要代码的话，可以看我 nodejs 里面对图片的处理。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E7%9A%84%E7%90%86%E8%A7%A3mysql%E4%B8%AD%E4%B8%80%E5%BC%A0%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%85%A8%E9%83%A8%E5%9C%A8%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84-%E5%A6%82%E6%9E%9C%E5%A4%A7%E5%AD%97%E6%AE%B5%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B9%9F%E5%AD%98%E5%82%A8%E5%9C%A8%E9%87%8C%E9%9D%A2-%E7%A8%8B%E5%BA%8F%E5%B1%95%E7%A4%BA%E5%88%97%E8%A1%A8%E6%AF%94%E5%A6%82%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8-%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99%E6%A0%B9%E6%9C%AC%E4%B8%8D%E9%9C%80%E8%A6%81%E5%B1%95%E7%A4%BA%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9%E7%9A%84-%E4%BD%86%E6%98%AF%E4%BB%8D%E7%84%B6%E4%BC%9A%E5%BD%B1%E5%93%8D%E9%80%9F%E5%BA%A6%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E6%89%AB%E6%8F%8F%E9%82%A3%E4%B8%AA%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E6%96%87%E4%BB%B6%E5%AE%B9%E9%87%8F%E8%B6%8A%E5%B0%8F%E9%80%9F%E5%BA%A6%E5%B0%B1%E4%BC%9A%E8%B6%8A%E5%BF%AB%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8D%95%E8%A1%A8%E7%9A%84%E5%AE%B9%E9%87%8F%E5%9C%A81g-2g%E7%9A%84%E6%97%B6%E5%80%99%E5%9F%BA%E6%9C%AC%E4%B8%8A%E8%A6%81%E5%88%86%E8%A1%A8%E4%BA%86-%E6%8B%86%E5%88%86%E5%87%BA%E5%8E%BB%E5%88%B0%E4%B8%80%E5%BC%A0%E5%8D%95%E7%8B%AC%E7%9A%84%E8%A1%A8%E5%B0%B1%E6%98%AF%E5%8D%95%E7%8B%AC%E7%9A%84%E6%96%87%E4%BB%B6%E4%BA%86-%E4%B8%BE%E4%B8%80%E5%8F%8D%E4%B8%89%E7%9B%B8%E4%BA%92%E7%8B%AC%E7%AB%8B%E5%88%86%E7%A6%BB%E7%9A%84%E6%80%9D%E6%83%B3%E4%B8%8D%E4%BB%85%E5%9C%A8%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%94%A8%E5%88%B0%E5%9C%A8%E7%8E%B0%E5%AE%9E%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%BB%8F%E5%B8%B8%E5%AD%98%E5%9C%A8%E7%9A%84"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">个人的理解：mysql 中一张表的数据是全部在一个数据文件中的。如果大字段的数据也存储在里面。程序展示列表，比如文章列表。这个时候根本不需要展示文章内容的。但是仍然会影响速度，数据库查找数据其实就是扫描那个数据文件，文件容量越小，速度就会越快 (为什么单表的容量在 1g-2g 的时候基本上要分表了)。拆分出去到一张单独的表，就是单独的文件了。举一反三，相互独立，分离的思想不仅在系统开发中用到，在现实生活中经常存在的。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Emysql%E4%B8%AD%E7%9A%84blob%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">关于 mysql 中的 blob 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E4%B8%ADblob%E5%AD%97%E6%AE%B5%E5%AD%98%E5%82%A8%E5%9B%BE%E7%89%87%E6%9C%89%E4%B8%AA%E9%80%9A%E4%BF%A1%E5%A4%A7%E5%B0%8F%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.1.2.</span> <span class="toc-text">mysql 中 blob 字段存储图片有个通信大小的设置：</span></a></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84"><span class="toc-number">1.2.</span> <span class="toc-text">二、数据库中保存图片路径</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%88%86%E6%95%A3%E5%88%B0%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E5%8E%BB%E6%89%8D%E6%98%AF%E5%85%B3%E9%94%AE%E6%B6%89%E5%8F%8A%E5%88%B0%E4%B8%80%E4%B8%AA%E5%8E%9F%E7%90%86%E5%B0%B1%E6%98%8E%E7%99%BD%E4%BA%86"><span class="toc-number">1.2.1.</span> <span class="toc-text">理解为什么要分散到多个文件夹中去才是关键，涉及到一个原理就明白了：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E4%B8%AA%E6%96%B9%E9%9D%A2%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BF%9D%E5%AD%98%E7%9A%84%E7%A3%81%E7%9B%98%E8%B7%AF%E5%BE%84%E6%98%AFimages201209251343287394783jpg%E8%80%8C%E4%B8%8D%E6%98%AF-images20120925-1343287394783jpg%E6%9C%80%E5%89%8D%E9%9D%A2%E5%B8%A6%E6%9C%89%E6%96%9C%E6%9D%A0"><span class="toc-number">1.2.2.</span> <span class="toc-text">有个方面总结一下：为什么保存的磁盘路径，是”images&#x2F;2012&#x2F;09&#x2F;25&#x2F;1343287394783.jpg”，而不是” &#x2F;images&#x2F;2012&#x2F;09&#x2F;25&#x2F; 1343287394783.jpg”(最前面带有斜杠)?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%89%E5%8F%8A%E5%88%B0%E4%B8%80%E4%B8%AA%E6%96%B0%E9%97%AE%E9%A2%98%E4%B8%BA%E4%BB%80%E4%B9%88%E5%A4%A7%E9%83%A8%E5%88%86%E7%B3%BB%E7%BB%9F%E9%83%BD%E4%B8%8D%E4%BC%9A%E5%9F%9F%E5%90%8D%E4%BF%9D%E5%AD%98%E8%BF%9B%E5%8E%BB%E5%83%8F%E8%BF%99%E6%A0%B7%E5%AD%90httpwwwxxxcomimages201209251343287394783jpg%E4%BF%9D%E5%AD%98%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD"><span class="toc-number">1.2.3.</span> <span class="toc-text">涉及到一个新问题：为什么大部分系统都不会域名保存进去，像这样子 http:&#x2F;&#x2F;www.xxx.com&#x2F;images&#x2F;2012&#x2F;09&#x2F;25&#x2F;1343287394783.jpg 保存到数据库中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cdn"><span class="toc-number">1.2.4.</span> <span class="toc-text">CDN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93cdn%E6%9C%8D%E5%8A%A1-%E5%AF%B9%E4%BA%8E%E9%9D%99%E6%80%81%E5%86%85%E5%AE%B9%E6%98%AF%E9%9D%9E%E5%B8%B8%E9%80%82%E5%90%88%E7%9A%84-%E6%89%80%E4%BB%A5%E5%83%8F%E5%95%86%E5%93%81%E5%9B%BE%E7%89%87%E9%9A%8F%E7%9D%80%E8%AE%BF%E9%97%AE%E9%87%8F%E5%A4%A7%E4%BA%86%E5%90%8E%E7%A7%9F%E7%94%A8cdn%E6%9C%8D%E5%8A%A1%E5%8F%AA%E9%9C%80%E8%A6%81%E6%8A%8A%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%88%B0%E4%BB%96%E4%BB%AC%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E5%8E%BB"><span class="toc-number">1.2.5.</span> <span class="toc-text">总结：cdn 服务。对于静态内容是非常适合的。所以像商品图片，随着访问量大了后，租用 cdn 服务，只需要把图片上传到他们的服务器上去。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%B7%98%E5%AE%9D%E7%9A%84%E5%9B%BE%E7%89%87%E5%AD%98%E5%82%A8"><span class="toc-number">1.2.6.</span> <span class="toc-text">关于淘宝的图片存储</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E5%85%B3%E4%BA%8E%E5%9B%BE%E7%89%87%E8%BF%9B%E8%A1%8C%E4%BA%91%E5%AD%98%E5%82%A8cdn%E5%8A%A0%E9%80%9F"><span class="toc-number">1.3.</span> <span class="toc-text">三、关于图片进行云存储 (cdn 加速)</span></a></li></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2022/07/24/database/MongoDB/" rel="bookmark" title="MongoDB">MongoDB</a></li><li><a href="/2022/07/26/database/Python%E6%93%8D%E4%BD%9CMongoDB/" rel="bookmark" title="Python操作MongoDB">Python操作MongoDB</a></li><li class="active"><a href="/2022/08/24/database/%E5%9B%BE%E7%89%87%E6%80%8E%E4%B9%88%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E9%87%8C/" rel="bookmark" title="图片怎么存储到数据库里">图片怎么存储到数据库里</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="yuan" data-src="/images/avatar.jpg"><p class="name" itemprop="name">yuan</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">429</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">72</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">61</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item email" data-url="bWFpbHRvOjIwODM2MzU1MjVAcXEuY29t" title="mailto:2083635525@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>链接</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/08/24/computer-science/base/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/%E5%AE%9E%E8%AE%AD1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8%E4%B8%8E%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F%E7%9A%84%E5%AE%9A%E4%B9%89Create/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/08/24/ai/cv/%E7%AE%80%E5%8D%95%E8%AE%A1%E7%AE%97%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%9D%87%E5%80%BC%E5%92%8C%E6%96%B9%E5%B7%AE/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/backend/MyBatisPlus/" title="分类于 MyBatisPlus">MyBatisPlus</a></div><span><a href="/2022/11/12/backend/Mybatisplus/MyBatisPlus/" title="MyBatisPlus">MyBatisPlus</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" title="分类于 pytorch深度学习">pytorch深度学习</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter-linear-networks/" title="分类于 chapter_linear-networks">chapter_linear-networks</a></div><span><a href="/2023/02/15/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter_linear-networks/linear-regression-concise/" title="linear-regression-concise">linear-regression-concise</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/24/frontend/javascript/JavaScript%E6%96%87%E6%A1%A3%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" title="分类于 pytorch深度学习">pytorch深度学习</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter-preliminaries/" title="分类于 chapter_preliminaries">chapter_preliminaries</a></div><span><a href="/2023/02/15/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter_preliminaries/lookup-api/" title="lookup-api">lookup-api</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/08/24/computer-science/algorithm/%E5%9B%BE%E8%A7%A3%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8F%8C%E6%8C%87%E9%92%88/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 computer-science">computer-science</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/" title="分类于 数据库系统原理实践MySQL">数据库系统原理实践MySQL</a></div><span><a href="/2022/08/24/computer-science/base/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/%E5%AE%9E%E8%AE%AD1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8%E4%B8%8E%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F%E7%9A%84%E5%AE%9A%E4%B9%89Create/" title="实训1-数据库和表与完整性约束的定义Create">实训1-数据库和表与完整性约束的定义Create</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/frontend/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/frontend/Node-js/" title="分类于 Node.js">Node.js</a></div><span><a href="/2022/09/08/frontend/Node/%E5%88%9D%E8%AF%86Node%E5%8F%8A%E5%85%B6%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97/" title="初识Node及其内置模块">初识Node及其内置模块</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ai/" title="分类于 ai">ai</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" title="分类于 pytorch深度学习">pytorch深度学习</a> <i class="ic i-angle-right"></i> <a href="/categories/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter-attention-mechanisms/" title="分类于 chapter_attention-mechanisms">chapter_attention-mechanisms</a></div><span><a href="/2023/02/15/ai/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/chapter_attention-mechanisms/transformer/" title="transformer">transformer</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/06/24/frontend/base/async_%E4%B8%8E_await_%E7%9A%84%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/" title="未命名">未命名</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 computer-science">computer-science</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/" title="分类于 数据库系统原理实践MySQL">数据库系统原理实践MySQL</a></div><span><a href="/2022/08/24/computer-science/base/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5MySQL/%E5%AE%9E%E8%AE%AD12-%E5%A4%87%E4%BB%BD%E6%97%A5%E5%BF%97-%E4%BB%8B%E8%B4%A8%E6%95%85%E9%9A%9C%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D/" title="实训12-备份日志-介质故障与数据库恢复">实训12-备份日志-介质故障与数据库恢复</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">yuan @ Mi Manchi</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">2.9m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">44:38</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/08/24/database/图片怎么存储到数据库里/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>